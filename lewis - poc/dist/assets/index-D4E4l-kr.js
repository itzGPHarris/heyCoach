var d6=Object.defineProperty;var h6=(t,e,n)=>e in t?d6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fh=(t,e,n)=>h6(t,typeof e!="symbol"?e+"":e,n);function f6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function VM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rx={exports:{}},Bh={},Ix={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function p6(){if(rI)return Tt;rI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=f&&B[f]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function E(B,Z,ue){this.props=B,this.context=Z,this.refs=y,this.updater=ue||g}E.prototype.isReactComponent={},E.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function S(){}S.prototype=E.prototype;function w(B,Z,ue){this.props=B,this.context=Z,this.refs=y,this.updater=ue||g}var T=w.prototype=new S;T.constructor=w,v(T,E.prototype),T.isPureReactComponent=!0;var C=Array.isArray,_=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P(B,Z,ue){var fe,me={},he=null,Te=null;if(Z!=null)for(fe in Z.ref!==void 0&&(Te=Z.ref),Z.key!==void 0&&(he=""+Z.key),Z)_.call(Z,fe)&&!D.hasOwnProperty(fe)&&(me[fe]=Z[fe]);var _e=arguments.length-2;if(_e===1)me.children=ue;else if(1<_e){for(var Ie=Array(_e),Pe=0;Pe<_e;Pe++)Ie[Pe]=arguments[Pe+2];me.children=Ie}if(B&&B.defaultProps)for(fe in _e=B.defaultProps,_e)me[fe]===void 0&&(me[fe]=_e[fe]);return{$$typeof:t,type:B,key:he,ref:Te,props:me,_owner:L.current}}function N(B,Z){return{$$typeof:t,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function $(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Z[ue]})}var z=/\/+/g;function j(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?$(""+B.key):Z.toString(36)}function q(B,Z,ue,fe,me){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var Te=!1;if(B===null)Te=!0;else switch(he){case"string":case"number":Te=!0;break;case"object":switch(B.$$typeof){case t:case e:Te=!0}}if(Te)return Te=B,me=me(Te),B=fe===""?"."+j(Te,0):fe,C(me)?(ue="",B!=null&&(ue=B.replace(z,"$&/")+"/"),q(me,Z,ue,"",function(Pe){return Pe})):me!=null&&(k(me)&&(me=N(me,ue+(!me.key||Te&&Te.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+B)),Z.push(me)),1;if(Te=0,fe=fe===""?".":fe+":",C(B))for(var _e=0;_e<B.length;_e++){he=B[_e];var Ie=fe+j(he,_e);Te+=q(he,Z,ue,Ie,me)}else if(Ie=p(B),typeof Ie=="function")for(B=Ie.call(B),_e=0;!(he=B.next()).done;)he=he.value,Ie=fe+j(he,_e++),Te+=q(he,Z,ue,Ie,me);else if(he==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Te}function G(B,Z,ue){if(B==null)return B;var fe=[],me=0;return q(B,fe,"","",function(he){return Z.call(ue,he,me++)}),fe}function H(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var Q={current:null},W={transition:null},V={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:W,ReactCurrentOwner:L};function K(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:G,forEach:function(B,Z,ue){G(B,function(){Z.apply(this,arguments)},ue)},count:function(B){var Z=0;return G(B,function(){Z++}),Z},toArray:function(B){return G(B,function(Z){return Z})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Tt.Component=E,Tt.Fragment=n,Tt.Profiler=i,Tt.PureComponent=w,Tt.StrictMode=r,Tt.Suspense=c,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Tt.act=K,Tt.cloneElement=function(B,Z,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var fe=v({},B.props),me=B.key,he=B.ref,Te=B._owner;if(Z!=null){if(Z.ref!==void 0&&(he=Z.ref,Te=L.current),Z.key!==void 0&&(me=""+Z.key),B.type&&B.type.defaultProps)var _e=B.type.defaultProps;for(Ie in Z)_.call(Z,Ie)&&!D.hasOwnProperty(Ie)&&(fe[Ie]=Z[Ie]===void 0&&_e!==void 0?_e[Ie]:Z[Ie])}var Ie=arguments.length-2;if(Ie===1)fe.children=ue;else if(1<Ie){_e=Array(Ie);for(var Pe=0;Pe<Ie;Pe++)_e[Pe]=arguments[Pe+2];fe.children=_e}return{$$typeof:t,type:B.type,key:me,ref:he,props:fe,_owner:Te}},Tt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},Tt.createElement=P,Tt.createFactory=function(B){var Z=P.bind(null,B);return Z.type=B,Z},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(B){return{$$typeof:a,render:B}},Tt.isValidElement=k,Tt.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:H}},Tt.memo=function(B,Z){return{$$typeof:u,type:B,compare:Z===void 0?null:Z}},Tt.startTransition=function(B){var Z=W.transition;W.transition={};try{B()}finally{W.transition=Z}},Tt.unstable_act=K,Tt.useCallback=function(B,Z){return Q.current.useCallback(B,Z)},Tt.useContext=function(B){return Q.current.useContext(B)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(B){return Q.current.useDeferredValue(B)},Tt.useEffect=function(B,Z){return Q.current.useEffect(B,Z)},Tt.useId=function(){return Q.current.useId()},Tt.useImperativeHandle=function(B,Z,ue){return Q.current.useImperativeHandle(B,Z,ue)},Tt.useInsertionEffect=function(B,Z){return Q.current.useInsertionEffect(B,Z)},Tt.useLayoutEffect=function(B,Z){return Q.current.useLayoutEffect(B,Z)},Tt.useMemo=function(B,Z){return Q.current.useMemo(B,Z)},Tt.useReducer=function(B,Z,ue){return Q.current.useReducer(B,Z,ue)},Tt.useRef=function(B){return Q.current.useRef(B)},Tt.useState=function(B){return Q.current.useState(B)},Tt.useSyncExternalStore=function(B,Z,ue){return Q.current.useSyncExternalStore(B,Z,ue)},Tt.useTransition=function(){return Q.current.useTransition()},Tt.version="18.3.1",Tt}var iI;function MA(){return iI||(iI=1,Ix.exports=p6()),Ix.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function m6(){if(sI)return Bh;sI=1;var t=MA(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var h,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(a&&a.defaultProps)for(h in c=a.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:a,key:p,ref:g,props:f,_owner:i.current}}return Bh.Fragment=n,Bh.jsx=o,Bh.jsxs=o,Bh}var oI;function g6(){return oI||(oI=1,Rx.exports=m6()),Rx.exports}var b=g6(),I=MA();const br=VM(I),Jv=f6({__proto__:null,default:br},[I]);var _g={},Lx={exports:{}},oi={},Dx={exports:{}},Px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function v6(){return aI||(aI=1,function(t){function e(W,V){var K=W.length;W.push(V);e:for(;0<K;){var B=K-1>>>1,Z=W[B];if(0<i(Z,V))W[B]=V,W[K]=Z,K=B;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var V=W[0],K=W.pop();if(K!==V){W[0]=K;e:for(var B=0,Z=W.length,ue=Z>>>1;B<ue;){var fe=2*(B+1)-1,me=W[fe],he=fe+1,Te=W[he];if(0>i(me,K))he<Z&&0>i(Te,me)?(W[B]=Te,W[he]=K,B=he):(W[B]=me,W[fe]=K,B=fe);else if(he<Z&&0>i(Te,K))W[B]=Te,W[he]=K,B=he;else break e}}return V}function i(W,V){var K=W.sortIndex-V.sortIndex;return K!==0?K:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,p=3,g=!1,v=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=W)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function C(W){if(y=!1,T(W),!v)if(n(c)!==null)v=!0,H(_);else{var V=n(u);V!==null&&Q(C,V.startTime-W)}}function _(W,V){v=!1,y&&(y=!1,S(P),P=-1),g=!0;var K=p;try{for(T(V),f=n(c);f!==null&&(!(f.expirationTime>V)||W&&!$());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var Z=B(f.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),T(V)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var fe=n(u);fe!==null&&Q(C,fe.startTime-V),ue=!1}return ue}finally{f=null,p=K,g=!1}}var L=!1,D=null,P=-1,N=5,k=-1;function $(){return!(t.unstable_now()-k<N)}function z(){if(D!==null){var W=t.unstable_now();k=W;var V=!0;try{V=D(!0,W)}finally{V?j():(L=!1,D=null)}}else L=!1}var j;if(typeof w=="function")j=function(){w(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=z,j=function(){G.postMessage(null)}}else j=function(){E(z,0)};function H(W){D=W,L||(L=!0,j())}function Q(W,V){P=E(function(){W(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,H(_))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var K=p;p=V;try{return W()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=p;p=W;try{return V()}finally{p=K}},t.unstable_scheduleCallback=function(W,V,K){var B=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,W){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,W={id:h++,callback:V,priorityLevel:W,startTime:K,expirationTime:Z,sortIndex:-1},K>B?(W.sortIndex=K,e(u,W),n(c)===null&&W===n(u)&&(y?(S(P),P=-1):y=!0,Q(C,K-B))):(W.sortIndex=Z,e(c,W),v||g||(v=!0,H(_))),W},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(W){var V=p;return function(){var K=p;p=V;try{return W.apply(this,arguments)}finally{p=K}}}}(Px)),Px}var lI;function y6(){return lI||(lI=1,Dx.exports=v6()),Dx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function b6(){if(cI)return oi;cI=1;var t=MA(),e=y6();function n(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,d){o(l,d),o(l+"Capture",d)}function o(l,d){for(i[l]=d,l=0;l<d.length;l++)r.add(d[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(l){return c.call(f,l)?!0:c.call(h,l)?!1:u.test(l)?f[l]=!0:(h[l]=!0,!1)}function g(l,d,m,x){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function v(l,d,m,x){if(d===null||typeof d>"u"||g(l,d,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function y(l,d,m,x,A,R,O){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=A,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=R,this.removeEmptyString=O}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){E[l]=new y(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];E[d]=new y(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){E[l]=new y(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){E[l]=new y(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){E[l]=new y(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){E[l]=new y(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){E[l]=new y(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){E[l]=new y(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){E[l]=new y(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function w(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(S,w);E[d]=new y(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(S,w);E[d]=new y(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(S,w);E[d]=new y(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){E[l]=new y(l,1,!1,l.toLowerCase(),null,!1,!1)}),E.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){E[l]=new y(l,1,!1,l.toLowerCase(),null,!0,!0)});function T(l,d,m,x){var A=E.hasOwnProperty(d)?E[d]:null;(A!==null?A.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,m,A,x)&&(m=null),x||A===null?p(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):A.mustUseProperty?l[A.propertyName]=m===null?A.type===3?!1:"":m:(d=A.attributeName,x=A.attributeNamespace,m===null?l.removeAttribute(d):(A=A.type,m=A===3||A===4&&m===!0?"":""+m,x?l.setAttributeNS(x,d,m):l.setAttribute(d,m))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),$=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),W=Symbol.iterator;function V(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var K=Object.assign,B;function Z(l){if(B===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);B=d&&d[1]||""}return`
`+B+l}var ue=!1;function fe(l,d){if(!l||ue)return"";ue=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ae){var x=ae}Reflect.construct(l,[],d)}else{try{d.call()}catch(ae){x=ae}l.call(d.prototype)}else{try{throw Error()}catch(ae){x=ae}l()}}catch(ae){if(ae&&x&&typeof ae.stack=="string"){for(var A=ae.stack.split(`
`),R=x.stack.split(`
`),O=A.length-1,U=R.length-1;1<=O&&0<=U&&A[O]!==R[U];)U--;for(;1<=O&&0<=U;O--,U--)if(A[O]!==R[U]){if(O!==1||U!==1)do if(O--,U--,0>U||A[O]!==R[U]){var Y=`
`+A[O].replace(" at new "," at ");return l.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",l.displayName)),Y}while(1<=O&&0<=U);break}}}finally{ue=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Z(l):""}function me(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=fe(l.type,!1),l;case 11:return l=fe(l.type.render,!1),l;case 1:return l=fe(l.type,!0),l;default:return""}}function he(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case D:return"Fragment";case L:return"Portal";case N:return"Profiler";case P:return"StrictMode";case j:return"Suspense";case q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case $:return(l.displayName||"Context")+".Consumer";case k:return(l._context.displayName||"Context")+".Provider";case z:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case G:return d=l.displayName||null,d!==null?d:he(l.type)||"Memo";case H:d=l._payload,l=l._init;try{return he(l(d))}catch{}}return null}function Te(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(d);case 8:return d===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function _e(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ie(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Pe(l){var d=Ie(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),x=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,R=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return A.call(this)},set:function(O){x=""+O,R.call(this,O)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(O){x=""+O},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function et(l){l._valueTracker||(l._valueTracker=Pe(l))}function Be(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),x="";return l&&(x=Ie(l)?l.checked?"true":"false":l.value),l=x,l!==m?(d.setValue(l),!0):!1}function mt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function We(l,d){var m=d.checked;return K({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function gt(l,d){var m=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;m=_e(d.value!=null?d.value:m),l._wrapperState={initialChecked:x,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function $t(l,d){d=d.checked,d!=null&&T(l,"checked",d,!1)}function Ye(l,d){$t(l,d);var m=_e(d.value),x=d.type;if(m!=null)x==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Ft(l,d.type,m):d.hasOwnProperty("defaultValue")&&Ft(l,d.type,_e(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function ht(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ft(l,d,m){(d!=="number"||mt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var yt=Array.isArray;function Oe(l,d,m,x){if(l=l.options,d){d={};for(var A=0;A<m.length;A++)d["$"+m[A]]=!0;for(m=0;m<l.length;m++)A=d.hasOwnProperty("$"+l[m].value),l[m].selected!==A&&(l[m].selected=A),A&&x&&(l[m].defaultSelected=!0)}else{for(m=""+_e(m),d=null,A=0;A<l.length;A++){if(l[A].value===m){l[A].selected=!0,x&&(l[A].defaultSelected=!0);return}d!==null||l[A].disabled||(d=l[A])}d!==null&&(d.selected=!0)}}function Le(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Tn(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(n(92));if(yt(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:_e(m)}}function Ht(l,d){var m=_e(d.value),x=_e(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),x!=null&&(l.defaultValue=""+x)}function Fn(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function Wn(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?Wn(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var kt,Rt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,x,A){MSApp.execUnsafeLocalFunction(function(){return l(d,m,x,A)})}:l}(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=kt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function bt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var Re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(Re).forEach(function(l){qt.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),Re[d]=Re[l]})});function Et(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||Re.hasOwnProperty(l)&&Re[l]?(""+d).trim():d+"px"}function Lt(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var x=m.indexOf("--")===0,A=Et(m,d[m],x);m==="float"&&(m="cssFloat"),x?l.setProperty(m,A):l[m]=A}}var pe=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(l,d){if(d){if(pe[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function qe(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function jt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Dr=null,Pr=null,ei=null;function ml(l){if(l=Th(l)){if(typeof Dr!="function")throw Error(n(280));var d=l.stateNode;d&&(d=jm(d),Dr(l.stateNode,l.type,d))}}function fa(l){Pr?ei?ei.push(l):ei=[l]:Pr=l}function vm(){if(Pr){var l=Pr,d=ei;if(ei=Pr=null,ml(l),d)for(l=0;l<d.length;l++)ml(d[l])}}function ym(l,d){return l(d)}function vt(){}var zr=!1;function th(l,d,m){if(zr)return l(d,m);zr=!0;try{return ym(l,d,m)}finally{zr=!1,(Pr!==null||ei!==null)&&(vt(),vm())}}function nh(l,d){var m=l.stateNode;if(m===null)return null;var x=jm(m);if(x===null)return null;m=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var zb=!1;if(a)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){zb=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{zb=!1}function vB(l,d,m,x,A,R,O,U,Y){var ae=Array.prototype.slice.call(arguments,3);try{d.apply(m,ae)}catch(be){this.onError(be)}}var ih=!1,bm=null,Em=!1,Yb=null,yB={onError:function(l){ih=!0,bm=l}};function bB(l,d,m,x,A,R,O,U,Y){ih=!1,bm=null,vB.apply(yB,arguments)}function EB(l,d,m,x,A,R,O,U,Y){if(bB.apply(this,arguments),ih){if(ih){var ae=bm;ih=!1,bm=null}else throw Error(n(198));Em||(Em=!0,Yb=ae)}}function gl(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,d.flags&4098&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function _C(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function CC(l){if(gl(l)!==l)throw Error(n(188))}function xB(l){var d=l.alternate;if(!d){if(d=gl(l),d===null)throw Error(n(188));return d!==l?null:l}for(var m=l,x=d;;){var A=m.return;if(A===null)break;var R=A.alternate;if(R===null){if(x=A.return,x!==null){m=x;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===m)return CC(A),l;if(R===x)return CC(A),d;R=R.sibling}throw Error(n(188))}if(m.return!==x.return)m=A,x=R;else{for(var O=!1,U=A.child;U;){if(U===m){O=!0,m=A,x=R;break}if(U===x){O=!0,x=A,m=R;break}U=U.sibling}if(!O){for(U=R.child;U;){if(U===m){O=!0,m=R,x=A;break}if(U===x){O=!0,x=R,m=A;break}U=U.sibling}if(!O)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?l:d}function kC(l){return l=xB(l),l!==null?RC(l):null}function RC(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=RC(l);if(d!==null)return d;l=l.sibling}return null}var IC=e.unstable_scheduleCallback,LC=e.unstable_cancelCallback,SB=e.unstable_shouldYield,TB=e.unstable_requestPaint,Bn=e.unstable_now,AB=e.unstable_getCurrentPriorityLevel,qb=e.unstable_ImmediatePriority,DC=e.unstable_UserBlockingPriority,xm=e.unstable_NormalPriority,wB=e.unstable_LowPriority,PC=e.unstable_IdlePriority,Sm=null,Ms=null;function _B(l){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Sm,l,void 0,(l.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:RB,CB=Math.log,kB=Math.LN2;function RB(l){return l>>>=0,l===0?32:31-(CB(l)/kB|0)|0}var Tm=64,Am=4194304;function sh(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function wm(l,d){var m=l.pendingLanes;if(m===0)return 0;var x=0,A=l.suspendedLanes,R=l.pingedLanes,O=m&268435455;if(O!==0){var U=O&~A;U!==0?x=sh(U):(R&=O,R!==0&&(x=sh(R)))}else O=m&~A,O!==0?x=sh(O):R!==0&&(x=sh(R));if(x===0)return 0;if(d!==0&&d!==x&&!(d&A)&&(A=x&-x,R=d&-d,A>=R||A===16&&(R&4194240)!==0))return d;if(x&4&&(x|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=x;0<d;)m=31-os(d),A=1<<m,x|=l[m],d&=~A;return x}function IB(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LB(l,d){for(var m=l.suspendedLanes,x=l.pingedLanes,A=l.expirationTimes,R=l.pendingLanes;0<R;){var O=31-os(R),U=1<<O,Y=A[O];Y===-1?(!(U&m)||U&x)&&(A[O]=IB(U,d)):Y<=d&&(l.expiredLanes|=U),R&=~U}}function Xb(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function MC(){var l=Tm;return Tm<<=1,!(Tm&4194240)&&(Tm=64),l}function Qb(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function oh(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-os(d),l[d]=m}function DB(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var A=31-os(m),R=1<<A;d[A]=0,x[A]=-1,l[A]=-1,m&=~R}}function Zb(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var x=31-os(m),A=1<<x;A&d|l[x]&d&&(l[x]|=d),m&=~A}}var Xt=0;function OC(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var NC,Jb,$C,FC,BC,eE=!1,_m=[],pa=null,ma=null,ga=null,ah=new Map,lh=new Map,va=[],PB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UC(l,d){switch(l){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":ah.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(d.pointerId)}}function ch(l,d,m,x,A,R){return l===null||l.nativeEvent!==R?(l={blockedOn:d,domEventName:m,eventSystemFlags:x,nativeEvent:R,targetContainers:[A]},d!==null&&(d=Th(d),d!==null&&Jb(d)),l):(l.eventSystemFlags|=x,d=l.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),l)}function MB(l,d,m,x,A){switch(d){case"focusin":return pa=ch(pa,l,d,m,x,A),!0;case"dragenter":return ma=ch(ma,l,d,m,x,A),!0;case"mouseover":return ga=ch(ga,l,d,m,x,A),!0;case"pointerover":var R=A.pointerId;return ah.set(R,ch(ah.get(R)||null,l,d,m,x,A)),!0;case"gotpointercapture":return R=A.pointerId,lh.set(R,ch(lh.get(R)||null,l,d,m,x,A)),!0}return!1}function jC(l){var d=vl(l.target);if(d!==null){var m=gl(d);if(m!==null){if(d=m.tag,d===13){if(d=_C(m),d!==null){l.blockedOn=d,BC(l.priority,function(){$C(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Cm(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=nE(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var x=new m.constructor(m.type,m);ct=x,m.target.dispatchEvent(x),ct=null}else return d=Th(m),d!==null&&Jb(d),l.blockedOn=m,!1;d.shift()}return!0}function VC(l,d,m){Cm(l)&&m.delete(d)}function OB(){eE=!1,pa!==null&&Cm(pa)&&(pa=null),ma!==null&&Cm(ma)&&(ma=null),ga!==null&&Cm(ga)&&(ga=null),ah.forEach(VC),lh.forEach(VC)}function uh(l,d){l.blockedOn===d&&(l.blockedOn=null,eE||(eE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,OB)))}function dh(l){function d(A){return uh(A,l)}if(0<_m.length){uh(_m[0],l);for(var m=1;m<_m.length;m++){var x=_m[m];x.blockedOn===l&&(x.blockedOn=null)}}for(pa!==null&&uh(pa,l),ma!==null&&uh(ma,l),ga!==null&&uh(ga,l),ah.forEach(d),lh.forEach(d),m=0;m<va.length;m++)x=va[m],x.blockedOn===l&&(x.blockedOn=null);for(;0<va.length&&(m=va[0],m.blockedOn===null);)jC(m),m.blockedOn===null&&va.shift()}var zc=C.ReactCurrentBatchConfig,km=!0;function NB(l,d,m,x){var A=Xt,R=zc.transition;zc.transition=null;try{Xt=1,tE(l,d,m,x)}finally{Xt=A,zc.transition=R}}function $B(l,d,m,x){var A=Xt,R=zc.transition;zc.transition=null;try{Xt=4,tE(l,d,m,x)}finally{Xt=A,zc.transition=R}}function tE(l,d,m,x){if(km){var A=nE(l,d,m,x);if(A===null)bE(l,d,x,Rm,m),UC(l,x);else if(MB(A,l,d,m,x))x.stopPropagation();else if(UC(l,x),d&4&&-1<PB.indexOf(l)){for(;A!==null;){var R=Th(A);if(R!==null&&NC(R),R=nE(l,d,m,x),R===null&&bE(l,d,x,Rm,m),R===A)break;A=R}A!==null&&x.stopPropagation()}else bE(l,d,x,null,m)}}var Rm=null;function nE(l,d,m,x){if(Rm=null,l=jt(x),l=vl(l),l!==null)if(d=gl(l),d===null)l=null;else if(m=d.tag,m===13){if(l=_C(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Rm=l,null}function WC(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AB()){case qb:return 1;case DC:return 4;case xm:case wB:return 16;case PC:return 536870912;default:return 16}default:return 16}}var ya=null,rE=null,Im=null;function HC(){if(Im)return Im;var l,d=rE,m=d.length,x,A="value"in ya?ya.value:ya.textContent,R=A.length;for(l=0;l<m&&d[l]===A[l];l++);var O=m-l;for(x=1;x<=O&&d[m-x]===A[R-x];x++);return Im=A.slice(l,1<x?1-x:void 0)}function Lm(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Dm(){return!0}function GC(){return!1}function yi(l){function d(m,x,A,R,O){this._reactName=m,this._targetInst=A,this.type=x,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var U in l)l.hasOwnProperty(U)&&(m=l[U],this[U]=m?m(R):R[U]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Dm:GC,this.isPropagationStopped=GC,this}return K(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Dm)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Dm)},persist:function(){},isPersistent:Dm}),d}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iE=yi(Yc),hh=K({},Yc,{view:0,detail:0}),FB=yi(hh),sE,oE,fh,Pm=K({},hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lE,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==fh&&(fh&&l.type==="mousemove"?(sE=l.screenX-fh.screenX,oE=l.screenY-fh.screenY):oE=sE=0,fh=l),sE)},movementY:function(l){return"movementY"in l?l.movementY:oE}}),KC=yi(Pm),BB=K({},Pm,{dataTransfer:0}),UB=yi(BB),jB=K({},hh,{relatedTarget:0}),aE=yi(jB),VB=K({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),WB=yi(VB),HB=K({},Yc,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),GB=yi(HB),KB=K({},Yc,{data:0}),zC=yi(KB),zB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XB(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=qB[l])?!!d[l]:!1}function lE(){return XB}var QB=K({},hh,{key:function(l){if(l.key){var d=zB[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Lm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?YB[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lE,charCode:function(l){return l.type==="keypress"?Lm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Lm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ZB=yi(QB),JB=K({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YC=yi(JB),eU=K({},hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lE}),tU=yi(eU),nU=K({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),rU=yi(nU),iU=K({},Pm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sU=yi(iU),oU=[9,13,27,32],cE=a&&"CompositionEvent"in window,ph=null;a&&"documentMode"in document&&(ph=document.documentMode);var aU=a&&"TextEvent"in window&&!ph,qC=a&&(!cE||ph&&8<ph&&11>=ph),XC=" ",QC=!1;function ZC(l,d){switch(l){case"keyup":return oU.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JC(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var qc=!1;function lU(l,d){switch(l){case"compositionend":return JC(d);case"keypress":return d.which!==32?null:(QC=!0,XC);case"textInput":return l=d.data,l===XC&&QC?null:l;default:return null}}function cU(l,d){if(qc)return l==="compositionend"||!cE&&ZC(l,d)?(l=HC(),Im=rE=ya=null,qc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return qC&&d.locale!=="ko"?null:d.data;default:return null}}var uU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ek(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!uU[l.type]:d==="textarea"}function tk(l,d,m,x){fa(x),d=Fm(d,"onChange"),0<d.length&&(m=new iE("onChange","change",null,m,x),l.push({event:m,listeners:d}))}var mh=null,gh=null;function dU(l){bk(l,0)}function Mm(l){var d=eu(l);if(Be(d))return l}function hU(l,d){if(l==="change")return d}var nk=!1;if(a){var uE;if(a){var dE="oninput"in document;if(!dE){var rk=document.createElement("div");rk.setAttribute("oninput","return;"),dE=typeof rk.oninput=="function"}uE=dE}else uE=!1;nk=uE&&(!document.documentMode||9<document.documentMode)}function ik(){mh&&(mh.detachEvent("onpropertychange",sk),gh=mh=null)}function sk(l){if(l.propertyName==="value"&&Mm(gh)){var d=[];tk(d,gh,l,jt(l)),th(dU,d)}}function fU(l,d,m){l==="focusin"?(ik(),mh=d,gh=m,mh.attachEvent("onpropertychange",sk)):l==="focusout"&&ik()}function pU(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Mm(gh)}function mU(l,d){if(l==="click")return Mm(d)}function gU(l,d){if(l==="input"||l==="change")return Mm(d)}function vU(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var as=typeof Object.is=="function"?Object.is:vU;function vh(l,d){if(as(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),x=Object.keys(d);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var A=m[x];if(!c.call(d,A)||!as(l[A],d[A]))return!1}return!0}function ok(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ak(l,d){var m=ok(l);l=0;for(var x;m;){if(m.nodeType===3){if(x=l+m.textContent.length,l<=d&&x>=d)return{node:m,offset:d-l};l=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ok(m)}}function lk(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?lk(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function ck(){for(var l=window,d=mt();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=mt(l.document)}return d}function hE(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function yU(l){var d=ck(),m=l.focusedElem,x=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&lk(m.ownerDocument.documentElement,m)){if(x!==null&&hE(m)){if(d=x.start,l=x.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var A=m.textContent.length,R=Math.min(x.start,A);x=x.end===void 0?R:Math.min(x.end,A),!l.extend&&R>x&&(A=x,x=R,R=A),A=ak(m,R);var O=ak(m,x);A&&O&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==O.node||l.focusOffset!==O.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),l.removeAllRanges(),R>x?(l.addRange(d),l.extend(O.node,O.offset)):(d.setEnd(O.node,O.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var bU=a&&"documentMode"in document&&11>=document.documentMode,Xc=null,fE=null,yh=null,pE=!1;function uk(l,d,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;pE||Xc==null||Xc!==mt(x)||(x=Xc,"selectionStart"in x&&hE(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),yh&&vh(yh,x)||(yh=x,x=Fm(fE,"onSelect"),0<x.length&&(d=new iE("onSelect","select",null,d,m),l.push({event:d,listeners:x}),d.target=Xc)))}function Om(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Qc={animationend:Om("Animation","AnimationEnd"),animationiteration:Om("Animation","AnimationIteration"),animationstart:Om("Animation","AnimationStart"),transitionend:Om("Transition","TransitionEnd")},mE={},dk={};a&&(dk=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Nm(l){if(mE[l])return mE[l];if(!Qc[l])return l;var d=Qc[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in dk)return mE[l]=d[m];return l}var hk=Nm("animationend"),fk=Nm("animationiteration"),pk=Nm("animationstart"),mk=Nm("transitionend"),gk=new Map,vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(l,d){gk.set(l,d),s(d,[l])}for(var gE=0;gE<vk.length;gE++){var vE=vk[gE],EU=vE.toLowerCase(),xU=vE[0].toUpperCase()+vE.slice(1);ba(EU,"on"+xU)}ba(hk,"onAnimationEnd"),ba(fk,"onAnimationIteration"),ba(pk,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(mk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SU=new Set("cancel close invalid load scroll toggle".split(" ").concat(bh));function yk(l,d,m){var x=l.type||"unknown-event";l.currentTarget=m,EB(x,d,void 0,l),l.currentTarget=null}function bk(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var x=l[m],A=x.event;x=x.listeners;e:{var R=void 0;if(d)for(var O=x.length-1;0<=O;O--){var U=x[O],Y=U.instance,ae=U.currentTarget;if(U=U.listener,Y!==R&&A.isPropagationStopped())break e;yk(A,U,ae),R=Y}else for(O=0;O<x.length;O++){if(U=x[O],Y=U.instance,ae=U.currentTarget,U=U.listener,Y!==R&&A.isPropagationStopped())break e;yk(A,U,ae),R=Y}}}if(Em)throw l=Yb,Em=!1,Yb=null,l}function vn(l,d){var m=d[wE];m===void 0&&(m=d[wE]=new Set);var x=l+"__bubble";m.has(x)||(Ek(d,l,2,!1),m.add(x))}function yE(l,d,m){var x=0;d&&(x|=4),Ek(m,l,x,d)}var $m="_reactListening"+Math.random().toString(36).slice(2);function Eh(l){if(!l[$m]){l[$m]=!0,r.forEach(function(m){m!=="selectionchange"&&(SU.has(m)||yE(m,!1,l),yE(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[$m]||(d[$m]=!0,yE("selectionchange",!1,d))}}function Ek(l,d,m,x){switch(WC(d)){case 1:var A=NB;break;case 4:A=$B;break;default:A=tE}m=A.bind(null,d,m,l),A=void 0,!zb||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),x?A!==void 0?l.addEventListener(d,m,{capture:!0,passive:A}):l.addEventListener(d,m,!0):A!==void 0?l.addEventListener(d,m,{passive:A}):l.addEventListener(d,m,!1)}function bE(l,d,m,x,A){var R=x;if(!(d&1)&&!(d&2)&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var U=x.stateNode.containerInfo;if(U===A||U.nodeType===8&&U.parentNode===A)break;if(O===4)for(O=x.return;O!==null;){var Y=O.tag;if((Y===3||Y===4)&&(Y=O.stateNode.containerInfo,Y===A||Y.nodeType===8&&Y.parentNode===A))return;O=O.return}for(;U!==null;){if(O=vl(U),O===null)return;if(Y=O.tag,Y===5||Y===6){x=R=O;continue e}U=U.parentNode}}x=x.return}th(function(){var ae=R,be=jt(m),xe=[];e:{var ve=gk.get(l);if(ve!==void 0){var Me=iE,Ue=l;switch(l){case"keypress":if(Lm(m)===0)break e;case"keydown":case"keyup":Me=ZB;break;case"focusin":Ue="focus",Me=aE;break;case"focusout":Ue="blur",Me=aE;break;case"beforeblur":case"afterblur":Me=aE;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=KC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=UB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=tU;break;case hk:case fk:case pk:Me=WB;break;case mk:Me=rU;break;case"scroll":Me=FB;break;case"wheel":Me=sU;break;case"copy":case"cut":case"paste":Me=GB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=YC}var Ve=(d&4)!==0,Un=!Ve&&l==="scroll",te=Ve?ve!==null?ve+"Capture":null:ve;Ve=[];for(var X=ae,se;X!==null;){se=X;var Ae=se.stateNode;if(se.tag===5&&Ae!==null&&(se=Ae,te!==null&&(Ae=nh(X,te),Ae!=null&&Ve.push(xh(X,Ae,se)))),Un)break;X=X.return}0<Ve.length&&(ve=new Me(ve,Ue,null,m,be),xe.push({event:ve,listeners:Ve}))}}if(!(d&7)){e:{if(ve=l==="mouseover"||l==="pointerover",Me=l==="mouseout"||l==="pointerout",ve&&m!==ct&&(Ue=m.relatedTarget||m.fromElement)&&(vl(Ue)||Ue[Io]))break e;if((Me||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,Me?(Ue=m.relatedTarget||m.toElement,Me=ae,Ue=Ue?vl(Ue):null,Ue!==null&&(Un=gl(Ue),Ue!==Un||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Me=null,Ue=ae),Me!==Ue)){if(Ve=KC,Ae="onMouseLeave",te="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Ve=YC,Ae="onPointerLeave",te="onPointerEnter",X="pointer"),Un=Me==null?ve:eu(Me),se=Ue==null?ve:eu(Ue),ve=new Ve(Ae,X+"leave",Me,m,be),ve.target=Un,ve.relatedTarget=se,Ae=null,vl(be)===ae&&(Ve=new Ve(te,X+"enter",Ue,m,be),Ve.target=se,Ve.relatedTarget=Un,Ae=Ve),Un=Ae,Me&&Ue)t:{for(Ve=Me,te=Ue,X=0,se=Ve;se;se=Zc(se))X++;for(se=0,Ae=te;Ae;Ae=Zc(Ae))se++;for(;0<X-se;)Ve=Zc(Ve),X--;for(;0<se-X;)te=Zc(te),se--;for(;X--;){if(Ve===te||te!==null&&Ve===te.alternate)break t;Ve=Zc(Ve),te=Zc(te)}Ve=null}else Ve=null;Me!==null&&xk(xe,ve,Me,Ve,!1),Ue!==null&&Un!==null&&xk(xe,Un,Ue,Ve,!0)}}e:{if(ve=ae?eu(ae):window,Me=ve.nodeName&&ve.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ve.type==="file")var He=hU;else if(ek(ve))if(nk)He=gU;else{He=pU;var tt=fU}else(Me=ve.nodeName)&&Me.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(He=mU);if(He&&(He=He(l,ae))){tk(xe,He,m,be);break e}tt&&tt(l,ve,ae),l==="focusout"&&(tt=ve._wrapperState)&&tt.controlled&&ve.type==="number"&&Ft(ve,"number",ve.value)}switch(tt=ae?eu(ae):window,l){case"focusin":(ek(tt)||tt.contentEditable==="true")&&(Xc=tt,fE=ae,yh=null);break;case"focusout":yh=fE=Xc=null;break;case"mousedown":pE=!0;break;case"contextmenu":case"mouseup":case"dragend":pE=!1,uk(xe,m,be);break;case"selectionchange":if(bU)break;case"keydown":case"keyup":uk(xe,m,be)}var nt;if(cE)e:{switch(l){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else qc?ZC(l,m)&&(ut="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(ut="onCompositionStart");ut&&(qC&&m.locale!=="ko"&&(qc||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&qc&&(nt=HC()):(ya=be,rE="value"in ya?ya.value:ya.textContent,qc=!0)),tt=Fm(ae,ut),0<tt.length&&(ut=new zC(ut,l,null,m,be),xe.push({event:ut,listeners:tt}),nt?ut.data=nt:(nt=JC(m),nt!==null&&(ut.data=nt)))),(nt=aU?lU(l,m):cU(l,m))&&(ae=Fm(ae,"onBeforeInput"),0<ae.length&&(be=new zC("onBeforeInput","beforeinput",null,m,be),xe.push({event:be,listeners:ae}),be.data=nt))}bk(xe,d)})}function xh(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Fm(l,d){for(var m=d+"Capture",x=[];l!==null;){var A=l,R=A.stateNode;A.tag===5&&R!==null&&(A=R,R=nh(l,m),R!=null&&x.unshift(xh(l,R,A)),R=nh(l,d),R!=null&&x.push(xh(l,R,A))),l=l.return}return x}function Zc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function xk(l,d,m,x,A){for(var R=d._reactName,O=[];m!==null&&m!==x;){var U=m,Y=U.alternate,ae=U.stateNode;if(Y!==null&&Y===x)break;U.tag===5&&ae!==null&&(U=ae,A?(Y=nh(m,R),Y!=null&&O.unshift(xh(m,Y,U))):A||(Y=nh(m,R),Y!=null&&O.push(xh(m,Y,U)))),m=m.return}O.length!==0&&l.push({event:d,listeners:O})}var TU=/\r\n?/g,AU=/\u0000|\uFFFD/g;function Sk(l){return(typeof l=="string"?l:""+l).replace(TU,`
`).replace(AU,"")}function Bm(l,d,m){if(d=Sk(d),Sk(l)!==d&&m)throw Error(n(425))}function Um(){}var EE=null,xE=null;function SE(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var TE=typeof setTimeout=="function"?setTimeout:void 0,wU=typeof clearTimeout=="function"?clearTimeout:void 0,Tk=typeof Promise=="function"?Promise:void 0,_U=typeof queueMicrotask=="function"?queueMicrotask:typeof Tk<"u"?function(l){return Tk.resolve(null).then(l).catch(CU)}:TE;function CU(l){setTimeout(function(){throw l})}function AE(l,d){var m=d,x=0;do{var A=m.nextSibling;if(l.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"){if(x===0){l.removeChild(A),dh(d);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=A}while(m);dh(d)}function Ea(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Ak(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),Os="__reactFiber$"+Jc,Sh="__reactProps$"+Jc,Io="__reactContainer$"+Jc,wE="__reactEvents$"+Jc,kU="__reactListeners$"+Jc,RU="__reactHandles$"+Jc;function vl(l){var d=l[Os];if(d)return d;for(var m=l.parentNode;m;){if(d=m[Io]||m[Os]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Ak(l);l!==null;){if(m=l[Os])return m;l=Ak(l)}return d}l=m,m=l.parentNode}return null}function Th(l){return l=l[Os]||l[Io],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function eu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function jm(l){return l[Sh]||null}var _E=[],tu=-1;function xa(l){return{current:l}}function yn(l){0>tu||(l.current=_E[tu],_E[tu]=null,tu--)}function cn(l,d){tu++,_E[tu]=l.current,l.current=d}var Sa={},Mr=xa(Sa),ti=xa(!1),yl=Sa;function nu(l,d){var m=l.type.contextTypes;if(!m)return Sa;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var A={},R;for(R in m)A[R]=d[R];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=A),A}function ni(l){return l=l.childContextTypes,l!=null}function Vm(){yn(ti),yn(Mr)}function wk(l,d,m){if(Mr.current!==Sa)throw Error(n(168));cn(Mr,d),cn(ti,m)}function _k(l,d,m){var x=l.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var A in x)if(!(A in d))throw Error(n(108,Te(l)||"Unknown",A));return K({},m,x)}function Wm(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Sa,yl=Mr.current,cn(Mr,l),cn(ti,ti.current),!0}function Ck(l,d,m){var x=l.stateNode;if(!x)throw Error(n(169));m?(l=_k(l,d,yl),x.__reactInternalMemoizedMergedChildContext=l,yn(ti),yn(Mr),cn(Mr,l)):yn(ti),cn(ti,m)}var Lo=null,Hm=!1,CE=!1;function kk(l){Lo===null?Lo=[l]:Lo.push(l)}function IU(l){Hm=!0,kk(l)}function Ta(){if(!CE&&Lo!==null){CE=!0;var l=0,d=Xt;try{var m=Lo;for(Xt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}Lo=null,Hm=!1}catch(A){throw Lo!==null&&(Lo=Lo.slice(l+1)),IC(qb,Ta),A}finally{Xt=d,CE=!1}}return null}var ru=[],iu=0,Gm=null,Km=0,Pi=[],Mi=0,bl=null,Do=1,Po="";function El(l,d){ru[iu++]=Km,ru[iu++]=Gm,Gm=l,Km=d}function Rk(l,d,m){Pi[Mi++]=Do,Pi[Mi++]=Po,Pi[Mi++]=bl,bl=l;var x=Do;l=Po;var A=32-os(x)-1;x&=~(1<<A),m+=1;var R=32-os(d)+A;if(30<R){var O=A-A%5;R=(x&(1<<O)-1).toString(32),x>>=O,A-=O,Do=1<<32-os(d)+A|m<<A|x,Po=R+l}else Do=1<<R|m<<A|x,Po=l}function kE(l){l.return!==null&&(El(l,1),Rk(l,1,0))}function RE(l){for(;l===Gm;)Gm=ru[--iu],ru[iu]=null,Km=ru[--iu],ru[iu]=null;for(;l===bl;)bl=Pi[--Mi],Pi[Mi]=null,Po=Pi[--Mi],Pi[Mi]=null,Do=Pi[--Mi],Pi[Mi]=null}var bi=null,Ei=null,En=!1,ls=null;function Ik(l,d){var m=Fi(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Lk(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,bi=l,Ei=Ea(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,bi=l,Ei=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=bl!==null?{id:Do,overflow:Po}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Fi(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,bi=l,Ei=null,!0):!1;default:return!1}}function IE(l){return(l.mode&1)!==0&&(l.flags&128)===0}function LE(l){if(En){var d=Ei;if(d){var m=d;if(!Lk(l,d)){if(IE(l))throw Error(n(418));d=Ea(m.nextSibling);var x=bi;d&&Lk(l,d)?Ik(x,m):(l.flags=l.flags&-4097|2,En=!1,bi=l)}}else{if(IE(l))throw Error(n(418));l.flags=l.flags&-4097|2,En=!1,bi=l}}}function Dk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;bi=l}function zm(l){if(l!==bi)return!1;if(!En)return Dk(l),En=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!SE(l.type,l.memoizedProps)),d&&(d=Ei)){if(IE(l))throw Pk(),Error(n(418));for(;d;)Ik(l,d),d=Ea(d.nextSibling)}if(Dk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){Ei=Ea(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}Ei=null}}else Ei=bi?Ea(l.stateNode.nextSibling):null;return!0}function Pk(){for(var l=Ei;l;)l=Ea(l.nextSibling)}function su(){Ei=bi=null,En=!1}function DE(l){ls===null?ls=[l]:ls.push(l)}var LU=C.ReactCurrentBatchConfig;function Ah(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,l));var A=x,R=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(O){var U=A.refs;O===null?delete U[R]:U[R]=O},d._stringRef=R,d)}if(typeof l!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,l))}return l}function Ym(l,d){throw l=Object.prototype.toString.call(d),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Mk(l){var d=l._init;return d(l._payload)}function Ok(l){function d(te,X){if(l){var se=te.deletions;se===null?(te.deletions=[X],te.flags|=16):se.push(X)}}function m(te,X){if(!l)return null;for(;X!==null;)d(te,X),X=X.sibling;return null}function x(te,X){for(te=new Map;X!==null;)X.key!==null?te.set(X.key,X):te.set(X.index,X),X=X.sibling;return te}function A(te,X){return te=La(te,X),te.index=0,te.sibling=null,te}function R(te,X,se){return te.index=se,l?(se=te.alternate,se!==null?(se=se.index,se<X?(te.flags|=2,X):se):(te.flags|=2,X)):(te.flags|=1048576,X)}function O(te){return l&&te.alternate===null&&(te.flags|=2),te}function U(te,X,se,Ae){return X===null||X.tag!==6?(X=Tx(se,te.mode,Ae),X.return=te,X):(X=A(X,se),X.return=te,X)}function Y(te,X,se,Ae){var He=se.type;return He===D?be(te,X,se.props.children,Ae,se.key):X!==null&&(X.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===H&&Mk(He)===X.type)?(Ae=A(X,se.props),Ae.ref=Ah(te,X,se),Ae.return=te,Ae):(Ae=yg(se.type,se.key,se.props,null,te.mode,Ae),Ae.ref=Ah(te,X,se),Ae.return=te,Ae)}function ae(te,X,se,Ae){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=Ax(se,te.mode,Ae),X.return=te,X):(X=A(X,se.children||[]),X.return=te,X)}function be(te,X,se,Ae,He){return X===null||X.tag!==7?(X=kl(se,te.mode,Ae,He),X.return=te,X):(X=A(X,se),X.return=te,X)}function xe(te,X,se){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Tx(""+X,te.mode,se),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return se=yg(X.type,X.key,X.props,null,te.mode,se),se.ref=Ah(te,null,X),se.return=te,se;case L:return X=Ax(X,te.mode,se),X.return=te,X;case H:var Ae=X._init;return xe(te,Ae(X._payload),se)}if(yt(X)||V(X))return X=kl(X,te.mode,se,null),X.return=te,X;Ym(te,X)}return null}function ve(te,X,se,Ae){var He=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return He!==null?null:U(te,X,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return se.key===He?Y(te,X,se,Ae):null;case L:return se.key===He?ae(te,X,se,Ae):null;case H:return He=se._init,ve(te,X,He(se._payload),Ae)}if(yt(se)||V(se))return He!==null?null:be(te,X,se,Ae,null);Ym(te,se)}return null}function Me(te,X,se,Ae,He){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return te=te.get(se)||null,U(X,te,""+Ae,He);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case _:return te=te.get(Ae.key===null?se:Ae.key)||null,Y(X,te,Ae,He);case L:return te=te.get(Ae.key===null?se:Ae.key)||null,ae(X,te,Ae,He);case H:var tt=Ae._init;return Me(te,X,se,tt(Ae._payload),He)}if(yt(Ae)||V(Ae))return te=te.get(se)||null,be(X,te,Ae,He,null);Ym(X,Ae)}return null}function Ue(te,X,se,Ae){for(var He=null,tt=null,nt=X,ut=X=0,fr=null;nt!==null&&ut<se.length;ut++){nt.index>ut?(fr=nt,nt=null):fr=nt.sibling;var Bt=ve(te,nt,se[ut],Ae);if(Bt===null){nt===null&&(nt=fr);break}l&&nt&&Bt.alternate===null&&d(te,nt),X=R(Bt,X,ut),tt===null?He=Bt:tt.sibling=Bt,tt=Bt,nt=fr}if(ut===se.length)return m(te,nt),En&&El(te,ut),He;if(nt===null){for(;ut<se.length;ut++)nt=xe(te,se[ut],Ae),nt!==null&&(X=R(nt,X,ut),tt===null?He=nt:tt.sibling=nt,tt=nt);return En&&El(te,ut),He}for(nt=x(te,nt);ut<se.length;ut++)fr=Me(nt,te,ut,se[ut],Ae),fr!==null&&(l&&fr.alternate!==null&&nt.delete(fr.key===null?ut:fr.key),X=R(fr,X,ut),tt===null?He=fr:tt.sibling=fr,tt=fr);return l&&nt.forEach(function(Da){return d(te,Da)}),En&&El(te,ut),He}function Ve(te,X,se,Ae){var He=V(se);if(typeof He!="function")throw Error(n(150));if(se=He.call(se),se==null)throw Error(n(151));for(var tt=He=null,nt=X,ut=X=0,fr=null,Bt=se.next();nt!==null&&!Bt.done;ut++,Bt=se.next()){nt.index>ut?(fr=nt,nt=null):fr=nt.sibling;var Da=ve(te,nt,Bt.value,Ae);if(Da===null){nt===null&&(nt=fr);break}l&&nt&&Da.alternate===null&&d(te,nt),X=R(Da,X,ut),tt===null?He=Da:tt.sibling=Da,tt=Da,nt=fr}if(Bt.done)return m(te,nt),En&&El(te,ut),He;if(nt===null){for(;!Bt.done;ut++,Bt=se.next())Bt=xe(te,Bt.value,Ae),Bt!==null&&(X=R(Bt,X,ut),tt===null?He=Bt:tt.sibling=Bt,tt=Bt);return En&&El(te,ut),He}for(nt=x(te,nt);!Bt.done;ut++,Bt=se.next())Bt=Me(nt,te,ut,Bt.value,Ae),Bt!==null&&(l&&Bt.alternate!==null&&nt.delete(Bt.key===null?ut:Bt.key),X=R(Bt,X,ut),tt===null?He=Bt:tt.sibling=Bt,tt=Bt);return l&&nt.forEach(function(u6){return d(te,u6)}),En&&El(te,ut),He}function Un(te,X,se,Ae){if(typeof se=="object"&&se!==null&&se.type===D&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case _:e:{for(var He=se.key,tt=X;tt!==null;){if(tt.key===He){if(He=se.type,He===D){if(tt.tag===7){m(te,tt.sibling),X=A(tt,se.props.children),X.return=te,te=X;break e}}else if(tt.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===H&&Mk(He)===tt.type){m(te,tt.sibling),X=A(tt,se.props),X.ref=Ah(te,tt,se),X.return=te,te=X;break e}m(te,tt);break}else d(te,tt);tt=tt.sibling}se.type===D?(X=kl(se.props.children,te.mode,Ae,se.key),X.return=te,te=X):(Ae=yg(se.type,se.key,se.props,null,te.mode,Ae),Ae.ref=Ah(te,X,se),Ae.return=te,te=Ae)}return O(te);case L:e:{for(tt=se.key;X!==null;){if(X.key===tt)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){m(te,X.sibling),X=A(X,se.children||[]),X.return=te,te=X;break e}else{m(te,X);break}else d(te,X);X=X.sibling}X=Ax(se,te.mode,Ae),X.return=te,te=X}return O(te);case H:return tt=se._init,Un(te,X,tt(se._payload),Ae)}if(yt(se))return Ue(te,X,se,Ae);if(V(se))return Ve(te,X,se,Ae);Ym(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,X!==null&&X.tag===6?(m(te,X.sibling),X=A(X,se),X.return=te,te=X):(m(te,X),X=Tx(se,te.mode,Ae),X.return=te,te=X),O(te)):m(te,X)}return Un}var ou=Ok(!0),Nk=Ok(!1),qm=xa(null),Xm=null,au=null,PE=null;function ME(){PE=au=Xm=null}function OE(l){var d=qm.current;yn(qm),l._currentValue=d}function NE(l,d,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),l===m)break;l=l.return}}function lu(l,d){Xm=l,PE=au=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&d&&(ri=!0),l.firstContext=null)}function Oi(l){var d=l._currentValue;if(PE!==l)if(l={context:l,memoizedValue:d,next:null},au===null){if(Xm===null)throw Error(n(308));au=l,Xm.dependencies={lanes:0,firstContext:l}}else au=au.next=l;return d}var xl=null;function $E(l){xl===null?xl=[l]:xl.push(l)}function $k(l,d,m,x){var A=d.interleaved;return A===null?(m.next=m,$E(d)):(m.next=A.next,A.next=m),d.interleaved=m,Mo(l,x)}function Mo(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Aa=!1;function FE(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fk(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Oo(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function wa(l,d,m){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,Nt&2){var A=x.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),x.pending=d,Mo(l,m)}return A=x.interleaved,A===null?(d.next=d,$E(x)):(d.next=A.next,A.next=d),x.interleaved=d,Mo(l,m)}function Qm(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Zb(l,m)}}function Bk(l,d){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var A=null,R=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};R===null?A=R=O:R=R.next=O,m=m.next}while(m!==null);R===null?A=R=d:R=R.next=d}else A=R=d;m={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Zm(l,d,m,x){var A=l.updateQueue;Aa=!1;var R=A.firstBaseUpdate,O=A.lastBaseUpdate,U=A.shared.pending;if(U!==null){A.shared.pending=null;var Y=U,ae=Y.next;Y.next=null,O===null?R=ae:O.next=ae,O=Y;var be=l.alternate;be!==null&&(be=be.updateQueue,U=be.lastBaseUpdate,U!==O&&(U===null?be.firstBaseUpdate=ae:U.next=ae,be.lastBaseUpdate=Y))}if(R!==null){var xe=A.baseState;O=0,be=ae=Y=null,U=R;do{var ve=U.lane,Me=U.eventTime;if((x&ve)===ve){be!==null&&(be=be.next={eventTime:Me,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ue=l,Ve=U;switch(ve=d,Me=m,Ve.tag){case 1:if(Ue=Ve.payload,typeof Ue=="function"){xe=Ue.call(Me,xe,ve);break e}xe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ve.payload,ve=typeof Ue=="function"?Ue.call(Me,xe,ve):Ue,ve==null)break e;xe=K({},xe,ve);break e;case 2:Aa=!0}}U.callback!==null&&U.lane!==0&&(l.flags|=64,ve=A.effects,ve===null?A.effects=[U]:ve.push(U))}else Me={eventTime:Me,lane:ve,tag:U.tag,payload:U.payload,callback:U.callback,next:null},be===null?(ae=be=Me,Y=xe):be=be.next=Me,O|=ve;if(U=U.next,U===null){if(U=A.shared.pending,U===null)break;ve=U,U=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(be===null&&(Y=xe),A.baseState=Y,A.firstBaseUpdate=ae,A.lastBaseUpdate=be,d=A.shared.interleaved,d!==null){A=d;do O|=A.lane,A=A.next;while(A!==d)}else R===null&&(A.shared.lanes=0);Al|=O,l.lanes=O,l.memoizedState=xe}}function Uk(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var x=l[d],A=x.callback;if(A!==null){if(x.callback=null,x=m,typeof A!="function")throw Error(n(191,A));A.call(x)}}}var wh={},Ns=xa(wh),_h=xa(wh),Ch=xa(wh);function Sl(l){if(l===wh)throw Error(n(174));return l}function BE(l,d){switch(cn(Ch,d),cn(_h,l),cn(Ns,wh),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ct(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=Ct(d,l)}yn(Ns),cn(Ns,d)}function cu(){yn(Ns),yn(_h),yn(Ch)}function jk(l){Sl(Ch.current);var d=Sl(Ns.current),m=Ct(d,l.type);d!==m&&(cn(_h,l),cn(Ns,m))}function UE(l){_h.current===l&&(yn(Ns),yn(_h))}var An=xa(0);function Jm(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var jE=[];function VE(){for(var l=0;l<jE.length;l++)jE[l]._workInProgressVersionPrimary=null;jE.length=0}var eg=C.ReactCurrentDispatcher,WE=C.ReactCurrentBatchConfig,Tl=0,wn=null,nr=null,dr=null,tg=!1,kh=!1,Rh=0,DU=0;function Or(){throw Error(n(321))}function HE(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!as(l[m],d[m]))return!1;return!0}function GE(l,d,m,x,A,R){if(Tl=R,wn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,eg.current=l===null||l.memoizedState===null?NU:$U,l=m(x,A),kh){R=0;do{if(kh=!1,Rh=0,25<=R)throw Error(n(301));R+=1,dr=nr=null,d.updateQueue=null,eg.current=FU,l=m(x,A)}while(kh)}if(eg.current=ig,d=nr!==null&&nr.next!==null,Tl=0,dr=nr=wn=null,tg=!1,d)throw Error(n(300));return l}function KE(){var l=Rh!==0;return Rh=0,l}function $s(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?wn.memoizedState=dr=l:dr=dr.next=l,dr}function Ni(){if(nr===null){var l=wn.alternate;l=l!==null?l.memoizedState:null}else l=nr.next;var d=dr===null?wn.memoizedState:dr.next;if(d!==null)dr=d,nr=l;else{if(l===null)throw Error(n(310));nr=l,l={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},dr===null?wn.memoizedState=dr=l:dr=dr.next=l}return dr}function Ih(l,d){return typeof d=="function"?d(l):d}function zE(l){var d=Ni(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=nr,A=x.baseQueue,R=m.pending;if(R!==null){if(A!==null){var O=A.next;A.next=R.next,R.next=O}x.baseQueue=A=R,m.pending=null}if(A!==null){R=A.next,x=x.baseState;var U=O=null,Y=null,ae=R;do{var be=ae.lane;if((Tl&be)===be)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),x=ae.hasEagerState?ae.eagerState:l(x,ae.action);else{var xe={lane:be,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(U=Y=xe,O=x):Y=Y.next=xe,wn.lanes|=be,Al|=be}ae=ae.next}while(ae!==null&&ae!==R);Y===null?O=x:Y.next=U,as(x,d.memoizedState)||(ri=!0),d.memoizedState=x,d.baseState=O,d.baseQueue=Y,m.lastRenderedState=x}if(l=m.interleaved,l!==null){A=l;do R=A.lane,wn.lanes|=R,Al|=R,A=A.next;while(A!==l)}else A===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function YE(l){var d=Ni(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var x=m.dispatch,A=m.pending,R=d.memoizedState;if(A!==null){m.pending=null;var O=A=A.next;do R=l(R,O.action),O=O.next;while(O!==A);as(R,d.memoizedState)||(ri=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),m.lastRenderedState=R}return[R,x]}function Vk(){}function Wk(l,d){var m=wn,x=Ni(),A=d(),R=!as(x.memoizedState,A);if(R&&(x.memoizedState=A,ri=!0),x=x.queue,qE(Kk.bind(null,m,x,l),[l]),x.getSnapshot!==d||R||dr!==null&&dr.memoizedState.tag&1){if(m.flags|=2048,Lh(9,Gk.bind(null,m,x,A,d),void 0,null),hr===null)throw Error(n(349));Tl&30||Hk(m,d,A)}return A}function Hk(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=wn.updateQueue,d===null?(d={lastEffect:null,stores:null},wn.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Gk(l,d,m,x){d.value=m,d.getSnapshot=x,zk(d)&&Yk(l)}function Kk(l,d,m){return m(function(){zk(d)&&Yk(l)})}function zk(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!as(l,m)}catch{return!0}}function Yk(l){var d=Mo(l,1);d!==null&&hs(d,l,1,-1)}function qk(l){var d=$s();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:l},d.queue=l,l=l.dispatch=OU.bind(null,wn,l),[d.memoizedState,l]}function Lh(l,d,m,x){return l={tag:l,create:d,destroy:m,deps:x,next:null},d=wn.updateQueue,d===null?(d={lastEffect:null,stores:null},wn.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,d.lastEffect=l)),l}function Xk(){return Ni().memoizedState}function ng(l,d,m,x){var A=$s();wn.flags|=l,A.memoizedState=Lh(1|d,m,void 0,x===void 0?null:x)}function rg(l,d,m,x){var A=Ni();x=x===void 0?null:x;var R=void 0;if(nr!==null){var O=nr.memoizedState;if(R=O.destroy,x!==null&&HE(x,O.deps)){A.memoizedState=Lh(d,m,R,x);return}}wn.flags|=l,A.memoizedState=Lh(1|d,m,R,x)}function Qk(l,d){return ng(8390656,8,l,d)}function qE(l,d){return rg(2048,8,l,d)}function Zk(l,d){return rg(4,2,l,d)}function Jk(l,d){return rg(4,4,l,d)}function eR(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function tR(l,d,m){return m=m!=null?m.concat([l]):null,rg(4,4,eR.bind(null,d,l),m)}function XE(){}function nR(l,d){var m=Ni();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&HE(d,x[1])?x[0]:(m.memoizedState=[l,d],l)}function rR(l,d){var m=Ni();d=d===void 0?null:d;var x=m.memoizedState;return x!==null&&d!==null&&HE(d,x[1])?x[0]:(l=l(),m.memoizedState=[l,d],l)}function iR(l,d,m){return Tl&21?(as(m,d)||(m=MC(),wn.lanes|=m,Al|=m,l.baseState=!0),d):(l.baseState&&(l.baseState=!1,ri=!0),l.memoizedState=m)}function PU(l,d){var m=Xt;Xt=m!==0&&4>m?m:4,l(!0);var x=WE.transition;WE.transition={};try{l(!1),d()}finally{Xt=m,WE.transition=x}}function sR(){return Ni().memoizedState}function MU(l,d,m){var x=Ra(l);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},oR(l))aR(d,m);else if(m=$k(l,d,m,x),m!==null){var A=qr();hs(m,l,x,A),lR(m,d,x)}}function OU(l,d,m){var x=Ra(l),A={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(oR(l))aR(d,A);else{var R=l.alternate;if(l.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var O=d.lastRenderedState,U=R(O,m);if(A.hasEagerState=!0,A.eagerState=U,as(U,O)){var Y=d.interleaved;Y===null?(A.next=A,$E(d)):(A.next=Y.next,Y.next=A),d.interleaved=A;return}}catch{}finally{}m=$k(l,d,A,x),m!==null&&(A=qr(),hs(m,l,x,A),lR(m,d,x))}}function oR(l){var d=l.alternate;return l===wn||d!==null&&d===wn}function aR(l,d){kh=tg=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function lR(l,d,m){if(m&4194240){var x=d.lanes;x&=l.pendingLanes,m|=x,d.lanes=m,Zb(l,m)}}var ig={readContext:Oi,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},NU={readContext:Oi,useCallback:function(l,d){return $s().memoizedState=[l,d===void 0?null:d],l},useContext:Oi,useEffect:Qk,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,ng(4194308,4,eR.bind(null,d,l),m)},useLayoutEffect:function(l,d){return ng(4194308,4,l,d)},useInsertionEffect:function(l,d){return ng(4,2,l,d)},useMemo:function(l,d){var m=$s();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var x=$s();return d=m!==void 0?m(d):d,x.memoizedState=x.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},x.queue=l,l=l.dispatch=MU.bind(null,wn,l),[x.memoizedState,l]},useRef:function(l){var d=$s();return l={current:l},d.memoizedState=l},useState:qk,useDebugValue:XE,useDeferredValue:function(l){return $s().memoizedState=l},useTransition:function(){var l=qk(!1),d=l[0];return l=PU.bind(null,l[1]),$s().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var x=wn,A=$s();if(En){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),hr===null)throw Error(n(349));Tl&30||Hk(x,d,m)}A.memoizedState=m;var R={value:m,getSnapshot:d};return A.queue=R,Qk(Kk.bind(null,x,R,l),[l]),x.flags|=2048,Lh(9,Gk.bind(null,x,R,m,d),void 0,null),m},useId:function(){var l=$s(),d=hr.identifierPrefix;if(En){var m=Po,x=Do;m=(x&~(1<<32-os(x)-1)).toString(32)+m,d=":"+d+"R"+m,m=Rh++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=DU++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},$U={readContext:Oi,useCallback:nR,useContext:Oi,useEffect:qE,useImperativeHandle:tR,useInsertionEffect:Zk,useLayoutEffect:Jk,useMemo:rR,useReducer:zE,useRef:Xk,useState:function(){return zE(Ih)},useDebugValue:XE,useDeferredValue:function(l){var d=Ni();return iR(d,nr.memoizedState,l)},useTransition:function(){var l=zE(Ih)[0],d=Ni().memoizedState;return[l,d]},useMutableSource:Vk,useSyncExternalStore:Wk,useId:sR,unstable_isNewReconciler:!1},FU={readContext:Oi,useCallback:nR,useContext:Oi,useEffect:qE,useImperativeHandle:tR,useInsertionEffect:Zk,useLayoutEffect:Jk,useMemo:rR,useReducer:YE,useRef:Xk,useState:function(){return YE(Ih)},useDebugValue:XE,useDeferredValue:function(l){var d=Ni();return nr===null?d.memoizedState=l:iR(d,nr.memoizedState,l)},useTransition:function(){var l=YE(Ih)[0],d=Ni().memoizedState;return[l,d]},useMutableSource:Vk,useSyncExternalStore:Wk,useId:sR,unstable_isNewReconciler:!1};function cs(l,d){if(l&&l.defaultProps){d=K({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function QE(l,d,m,x){d=l.memoizedState,m=m(x,d),m=m==null?d:K({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var sg={isMounted:function(l){return(l=l._reactInternals)?gl(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var x=qr(),A=Ra(l),R=Oo(x,A);R.payload=d,m!=null&&(R.callback=m),d=wa(l,R,A),d!==null&&(hs(d,l,A,x),Qm(d,l,A))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var x=qr(),A=Ra(l),R=Oo(x,A);R.tag=1,R.payload=d,m!=null&&(R.callback=m),d=wa(l,R,A),d!==null&&(hs(d,l,A,x),Qm(d,l,A))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=qr(),x=Ra(l),A=Oo(m,x);A.tag=2,d!=null&&(A.callback=d),d=wa(l,A,x),d!==null&&(hs(d,l,x,m),Qm(d,l,x))}};function cR(l,d,m,x,A,R,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,R,O):d.prototype&&d.prototype.isPureReactComponent?!vh(m,x)||!vh(A,R):!0}function uR(l,d,m){var x=!1,A=Sa,R=d.contextType;return typeof R=="object"&&R!==null?R=Oi(R):(A=ni(d)?yl:Mr.current,x=d.contextTypes,R=(x=x!=null)?nu(l,A):Sa),d=new d(m,R),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sg,l.stateNode=d,d._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=R),d}function dR(l,d,m,x){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,x),d.state!==l&&sg.enqueueReplaceState(d,d.state,null)}function ZE(l,d,m,x){var A=l.stateNode;A.props=m,A.state=l.memoizedState,A.refs={},FE(l);var R=d.contextType;typeof R=="object"&&R!==null?A.context=Oi(R):(R=ni(d)?yl:Mr.current,A.context=nu(l,R)),A.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(QE(l,d,R,m),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&sg.enqueueReplaceState(A,A.state,null),Zm(l,m,A,x),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function uu(l,d){try{var m="",x=d;do m+=me(x),x=x.return;while(x);var A=m}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:l,source:d,stack:A,digest:null}}function JE(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function ex(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var BU=typeof WeakMap=="function"?WeakMap:Map;function hR(l,d,m){m=Oo(-1,m),m.tag=3,m.payload={element:null};var x=d.value;return m.callback=function(){hg||(hg=!0,mx=x),ex(l,d)},m}function fR(l,d,m){m=Oo(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var A=d.value;m.payload=function(){return x(A)},m.callback=function(){ex(l,d)}}var R=l.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(m.callback=function(){ex(l,d),typeof x!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})}),m}function pR(l,d,m){var x=l.pingCache;if(x===null){x=l.pingCache=new BU;var A=new Set;x.set(d,A)}else A=x.get(d),A===void 0&&(A=new Set,x.set(d,A));A.has(m)||(A.add(m),l=JU.bind(null,l,d,m),d.then(l,l))}function mR(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function gR(l,d,m,x,A){return l.mode&1?(l.flags|=65536,l.lanes=A,l):(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Oo(-1,1),d.tag=2,wa(m,d,1))),m.lanes|=1),l)}var UU=C.ReactCurrentOwner,ri=!1;function Yr(l,d,m,x){d.child=l===null?Nk(d,null,m,x):ou(d,l.child,m,x)}function vR(l,d,m,x,A){m=m.render;var R=d.ref;return lu(d,A),x=GE(l,d,m,x,R,A),m=KE(),l!==null&&!ri?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,No(l,d,A)):(En&&m&&kE(d),d.flags|=1,Yr(l,d,x,A),d.child)}function yR(l,d,m,x,A){if(l===null){var R=m.type;return typeof R=="function"&&!Sx(R)&&R.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=R,bR(l,d,R,x,A)):(l=yg(m.type,null,x,d,d.mode,A),l.ref=d.ref,l.return=d,d.child=l)}if(R=l.child,!(l.lanes&A)){var O=R.memoizedProps;if(m=m.compare,m=m!==null?m:vh,m(O,x)&&l.ref===d.ref)return No(l,d,A)}return d.flags|=1,l=La(R,x),l.ref=d.ref,l.return=d,d.child=l}function bR(l,d,m,x,A){if(l!==null){var R=l.memoizedProps;if(vh(R,x)&&l.ref===d.ref)if(ri=!1,d.pendingProps=x=R,(l.lanes&A)!==0)l.flags&131072&&(ri=!0);else return d.lanes=l.lanes,No(l,d,A)}return tx(l,d,m,x,A)}function ER(l,d,m){var x=d.pendingProps,A=x.children,R=l!==null?l.memoizedState:null;if(x.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(hu,xi),xi|=m;else{if(!(m&1073741824))return l=R!==null?R.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,cn(hu,xi),xi|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=R!==null?R.baseLanes:m,cn(hu,xi),xi|=x}else R!==null?(x=R.baseLanes|m,d.memoizedState=null):x=m,cn(hu,xi),xi|=x;return Yr(l,d,A,m),d.child}function xR(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function tx(l,d,m,x,A){var R=ni(m)?yl:Mr.current;return R=nu(d,R),lu(d,A),m=GE(l,d,m,x,R,A),x=KE(),l!==null&&!ri?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~A,No(l,d,A)):(En&&x&&kE(d),d.flags|=1,Yr(l,d,m,A),d.child)}function SR(l,d,m,x,A){if(ni(m)){var R=!0;Wm(d)}else R=!1;if(lu(d,A),d.stateNode===null)ag(l,d),uR(d,m,x),ZE(d,m,x,A),x=!0;else if(l===null){var O=d.stateNode,U=d.memoizedProps;O.props=U;var Y=O.context,ae=m.contextType;typeof ae=="object"&&ae!==null?ae=Oi(ae):(ae=ni(m)?yl:Mr.current,ae=nu(d,ae));var be=m.getDerivedStateFromProps,xe=typeof be=="function"||typeof O.getSnapshotBeforeUpdate=="function";xe||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(U!==x||Y!==ae)&&dR(d,O,x,ae),Aa=!1;var ve=d.memoizedState;O.state=ve,Zm(d,x,O,A),Y=d.memoizedState,U!==x||ve!==Y||ti.current||Aa?(typeof be=="function"&&(QE(d,m,be,x),Y=d.memoizedState),(U=Aa||cR(d,m,U,x,ve,Y,ae))?(xe||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(d.flags|=4194308)):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=Y),O.props=x,O.state=Y,O.context=ae,x=U):(typeof O.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{O=d.stateNode,Fk(l,d),U=d.memoizedProps,ae=d.type===d.elementType?U:cs(d.type,U),O.props=ae,xe=d.pendingProps,ve=O.context,Y=m.contextType,typeof Y=="object"&&Y!==null?Y=Oi(Y):(Y=ni(m)?yl:Mr.current,Y=nu(d,Y));var Me=m.getDerivedStateFromProps;(be=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(U!==xe||ve!==Y)&&dR(d,O,x,Y),Aa=!1,ve=d.memoizedState,O.state=ve,Zm(d,x,O,A);var Ue=d.memoizedState;U!==xe||ve!==Ue||ti.current||Aa?(typeof Me=="function"&&(QE(d,m,Me,x),Ue=d.memoizedState),(ae=Aa||cR(d,m,ae,x,ve,Ue,Y)||!1)?(be||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,Ue,Y),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,Ue,Y)),typeof O.componentDidUpdate=="function"&&(d.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof O.componentDidUpdate!="function"||U===l.memoizedProps&&ve===l.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ve===l.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=Ue),O.props=x,O.state=Ue,O.context=Y,x=ae):(typeof O.componentDidUpdate!="function"||U===l.memoizedProps&&ve===l.memoizedState||(d.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===l.memoizedProps&&ve===l.memoizedState||(d.flags|=1024),x=!1)}return nx(l,d,m,x,R,A)}function nx(l,d,m,x,A,R){xR(l,d);var O=(d.flags&128)!==0;if(!x&&!O)return A&&Ck(d,m,!1),No(l,d,R);x=d.stateNode,UU.current=d;var U=O&&typeof m.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,l!==null&&O?(d.child=ou(d,l.child,null,R),d.child=ou(d,null,U,R)):Yr(l,d,U,R),d.memoizedState=x.state,A&&Ck(d,m,!0),d.child}function TR(l){var d=l.stateNode;d.pendingContext?wk(l,d.pendingContext,d.pendingContext!==d.context):d.context&&wk(l,d.context,!1),BE(l,d.containerInfo)}function AR(l,d,m,x,A){return su(),DE(A),d.flags|=256,Yr(l,d,m,x),d.child}var rx={dehydrated:null,treeContext:null,retryLane:0};function ix(l){return{baseLanes:l,cachePool:null,transitions:null}}function wR(l,d,m){var x=d.pendingProps,A=An.current,R=!1,O=(d.flags&128)!==0,U;if((U=O)||(U=l!==null&&l.memoizedState===null?!1:(A&2)!==0),U?(R=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),cn(An,A&1),l===null)return LE(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(d.mode&1?l.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(O=x.children,l=x.fallback,R?(x=d.mode,R=d.child,O={mode:"hidden",children:O},!(x&1)&&R!==null?(R.childLanes=0,R.pendingProps=O):R=bg(O,x,0,null),l=kl(l,x,m,null),R.return=d,l.return=d,R.sibling=l,d.child=R,d.child.memoizedState=ix(m),d.memoizedState=rx,l):sx(d,O));if(A=l.memoizedState,A!==null&&(U=A.dehydrated,U!==null))return jU(l,d,O,x,U,A,m);if(R){R=x.fallback,O=d.mode,A=l.child,U=A.sibling;var Y={mode:"hidden",children:x.children};return!(O&1)&&d.child!==A?(x=d.child,x.childLanes=0,x.pendingProps=Y,d.deletions=null):(x=La(A,Y),x.subtreeFlags=A.subtreeFlags&14680064),U!==null?R=La(U,R):(R=kl(R,O,m,null),R.flags|=2),R.return=d,x.return=d,x.sibling=R,d.child=x,x=R,R=d.child,O=l.child.memoizedState,O=O===null?ix(m):{baseLanes:O.baseLanes|m,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=l.childLanes&~m,d.memoizedState=rx,x}return R=l.child,l=R.sibling,x=La(R,{mode:"visible",children:x.children}),!(d.mode&1)&&(x.lanes=m),x.return=d,x.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=x,d.memoizedState=null,x}function sx(l,d){return d=bg({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function og(l,d,m,x){return x!==null&&DE(x),ou(d,l.child,null,m),l=sx(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function jU(l,d,m,x,A,R,O){if(m)return d.flags&256?(d.flags&=-257,x=JE(Error(n(422))),og(l,d,O,x)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(R=x.fallback,A=d.mode,x=bg({mode:"visible",children:x.children},A,0,null),R=kl(R,A,O,null),R.flags|=2,x.return=d,R.return=d,x.sibling=R,d.child=x,d.mode&1&&ou(d,l.child,null,O),d.child.memoizedState=ix(O),d.memoizedState=rx,R);if(!(d.mode&1))return og(l,d,O,null);if(A.data==="$!"){if(x=A.nextSibling&&A.nextSibling.dataset,x)var U=x.dgst;return x=U,R=Error(n(419)),x=JE(R,x,void 0),og(l,d,O,x)}if(U=(O&l.childLanes)!==0,ri||U){if(x=hr,x!==null){switch(O&-O){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(x.suspendedLanes|O)?0:A,A!==0&&A!==R.retryLane&&(R.retryLane=A,Mo(l,A),hs(x,l,A,-1))}return xx(),x=JE(Error(n(421))),og(l,d,O,x)}return A.data==="$?"?(d.flags|=128,d.child=l.child,d=e6.bind(null,l),A._reactRetry=d,null):(l=R.treeContext,Ei=Ea(A.nextSibling),bi=d,En=!0,ls=null,l!==null&&(Pi[Mi++]=Do,Pi[Mi++]=Po,Pi[Mi++]=bl,Do=l.id,Po=l.overflow,bl=d),d=sx(d,x.children),d.flags|=4096,d)}function _R(l,d,m){l.lanes|=d;var x=l.alternate;x!==null&&(x.lanes|=d),NE(l.return,d,m)}function ox(l,d,m,x,A){var R=l.memoizedState;R===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:A}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=m,R.tailMode=A)}function CR(l,d,m){var x=d.pendingProps,A=x.revealOrder,R=x.tail;if(Yr(l,d,x.children,m),x=An.current,x&2)x=x&1|2,d.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_R(l,m,d);else if(l.tag===19)_R(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(cn(An,x),!(d.mode&1))d.memoizedState=null;else switch(A){case"forwards":for(m=d.child,A=null;m!==null;)l=m.alternate,l!==null&&Jm(l)===null&&(A=m),m=m.sibling;m=A,m===null?(A=d.child,d.child=null):(A=m.sibling,m.sibling=null),ox(d,!1,A,m,R);break;case"backwards":for(m=null,A=d.child,d.child=null;A!==null;){if(l=A.alternate,l!==null&&Jm(l)===null){d.child=A;break}l=A.sibling,A.sibling=m,m=A,A=l}ox(d,!0,m,null,R);break;case"together":ox(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ag(l,d){!(d.mode&1)&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function No(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Al|=d.lanes,!(m&d.childLanes))return null;if(l!==null&&d.child!==l.child)throw Error(n(153));if(d.child!==null){for(l=d.child,m=La(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=La(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function VU(l,d,m){switch(d.tag){case 3:TR(d),su();break;case 5:jk(d);break;case 1:ni(d.type)&&Wm(d);break;case 4:BE(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,A=d.memoizedProps.value;cn(qm,x._currentValue),x._currentValue=A;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(cn(An,An.current&1),d.flags|=128,null):m&d.child.childLanes?wR(l,d,m):(cn(An,An.current&1),l=No(l,d,m),l!==null?l.sibling:null);cn(An,An.current&1);break;case 19:if(x=(m&d.childLanes)!==0,l.flags&128){if(x)return CR(l,d,m);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),cn(An,An.current),x)break;return null;case 22:case 23:return d.lanes=0,ER(l,d,m)}return No(l,d,m)}var kR,ax,RR,IR;kR=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},ax=function(){},RR=function(l,d,m,x){var A=l.memoizedProps;if(A!==x){l=d.stateNode,Sl(Ns.current);var R=null;switch(m){case"input":A=We(l,A),x=We(l,x),R=[];break;case"select":A=K({},A,{value:void 0}),x=K({},x,{value:void 0}),R=[];break;case"textarea":A=Le(l,A),x=Le(l,x),R=[];break;default:typeof A.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=Um)}we(m,x);var O;m=null;for(ae in A)if(!x.hasOwnProperty(ae)&&A.hasOwnProperty(ae)&&A[ae]!=null)if(ae==="style"){var U=A[ae];for(O in U)U.hasOwnProperty(O)&&(m||(m={}),m[O]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?R||(R=[]):(R=R||[]).push(ae,null));for(ae in x){var Y=x[ae];if(U=A!=null?A[ae]:void 0,x.hasOwnProperty(ae)&&Y!==U&&(Y!=null||U!=null))if(ae==="style")if(U){for(O in U)!U.hasOwnProperty(O)||Y&&Y.hasOwnProperty(O)||(m||(m={}),m[O]="");for(O in Y)Y.hasOwnProperty(O)&&U[O]!==Y[O]&&(m||(m={}),m[O]=Y[O])}else m||(R||(R=[]),R.push(ae,m)),m=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,U=U?U.__html:void 0,Y!=null&&U!==Y&&(R=R||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(R=R||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&vn("scroll",l),R||U===Y||(R=[])):(R=R||[]).push(ae,Y))}m&&(R=R||[]).push("style",m);var ae=R;(d.updateQueue=ae)&&(d.flags|=4)}},IR=function(l,d,m,x){m!==x&&(d.flags|=4)};function Dh(l,d){if(!En)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Nr(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(d)for(var A=l.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags&14680064,x|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=x,l.childLanes=m,d}function WU(l,d,m){var x=d.pendingProps;switch(RE(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(d),null;case 1:return ni(d.type)&&Vm(),Nr(d),null;case 3:return x=d.stateNode,cu(),yn(ti),yn(Mr),VE(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(zm(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,ls!==null&&(yx(ls),ls=null))),ax(l,d),Nr(d),null;case 5:UE(d);var A=Sl(Ch.current);if(m=d.type,l!==null&&d.stateNode!=null)RR(l,d,m,x,A),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Nr(d),null}if(l=Sl(Ns.current),zm(d)){x=d.stateNode,m=d.type;var R=d.memoizedProps;switch(x[Os]=d,x[Sh]=R,l=(d.mode&1)!==0,m){case"dialog":vn("cancel",x),vn("close",x);break;case"iframe":case"object":case"embed":vn("load",x);break;case"video":case"audio":for(A=0;A<bh.length;A++)vn(bh[A],x);break;case"source":vn("error",x);break;case"img":case"image":case"link":vn("error",x),vn("load",x);break;case"details":vn("toggle",x);break;case"input":gt(x,R),vn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!R.multiple},vn("invalid",x);break;case"textarea":Tn(x,R),vn("invalid",x)}we(m,R),A=null;for(var O in R)if(R.hasOwnProperty(O)){var U=R[O];O==="children"?typeof U=="string"?x.textContent!==U&&(R.suppressHydrationWarning!==!0&&Bm(x.textContent,U,l),A=["children",U]):typeof U=="number"&&x.textContent!==""+U&&(R.suppressHydrationWarning!==!0&&Bm(x.textContent,U,l),A=["children",""+U]):i.hasOwnProperty(O)&&U!=null&&O==="onScroll"&&vn("scroll",x)}switch(m){case"input":et(x),ht(x,R,!0);break;case"textarea":et(x),Fn(x);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(x.onclick=Um)}x=A,d.updateQueue=x,x!==null&&(d.flags|=4)}else{O=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Wn(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=O.createElement(m,{is:x.is}):(l=O.createElement(m),m==="select"&&(O=l,x.multiple?O.multiple=!0:x.size&&(O.size=x.size))):l=O.createElementNS(l,m),l[Os]=d,l[Sh]=x,kR(l,d,!1,!1),d.stateNode=l;e:{switch(O=qe(m,x),m){case"dialog":vn("cancel",l),vn("close",l),A=x;break;case"iframe":case"object":case"embed":vn("load",l),A=x;break;case"video":case"audio":for(A=0;A<bh.length;A++)vn(bh[A],l);A=x;break;case"source":vn("error",l),A=x;break;case"img":case"image":case"link":vn("error",l),vn("load",l),A=x;break;case"details":vn("toggle",l),A=x;break;case"input":gt(l,x),A=We(l,x),vn("invalid",l);break;case"option":A=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},A=K({},x,{value:void 0}),vn("invalid",l);break;case"textarea":Tn(l,x),A=Le(l,x),vn("invalid",l);break;default:A=x}we(m,A),U=A;for(R in U)if(U.hasOwnProperty(R)){var Y=U[R];R==="style"?Lt(l,Y):R==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Rt(l,Y)):R==="children"?typeof Y=="string"?(m!=="textarea"||Y!=="")&&bt(l,Y):typeof Y=="number"&&bt(l,""+Y):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?Y!=null&&R==="onScroll"&&vn("scroll",l):Y!=null&&T(l,R,Y,O))}switch(m){case"input":et(l),ht(l,x,!1);break;case"textarea":et(l),Fn(l);break;case"option":x.value!=null&&l.setAttribute("value",""+_e(x.value));break;case"select":l.multiple=!!x.multiple,R=x.value,R!=null?Oe(l,!!x.multiple,R,!1):x.defaultValue!=null&&Oe(l,!!x.multiple,x.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=Um)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Nr(d),null;case 6:if(l&&d.stateNode!=null)IR(l,d,l.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(m=Sl(Ch.current),Sl(Ns.current),zm(d)){if(x=d.stateNode,m=d.memoizedProps,x[Os]=d,(R=x.nodeValue!==m)&&(l=bi,l!==null))switch(l.tag){case 3:Bm(x.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Bm(x.nodeValue,m,(l.mode&1)!==0)}R&&(d.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Os]=d,d.stateNode=x}return Nr(d),null;case 13:if(yn(An),x=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(En&&Ei!==null&&d.mode&1&&!(d.flags&128))Pk(),su(),d.flags|=98560,R=!1;else if(R=zm(d),x!==null&&x.dehydrated!==null){if(l===null){if(!R)throw Error(n(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[Os]=d}else su(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Nr(d),R=!1}else ls!==null&&(yx(ls),ls=null),R=!0;if(!R)return d.flags&65536?d:null}return d.flags&128?(d.lanes=m,d):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(d.child.flags|=8192,d.mode&1&&(l===null||An.current&1?rr===0&&(rr=3):xx())),d.updateQueue!==null&&(d.flags|=4),Nr(d),null);case 4:return cu(),ax(l,d),l===null&&Eh(d.stateNode.containerInfo),Nr(d),null;case 10:return OE(d.type._context),Nr(d),null;case 17:return ni(d.type)&&Vm(),Nr(d),null;case 19:if(yn(An),R=d.memoizedState,R===null)return Nr(d),null;if(x=(d.flags&128)!==0,O=R.rendering,O===null)if(x)Dh(R,!1);else{if(rr!==0||l!==null&&l.flags&128)for(l=d.child;l!==null;){if(O=Jm(l),O!==null){for(d.flags|=128,Dh(R,!1),x=O.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=m,m=d.child;m!==null;)R=m,l=x,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=l,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,l=O.dependencies,R.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return cn(An,An.current&1|2),d.child}l=l.sibling}R.tail!==null&&Bn()>fu&&(d.flags|=128,x=!0,Dh(R,!1),d.lanes=4194304)}else{if(!x)if(l=Jm(O),l!==null){if(d.flags|=128,x=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Dh(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!En)return Nr(d),null}else 2*Bn()-R.renderingStartTime>fu&&m!==1073741824&&(d.flags|=128,x=!0,Dh(R,!1),d.lanes=4194304);R.isBackwards?(O.sibling=d.child,d.child=O):(m=R.last,m!==null?m.sibling=O:d.child=O,R.last=O)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Bn(),d.sibling=null,m=An.current,cn(An,x?m&1|2:m&1),d):(Nr(d),null);case 22:case 23:return Ex(),x=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(d.flags|=8192),x&&d.mode&1?xi&1073741824&&(Nr(d),d.subtreeFlags&6&&(d.flags|=8192)):Nr(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function HU(l,d){switch(RE(d),d.tag){case 1:return ni(d.type)&&Vm(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return cu(),yn(ti),yn(Mr),VE(),l=d.flags,l&65536&&!(l&128)?(d.flags=l&-65537|128,d):null;case 5:return UE(d),null;case 13:if(yn(An),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(n(340));su()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return yn(An),null;case 4:return cu(),null;case 10:return OE(d.type._context),null;case 22:case 23:return Ex(),null;case 24:return null;default:return null}}var lg=!1,$r=!1,GU=typeof WeakSet=="function"?WeakSet:Set,$e=null;function du(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Ln(l,d,x)}else m.current=null}function lx(l,d,m){try{m()}catch(x){Ln(l,d,x)}}var LR=!1;function KU(l,d){if(EE=km,l=ck(),hE(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var A=x.anchorOffset,R=x.focusNode;x=x.focusOffset;try{m.nodeType,R.nodeType}catch{m=null;break e}var O=0,U=-1,Y=-1,ae=0,be=0,xe=l,ve=null;t:for(;;){for(var Me;xe!==m||A!==0&&xe.nodeType!==3||(U=O+A),xe!==R||x!==0&&xe.nodeType!==3||(Y=O+x),xe.nodeType===3&&(O+=xe.nodeValue.length),(Me=xe.firstChild)!==null;)ve=xe,xe=Me;for(;;){if(xe===l)break t;if(ve===m&&++ae===A&&(U=O),ve===R&&++be===x&&(Y=O),(Me=xe.nextSibling)!==null)break;xe=ve,ve=xe.parentNode}xe=Me}m=U===-1||Y===-1?null:{start:U,end:Y}}else m=null}m=m||{start:0,end:0}}else m=null;for(xE={focusedElem:l,selectionRange:m},km=!1,$e=d;$e!==null;)if(d=$e,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,$e=l;else for(;$e!==null;){d=$e;try{var Ue=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var Ve=Ue.memoizedProps,Un=Ue.memoizedState,te=d.stateNode,X=te.getSnapshotBeforeUpdate(d.elementType===d.type?Ve:cs(d.type,Ve),Un);te.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var se=d.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Ln(d,d.return,Ae)}if(l=d.sibling,l!==null){l.return=d.return,$e=l;break}$e=d.return}return Ue=LR,LR=!1,Ue}function Ph(l,d,m){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&l)===l){var R=A.destroy;A.destroy=void 0,R!==void 0&&lx(d,m,R)}A=A.next}while(A!==x)}}function cg(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==d)}}function cx(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function DR(l){var d=l.alternate;d!==null&&(l.alternate=null,DR(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Os],delete d[Sh],delete d[wE],delete d[kU],delete d[RU])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function PR(l){return l.tag===5||l.tag===3||l.tag===4}function MR(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||PR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ux(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Um));else if(x!==4&&(l=l.child,l!==null))for(ux(l,d,m),l=l.sibling;l!==null;)ux(l,d,m),l=l.sibling}function dx(l,d,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(dx(l,d,m),l=l.sibling;l!==null;)dx(l,d,m),l=l.sibling}var Ar=null,us=!1;function _a(l,d,m){for(m=m.child;m!==null;)OR(l,d,m),m=m.sibling}function OR(l,d,m){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Sm,m)}catch{}switch(m.tag){case 5:$r||du(m,d);case 6:var x=Ar,A=us;Ar=null,_a(l,d,m),Ar=x,us=A,Ar!==null&&(us?(l=Ar,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Ar.removeChild(m.stateNode));break;case 18:Ar!==null&&(us?(l=Ar,m=m.stateNode,l.nodeType===8?AE(l.parentNode,m):l.nodeType===1&&AE(l,m),dh(l)):AE(Ar,m.stateNode));break;case 4:x=Ar,A=us,Ar=m.stateNode.containerInfo,us=!0,_a(l,d,m),Ar=x,us=A;break;case 0:case 11:case 14:case 15:if(!$r&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){A=x=x.next;do{var R=A,O=R.destroy;R=R.tag,O!==void 0&&(R&2||R&4)&&lx(m,d,O),A=A.next}while(A!==x)}_a(l,d,m);break;case 1:if(!$r&&(du(m,d),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(U){Ln(m,d,U)}_a(l,d,m);break;case 21:_a(l,d,m);break;case 22:m.mode&1?($r=(x=$r)||m.memoizedState!==null,_a(l,d,m),$r=x):_a(l,d,m);break;default:_a(l,d,m)}}function NR(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new GU),d.forEach(function(x){var A=t6.bind(null,l,x);m.has(x)||(m.add(x),x.then(A,A))})}}function ds(l,d){var m=d.deletions;if(m!==null)for(var x=0;x<m.length;x++){var A=m[x];try{var R=l,O=d,U=O;e:for(;U!==null;){switch(U.tag){case 5:Ar=U.stateNode,us=!1;break e;case 3:Ar=U.stateNode.containerInfo,us=!0;break e;case 4:Ar=U.stateNode.containerInfo,us=!0;break e}U=U.return}if(Ar===null)throw Error(n(160));OR(R,O,A),Ar=null,us=!1;var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(ae){Ln(A,d,ae)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)$R(d,l),d=d.sibling}function $R(l,d){var m=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ds(d,l),Fs(l),x&4){try{Ph(3,l,l.return),cg(3,l)}catch(Ve){Ln(l,l.return,Ve)}try{Ph(5,l,l.return)}catch(Ve){Ln(l,l.return,Ve)}}break;case 1:ds(d,l),Fs(l),x&512&&m!==null&&du(m,m.return);break;case 5:if(ds(d,l),Fs(l),x&512&&m!==null&&du(m,m.return),l.flags&32){var A=l.stateNode;try{bt(A,"")}catch(Ve){Ln(l,l.return,Ve)}}if(x&4&&(A=l.stateNode,A!=null)){var R=l.memoizedProps,O=m!==null?m.memoizedProps:R,U=l.type,Y=l.updateQueue;if(l.updateQueue=null,Y!==null)try{U==="input"&&R.type==="radio"&&R.name!=null&&$t(A,R),qe(U,O);var ae=qe(U,R);for(O=0;O<Y.length;O+=2){var be=Y[O],xe=Y[O+1];be==="style"?Lt(A,xe):be==="dangerouslySetInnerHTML"?Rt(A,xe):be==="children"?bt(A,xe):T(A,be,xe,ae)}switch(U){case"input":Ye(A,R);break;case"textarea":Ht(A,R);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!R.multiple;var Me=R.value;Me!=null?Oe(A,!!R.multiple,Me,!1):ve!==!!R.multiple&&(R.defaultValue!=null?Oe(A,!!R.multiple,R.defaultValue,!0):Oe(A,!!R.multiple,R.multiple?[]:"",!1))}A[Sh]=R}catch(Ve){Ln(l,l.return,Ve)}}break;case 6:if(ds(d,l),Fs(l),x&4){if(l.stateNode===null)throw Error(n(162));A=l.stateNode,R=l.memoizedProps;try{A.nodeValue=R}catch(Ve){Ln(l,l.return,Ve)}}break;case 3:if(ds(d,l),Fs(l),x&4&&m!==null&&m.memoizedState.isDehydrated)try{dh(d.containerInfo)}catch(Ve){Ln(l,l.return,Ve)}break;case 4:ds(d,l),Fs(l);break;case 13:ds(d,l),Fs(l),A=l.child,A.flags&8192&&(R=A.memoizedState!==null,A.stateNode.isHidden=R,!R||A.alternate!==null&&A.alternate.memoizedState!==null||(px=Bn())),x&4&&NR(l);break;case 22:if(be=m!==null&&m.memoizedState!==null,l.mode&1?($r=(ae=$r)||be,ds(d,l),$r=ae):ds(d,l),Fs(l),x&8192){if(ae=l.memoizedState!==null,(l.stateNode.isHidden=ae)&&!be&&l.mode&1)for($e=l,be=l.child;be!==null;){for(xe=$e=be;$e!==null;){switch(ve=$e,Me=ve.child,ve.tag){case 0:case 11:case 14:case 15:Ph(4,ve,ve.return);break;case 1:du(ve,ve.return);var Ue=ve.stateNode;if(typeof Ue.componentWillUnmount=="function"){x=ve,m=ve.return;try{d=x,Ue.props=d.memoizedProps,Ue.state=d.memoizedState,Ue.componentWillUnmount()}catch(Ve){Ln(x,m,Ve)}}break;case 5:du(ve,ve.return);break;case 22:if(ve.memoizedState!==null){UR(xe);continue}}Me!==null?(Me.return=ve,$e=Me):UR(xe)}be=be.sibling}e:for(be=null,xe=l;;){if(xe.tag===5){if(be===null){be=xe;try{A=xe.stateNode,ae?(R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(U=xe.stateNode,Y=xe.memoizedProps.style,O=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,U.style.display=Et("display",O))}catch(Ve){Ln(l,l.return,Ve)}}}else if(xe.tag===6){if(be===null)try{xe.stateNode.nodeValue=ae?"":xe.memoizedProps}catch(Ve){Ln(l,l.return,Ve)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===l)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===l)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===l)break e;be===xe&&(be=null),xe=xe.return}be===xe&&(be=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:ds(d,l),Fs(l),x&4&&NR(l);break;case 21:break;default:ds(d,l),Fs(l)}}function Fs(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(PR(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var A=x.stateNode;x.flags&32&&(bt(A,""),x.flags&=-33);var R=MR(l);dx(l,R,A);break;case 3:case 4:var O=x.stateNode.containerInfo,U=MR(l);ux(l,U,O);break;default:throw Error(n(161))}}catch(Y){Ln(l,l.return,Y)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function zU(l,d,m){$e=l,FR(l)}function FR(l,d,m){for(var x=(l.mode&1)!==0;$e!==null;){var A=$e,R=A.child;if(A.tag===22&&x){var O=A.memoizedState!==null||lg;if(!O){var U=A.alternate,Y=U!==null&&U.memoizedState!==null||$r;U=lg;var ae=$r;if(lg=O,($r=Y)&&!ae)for($e=A;$e!==null;)O=$e,Y=O.child,O.tag===22&&O.memoizedState!==null?jR(A):Y!==null?(Y.return=O,$e=Y):jR(A);for(;R!==null;)$e=R,FR(R),R=R.sibling;$e=A,lg=U,$r=ae}BR(l)}else A.subtreeFlags&8772&&R!==null?(R.return=A,$e=R):BR(l)}}function BR(l){for(;$e!==null;){var d=$e;if(d.flags&8772){var m=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:$r||cg(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!$r)if(m===null)x.componentDidMount();else{var A=d.elementType===d.type?m.memoizedProps:cs(d.type,m.memoizedProps);x.componentDidUpdate(A,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&Uk(d,R,x);break;case 3:var O=d.updateQueue;if(O!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Uk(d,O,m)}break;case 5:var U=d.stateNode;if(m===null&&d.flags&4){m=U;var Y=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&m.focus();break;case"img":Y.src&&(m.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ae=d.alternate;if(ae!==null){var be=ae.memoizedState;if(be!==null){var xe=be.dehydrated;xe!==null&&dh(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$r||d.flags&512&&cx(d)}catch(ve){Ln(d,d.return,ve)}}if(d===l){$e=null;break}if(m=d.sibling,m!==null){m.return=d.return,$e=m;break}$e=d.return}}function UR(l){for(;$e!==null;){var d=$e;if(d===l){$e=null;break}var m=d.sibling;if(m!==null){m.return=d.return,$e=m;break}$e=d.return}}function jR(l){for(;$e!==null;){var d=$e;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{cg(4,d)}catch(Y){Ln(d,m,Y)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var A=d.return;try{x.componentDidMount()}catch(Y){Ln(d,A,Y)}}var R=d.return;try{cx(d)}catch(Y){Ln(d,R,Y)}break;case 5:var O=d.return;try{cx(d)}catch(Y){Ln(d,O,Y)}}}catch(Y){Ln(d,d.return,Y)}if(d===l){$e=null;break}var U=d.sibling;if(U!==null){U.return=d.return,$e=U;break}$e=d.return}}var YU=Math.ceil,ug=C.ReactCurrentDispatcher,hx=C.ReactCurrentOwner,$i=C.ReactCurrentBatchConfig,Nt=0,hr=null,Hn=null,wr=0,xi=0,hu=xa(0),rr=0,Mh=null,Al=0,dg=0,fx=0,Oh=null,ii=null,px=0,fu=1/0,$o=null,hg=!1,mx=null,Ca=null,fg=!1,ka=null,pg=0,Nh=0,gx=null,mg=-1,gg=0;function qr(){return Nt&6?Bn():mg!==-1?mg:mg=Bn()}function Ra(l){return l.mode&1?Nt&2&&wr!==0?wr&-wr:LU.transition!==null?(gg===0&&(gg=MC()),gg):(l=Xt,l!==0||(l=window.event,l=l===void 0?16:WC(l.type)),l):1}function hs(l,d,m,x){if(50<Nh)throw Nh=0,gx=null,Error(n(185));oh(l,m,x),(!(Nt&2)||l!==hr)&&(l===hr&&(!(Nt&2)&&(dg|=m),rr===4&&Ia(l,wr)),si(l,x),m===1&&Nt===0&&!(d.mode&1)&&(fu=Bn()+500,Hm&&Ta()))}function si(l,d){var m=l.callbackNode;LB(l,d);var x=wm(l,l===hr?wr:0);if(x===0)m!==null&&LC(m),l.callbackNode=null,l.callbackPriority=0;else if(d=x&-x,l.callbackPriority!==d){if(m!=null&&LC(m),d===1)l.tag===0?IU(WR.bind(null,l)):kk(WR.bind(null,l)),_U(function(){!(Nt&6)&&Ta()}),m=null;else{switch(OC(x)){case 1:m=qb;break;case 4:m=DC;break;case 16:m=xm;break;case 536870912:m=PC;break;default:m=xm}m=QR(m,VR.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function VR(l,d){if(mg=-1,gg=0,Nt&6)throw Error(n(327));var m=l.callbackNode;if(pu()&&l.callbackNode!==m)return null;var x=wm(l,l===hr?wr:0);if(x===0)return null;if(x&30||x&l.expiredLanes||d)d=vg(l,x);else{d=x;var A=Nt;Nt|=2;var R=GR();(hr!==l||wr!==d)&&($o=null,fu=Bn()+500,_l(l,d));do try{QU();break}catch(U){HR(l,U)}while(!0);ME(),ug.current=R,Nt=A,Hn!==null?d=0:(hr=null,wr=0,d=rr)}if(d!==0){if(d===2&&(A=Xb(l),A!==0&&(x=A,d=vx(l,A))),d===1)throw m=Mh,_l(l,0),Ia(l,x),si(l,Bn()),m;if(d===6)Ia(l,x);else{if(A=l.current.alternate,!(x&30)&&!qU(A)&&(d=vg(l,x),d===2&&(R=Xb(l),R!==0&&(x=R,d=vx(l,R))),d===1))throw m=Mh,_l(l,0),Ia(l,x),si(l,Bn()),m;switch(l.finishedWork=A,l.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:Cl(l,ii,$o);break;case 3:if(Ia(l,x),(x&130023424)===x&&(d=px+500-Bn(),10<d)){if(wm(l,0)!==0)break;if(A=l.suspendedLanes,(A&x)!==x){qr(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=TE(Cl.bind(null,l,ii,$o),d);break}Cl(l,ii,$o);break;case 4:if(Ia(l,x),(x&4194240)===x)break;for(d=l.eventTimes,A=-1;0<x;){var O=31-os(x);R=1<<O,O=d[O],O>A&&(A=O),x&=~R}if(x=A,x=Bn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*YU(x/1960))-x,10<x){l.timeoutHandle=TE(Cl.bind(null,l,ii,$o),x);break}Cl(l,ii,$o);break;case 5:Cl(l,ii,$o);break;default:throw Error(n(329))}}}return si(l,Bn()),l.callbackNode===m?VR.bind(null,l):null}function vx(l,d){var m=Oh;return l.current.memoizedState.isDehydrated&&(_l(l,d).flags|=256),l=vg(l,d),l!==2&&(d=ii,ii=m,d!==null&&yx(d)),l}function yx(l){ii===null?ii=l:ii.push.apply(ii,l)}function qU(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var A=m[x],R=A.getSnapshot;A=A.value;try{if(!as(R(),A))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ia(l,d){for(d&=~fx,d&=~dg,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-os(d),x=1<<m;l[m]=-1,d&=~x}}function WR(l){if(Nt&6)throw Error(n(327));pu();var d=wm(l,0);if(!(d&1))return si(l,Bn()),null;var m=vg(l,d);if(l.tag!==0&&m===2){var x=Xb(l);x!==0&&(d=x,m=vx(l,x))}if(m===1)throw m=Mh,_l(l,0),Ia(l,d),si(l,Bn()),m;if(m===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Cl(l,ii,$o),si(l,Bn()),null}function bx(l,d){var m=Nt;Nt|=1;try{return l(d)}finally{Nt=m,Nt===0&&(fu=Bn()+500,Hm&&Ta())}}function wl(l){ka!==null&&ka.tag===0&&!(Nt&6)&&pu();var d=Nt;Nt|=1;var m=$i.transition,x=Xt;try{if($i.transition=null,Xt=1,l)return l()}finally{Xt=x,$i.transition=m,Nt=d,!(Nt&6)&&Ta()}}function Ex(){xi=hu.current,yn(hu)}function _l(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,wU(m)),Hn!==null)for(m=Hn.return;m!==null;){var x=m;switch(RE(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Vm();break;case 3:cu(),yn(ti),yn(Mr),VE();break;case 5:UE(x);break;case 4:cu();break;case 13:yn(An);break;case 19:yn(An);break;case 10:OE(x.type._context);break;case 22:case 23:Ex()}m=m.return}if(hr=l,Hn=l=La(l.current,null),wr=xi=d,rr=0,Mh=null,fx=dg=Al=0,ii=Oh=null,xl!==null){for(d=0;d<xl.length;d++)if(m=xl[d],x=m.interleaved,x!==null){m.interleaved=null;var A=x.next,R=m.pending;if(R!==null){var O=R.next;R.next=A,x.next=O}m.pending=x}xl=null}return l}function HR(l,d){do{var m=Hn;try{if(ME(),eg.current=ig,tg){for(var x=wn.memoizedState;x!==null;){var A=x.queue;A!==null&&(A.pending=null),x=x.next}tg=!1}if(Tl=0,dr=nr=wn=null,kh=!1,Rh=0,hx.current=null,m===null||m.return===null){rr=1,Mh=d,Hn=null;break}e:{var R=l,O=m.return,U=m,Y=d;if(d=wr,U.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,be=U,xe=be.tag;if(!(be.mode&1)&&(xe===0||xe===11||xe===15)){var ve=be.alternate;ve?(be.updateQueue=ve.updateQueue,be.memoizedState=ve.memoizedState,be.lanes=ve.lanes):(be.updateQueue=null,be.memoizedState=null)}var Me=mR(O);if(Me!==null){Me.flags&=-257,gR(Me,O,U,R,d),Me.mode&1&&pR(R,ae,d),d=Me,Y=ae;var Ue=d.updateQueue;if(Ue===null){var Ve=new Set;Ve.add(Y),d.updateQueue=Ve}else Ue.add(Y);break e}else{if(!(d&1)){pR(R,ae,d),xx();break e}Y=Error(n(426))}}else if(En&&U.mode&1){var Un=mR(O);if(Un!==null){!(Un.flags&65536)&&(Un.flags|=256),gR(Un,O,U,R,d),DE(uu(Y,U));break e}}R=Y=uu(Y,U),rr!==4&&(rr=2),Oh===null?Oh=[R]:Oh.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var te=hR(R,Y,d);Bk(R,te);break e;case 1:U=Y;var X=R.type,se=R.stateNode;if(!(R.flags&128)&&(typeof X.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ca===null||!Ca.has(se)))){R.flags|=65536,d&=-d,R.lanes|=d;var Ae=fR(R,U,d);Bk(R,Ae);break e}}R=R.return}while(R!==null)}zR(m)}catch(He){d=He,Hn===m&&m!==null&&(Hn=m=m.return);continue}break}while(!0)}function GR(){var l=ug.current;return ug.current=ig,l===null?ig:l}function xx(){(rr===0||rr===3||rr===2)&&(rr=4),hr===null||!(Al&268435455)&&!(dg&268435455)||Ia(hr,wr)}function vg(l,d){var m=Nt;Nt|=2;var x=GR();(hr!==l||wr!==d)&&($o=null,_l(l,d));do try{XU();break}catch(A){HR(l,A)}while(!0);if(ME(),Nt=m,ug.current=x,Hn!==null)throw Error(n(261));return hr=null,wr=0,rr}function XU(){for(;Hn!==null;)KR(Hn)}function QU(){for(;Hn!==null&&!SB();)KR(Hn)}function KR(l){var d=XR(l.alternate,l,xi);l.memoizedProps=l.pendingProps,d===null?zR(l):Hn=d,hx.current=null}function zR(l){var d=l;do{var m=d.alternate;if(l=d.return,d.flags&32768){if(m=HU(m,d),m!==null){m.flags&=32767,Hn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{rr=6,Hn=null;return}}else if(m=WU(m,d,xi),m!==null){Hn=m;return}if(d=d.sibling,d!==null){Hn=d;return}Hn=d=l}while(d!==null);rr===0&&(rr=5)}function Cl(l,d,m){var x=Xt,A=$i.transition;try{$i.transition=null,Xt=1,ZU(l,d,m,x)}finally{$i.transition=A,Xt=x}return null}function ZU(l,d,m,x){do pu();while(ka!==null);if(Nt&6)throw Error(n(327));m=l.finishedWork;var A=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var R=m.lanes|m.childLanes;if(DB(l,R),l===hr&&(Hn=hr=null,wr=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||fg||(fg=!0,QR(xm,function(){return pu(),null})),R=(m.flags&15990)!==0,m.subtreeFlags&15990||R){R=$i.transition,$i.transition=null;var O=Xt;Xt=1;var U=Nt;Nt|=4,hx.current=null,KU(l,m),$R(m,l),yU(xE),km=!!EE,xE=EE=null,l.current=m,zU(m),TB(),Nt=U,Xt=O,$i.transition=R}else l.current=m;if(fg&&(fg=!1,ka=l,pg=A),R=l.pendingLanes,R===0&&(Ca=null),_B(m.stateNode),si(l,Bn()),d!==null)for(x=l.onRecoverableError,m=0;m<d.length;m++)A=d[m],x(A.value,{componentStack:A.stack,digest:A.digest});if(hg)throw hg=!1,l=mx,mx=null,l;return pg&1&&l.tag!==0&&pu(),R=l.pendingLanes,R&1?l===gx?Nh++:(Nh=0,gx=l):Nh=0,Ta(),null}function pu(){if(ka!==null){var l=OC(pg),d=$i.transition,m=Xt;try{if($i.transition=null,Xt=16>l?16:l,ka===null)var x=!1;else{if(l=ka,ka=null,pg=0,Nt&6)throw Error(n(331));var A=Nt;for(Nt|=4,$e=l.current;$e!==null;){var R=$e,O=R.child;if($e.flags&16){var U=R.deletions;if(U!==null){for(var Y=0;Y<U.length;Y++){var ae=U[Y];for($e=ae;$e!==null;){var be=$e;switch(be.tag){case 0:case 11:case 15:Ph(8,be,R)}var xe=be.child;if(xe!==null)xe.return=be,$e=xe;else for(;$e!==null;){be=$e;var ve=be.sibling,Me=be.return;if(DR(be),be===ae){$e=null;break}if(ve!==null){ve.return=Me,$e=ve;break}$e=Me}}}var Ue=R.alternate;if(Ue!==null){var Ve=Ue.child;if(Ve!==null){Ue.child=null;do{var Un=Ve.sibling;Ve.sibling=null,Ve=Un}while(Ve!==null)}}$e=R}}if(R.subtreeFlags&2064&&O!==null)O.return=R,$e=O;else e:for(;$e!==null;){if(R=$e,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Ph(9,R,R.return)}var te=R.sibling;if(te!==null){te.return=R.return,$e=te;break e}$e=R.return}}var X=l.current;for($e=X;$e!==null;){O=$e;var se=O.child;if(O.subtreeFlags&2064&&se!==null)se.return=O,$e=se;else e:for(O=X;$e!==null;){if(U=$e,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:cg(9,U)}}catch(He){Ln(U,U.return,He)}if(U===O){$e=null;break e}var Ae=U.sibling;if(Ae!==null){Ae.return=U.return,$e=Ae;break e}$e=U.return}}if(Nt=A,Ta(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Sm,l)}catch{}x=!0}return x}finally{Xt=m,$i.transition=d}}return!1}function YR(l,d,m){d=uu(m,d),d=hR(l,d,1),l=wa(l,d,1),d=qr(),l!==null&&(oh(l,1,d),si(l,d))}function Ln(l,d,m){if(l.tag===3)YR(l,l,m);else for(;d!==null;){if(d.tag===3){YR(d,l,m);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ca===null||!Ca.has(x))){l=uu(m,l),l=fR(d,l,1),d=wa(d,l,1),l=qr(),d!==null&&(oh(d,1,l),si(d,l));break}}d=d.return}}function JU(l,d,m){var x=l.pingCache;x!==null&&x.delete(d),d=qr(),l.pingedLanes|=l.suspendedLanes&m,hr===l&&(wr&m)===m&&(rr===4||rr===3&&(wr&130023424)===wr&&500>Bn()-px?_l(l,0):fx|=m),si(l,d)}function qR(l,d){d===0&&(l.mode&1?(d=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):d=1);var m=qr();l=Mo(l,d),l!==null&&(oh(l,d,m),si(l,m))}function e6(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),qR(l,m)}function t6(l,d){var m=0;switch(l.tag){case 13:var x=l.stateNode,A=l.memoizedState;A!==null&&(m=A.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),qR(l,m)}var XR;XR=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||ti.current)ri=!0;else{if(!(l.lanes&m)&&!(d.flags&128))return ri=!1,VU(l,d,m);ri=!!(l.flags&131072)}else ri=!1,En&&d.flags&1048576&&Rk(d,Km,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;ag(l,d),l=d.pendingProps;var A=nu(d,Mr.current);lu(d,m),A=GE(null,d,x,l,A,m);var R=KE();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ni(x)?(R=!0,Wm(d)):R=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,FE(d),A.updater=sg,d.stateNode=A,A._reactInternals=d,ZE(d,x,l,m),d=nx(null,d,x,!0,R,m)):(d.tag=0,En&&R&&kE(d),Yr(null,d,A,m),d=d.child),d;case 16:x=d.elementType;e:{switch(ag(l,d),l=d.pendingProps,A=x._init,x=A(x._payload),d.type=x,A=d.tag=r6(x),l=cs(x,l),A){case 0:d=tx(null,d,x,l,m);break e;case 1:d=SR(null,d,x,l,m);break e;case 11:d=vR(null,d,x,l,m);break e;case 14:d=yR(null,d,x,cs(x.type,l),m);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,A=d.pendingProps,A=d.elementType===x?A:cs(x,A),tx(l,d,x,A,m);case 1:return x=d.type,A=d.pendingProps,A=d.elementType===x?A:cs(x,A),SR(l,d,x,A,m);case 3:e:{if(TR(d),l===null)throw Error(n(387));x=d.pendingProps,R=d.memoizedState,A=R.element,Fk(l,d),Zm(d,x,null,m);var O=d.memoizedState;if(x=O.element,R.isDehydrated)if(R={element:x,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){A=uu(Error(n(423)),d),d=AR(l,d,x,m,A);break e}else if(x!==A){A=uu(Error(n(424)),d),d=AR(l,d,x,m,A);break e}else for(Ei=Ea(d.stateNode.containerInfo.firstChild),bi=d,En=!0,ls=null,m=Nk(d,null,x,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(su(),x===A){d=No(l,d,m);break e}Yr(l,d,x,m)}d=d.child}return d;case 5:return jk(d),l===null&&LE(d),x=d.type,A=d.pendingProps,R=l!==null?l.memoizedProps:null,O=A.children,SE(x,A)?O=null:R!==null&&SE(x,R)&&(d.flags|=32),xR(l,d),Yr(l,d,O,m),d.child;case 6:return l===null&&LE(d),null;case 13:return wR(l,d,m);case 4:return BE(d,d.stateNode.containerInfo),x=d.pendingProps,l===null?d.child=ou(d,null,x,m):Yr(l,d,x,m),d.child;case 11:return x=d.type,A=d.pendingProps,A=d.elementType===x?A:cs(x,A),vR(l,d,x,A,m);case 7:return Yr(l,d,d.pendingProps,m),d.child;case 8:return Yr(l,d,d.pendingProps.children,m),d.child;case 12:return Yr(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(x=d.type._context,A=d.pendingProps,R=d.memoizedProps,O=A.value,cn(qm,x._currentValue),x._currentValue=O,R!==null)if(as(R.value,O)){if(R.children===A.children&&!ti.current){d=No(l,d,m);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var U=R.dependencies;if(U!==null){O=R.child;for(var Y=U.firstContext;Y!==null;){if(Y.context===x){if(R.tag===1){Y=Oo(-1,m&-m),Y.tag=2;var ae=R.updateQueue;if(ae!==null){ae=ae.shared;var be=ae.pending;be===null?Y.next=Y:(Y.next=be.next,be.next=Y),ae.pending=Y}}R.lanes|=m,Y=R.alternate,Y!==null&&(Y.lanes|=m),NE(R.return,m,d),U.lanes|=m;break}Y=Y.next}}else if(R.tag===10)O=R.type===d.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(n(341));O.lanes|=m,U=O.alternate,U!==null&&(U.lanes|=m),NE(O,m,d),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===d){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}Yr(l,d,A.children,m),d=d.child}return d;case 9:return A=d.type,x=d.pendingProps.children,lu(d,m),A=Oi(A),x=x(A),d.flags|=1,Yr(l,d,x,m),d.child;case 14:return x=d.type,A=cs(x,d.pendingProps),A=cs(x.type,A),yR(l,d,x,A,m);case 15:return bR(l,d,d.type,d.pendingProps,m);case 17:return x=d.type,A=d.pendingProps,A=d.elementType===x?A:cs(x,A),ag(l,d),d.tag=1,ni(x)?(l=!0,Wm(d)):l=!1,lu(d,m),uR(d,x,A),ZE(d,x,A,m),nx(null,d,x,!0,l,m);case 19:return CR(l,d,m);case 22:return ER(l,d,m)}throw Error(n(156,d.tag))};function QR(l,d){return IC(l,d)}function n6(l,d,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(l,d,m,x){return new n6(l,d,m,x)}function Sx(l){return l=l.prototype,!(!l||!l.isReactComponent)}function r6(l){if(typeof l=="function")return Sx(l)?1:0;if(l!=null){if(l=l.$$typeof,l===z)return 11;if(l===G)return 14}return 2}function La(l,d){var m=l.alternate;return m===null?(m=Fi(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function yg(l,d,m,x,A,R){var O=2;if(x=l,typeof l=="function")Sx(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case D:return kl(m.children,A,R,d);case P:O=8,A|=8;break;case N:return l=Fi(12,m,d,A|2),l.elementType=N,l.lanes=R,l;case j:return l=Fi(13,m,d,A),l.elementType=j,l.lanes=R,l;case q:return l=Fi(19,m,d,A),l.elementType=q,l.lanes=R,l;case Q:return bg(m,A,R,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:O=10;break e;case $:O=9;break e;case z:O=11;break e;case G:O=14;break e;case H:O=16,x=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return d=Fi(O,m,d,A),d.elementType=l,d.type=x,d.lanes=R,d}function kl(l,d,m,x){return l=Fi(7,l,x,d),l.lanes=m,l}function bg(l,d,m,x){return l=Fi(22,l,x,d),l.elementType=Q,l.lanes=m,l.stateNode={isHidden:!1},l}function Tx(l,d,m){return l=Fi(6,l,null,d),l.lanes=m,l}function Ax(l,d,m){return d=Fi(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function i6(l,d,m,x,A){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qb(0),this.expirationTimes=Qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qb(0),this.identifierPrefix=x,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function wx(l,d,m,x,A,R,O,U,Y){return l=new i6(l,d,m,U,Y),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Fi(3,null,null,d),l.current=R,R.stateNode=l,R.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},FE(R),l}function s6(l,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:x==null?null:""+x,children:l,containerInfo:d,implementation:m}}function ZR(l){if(!l)return Sa;l=l._reactInternals;e:{if(gl(l)!==l||l.tag!==1)throw Error(n(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ni(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(l.tag===1){var m=l.type;if(ni(m))return _k(l,m,d)}return d}function JR(l,d,m,x,A,R,O,U,Y){return l=wx(m,x,!0,l,A,R,O,U,Y),l.context=ZR(null),m=l.current,x=qr(),A=Ra(m),R=Oo(x,A),R.callback=d??null,wa(m,R,A),l.current.lanes=A,oh(l,A,x),si(l,x),l}function Eg(l,d,m,x){var A=d.current,R=qr(),O=Ra(A);return m=ZR(m),d.context===null?d.context=m:d.pendingContext=m,d=Oo(R,O),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=wa(A,d,O),l!==null&&(hs(l,A,O,R),Qm(l,A,O)),O}function xg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function eI(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function _x(l,d){eI(l,d),(l=l.alternate)&&eI(l,d)}function o6(){return null}var tI=typeof reportError=="function"?reportError:function(l){console.error(l)};function Cx(l){this._internalRoot=l}Sg.prototype.render=Cx.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(n(409));Eg(l,d,null,null)},Sg.prototype.unmount=Cx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;wl(function(){Eg(null,l,null,null)}),d[Io]=null}};function Sg(l){this._internalRoot=l}Sg.prototype.unstable_scheduleHydration=function(l){if(l){var d=FC();l={blockedOn:null,target:l,priority:d};for(var m=0;m<va.length&&d!==0&&d<va[m].priority;m++);va.splice(m,0,l),m===0&&jC(l)}};function kx(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Tg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function nI(){}function a6(l,d,m,x,A){if(A){if(typeof x=="function"){var R=x;x=function(){var ae=xg(O);R.call(ae)}}var O=JR(d,x,l,0,null,!1,!1,"",nI);return l._reactRootContainer=O,l[Io]=O.current,Eh(l.nodeType===8?l.parentNode:l),wl(),O}for(;A=l.lastChild;)l.removeChild(A);if(typeof x=="function"){var U=x;x=function(){var ae=xg(Y);U.call(ae)}}var Y=wx(l,0,!1,null,null,!1,!1,"",nI);return l._reactRootContainer=Y,l[Io]=Y.current,Eh(l.nodeType===8?l.parentNode:l),wl(function(){Eg(d,Y,m,x)}),Y}function Ag(l,d,m,x,A){var R=m._reactRootContainer;if(R){var O=R;if(typeof A=="function"){var U=A;A=function(){var Y=xg(O);U.call(Y)}}Eg(d,O,l,A)}else O=a6(m,d,l,A,x);return xg(O)}NC=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=sh(d.pendingLanes);m!==0&&(Zb(d,m|1),si(d,Bn()),!(Nt&6)&&(fu=Bn()+500,Ta()))}break;case 13:wl(function(){var x=Mo(l,1);if(x!==null){var A=qr();hs(x,l,1,A)}}),_x(l,1)}},Jb=function(l){if(l.tag===13){var d=Mo(l,134217728);if(d!==null){var m=qr();hs(d,l,134217728,m)}_x(l,134217728)}},$C=function(l){if(l.tag===13){var d=Ra(l),m=Mo(l,d);if(m!==null){var x=qr();hs(m,l,d,x)}_x(l,d)}},FC=function(){return Xt},BC=function(l,d){var m=Xt;try{return Xt=l,d()}finally{Xt=m}},Dr=function(l,d,m){switch(d){case"input":if(Ye(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var x=m[d];if(x!==l&&x.form===l.form){var A=jm(x);if(!A)throw Error(n(90));Be(x),Ye(x,A)}}}break;case"textarea":Ht(l,m);break;case"select":d=m.value,d!=null&&Oe(l,!!m.multiple,d,!1)}},ym=bx,vt=wl;var l6={usingClientEntryPoint:!1,Events:[Th,eu,jm,fa,vm,bx]},$h={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c6={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=kC(l),l===null?null:l.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||o6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{Sm=wg.inject(c6),Ms=wg}catch{}}return oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6,oi.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kx(d))throw Error(n(200));return s6(l,d,null,m)},oi.createRoot=function(l,d){if(!kx(l))throw Error(n(299));var m=!1,x="",A=tI;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=wx(l,1,!1,null,null,m,!1,x,A),l[Io]=d.current,Eh(l.nodeType===8?l.parentNode:l),new Cx(d)},oi.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=kC(d),l=l===null?null:l.stateNode,l},oi.flushSync=function(l){return wl(l)},oi.hydrate=function(l,d,m){if(!Tg(d))throw Error(n(200));return Ag(null,l,d,!0,m)},oi.hydrateRoot=function(l,d,m){if(!kx(l))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,A=!1,R="",O=tI;if(m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),d=JR(d,null,l,1,m??null,A,!1,R,O),l[Io]=d.current,Eh(l),x)for(l=0;l<x.length;l++)m=x[l],A=m._getVersion,A=A(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,A]:d.mutableSourceEagerHydrationData.push(m,A);return new Sg(d)},oi.render=function(l,d,m){if(!Tg(d))throw Error(n(200));return Ag(null,l,d,!1,m)},oi.unmountComponentAtNode=function(l){if(!Tg(l))throw Error(n(40));return l._reactRootContainer?(wl(function(){Ag(null,null,l,!1,function(){l._reactRootContainer=null,l[Io]=null})}),!0):!1},oi.unstable_batchedUpdates=bx,oi.unstable_renderSubtreeIntoContainer=function(l,d,m,x){if(!Tg(m))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Ag(l,d,m,!1,x)},oi.version="18.3.1-next-f1338f8080-20240426",oi}var uI;function WM(){if(uI)return Lx.exports;uI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lx.exports=b6(),Lx.exports}var dI;function E6(){if(dI)return _g;dI=1;var t=WM();return _g.createRoot=t.createRoot,_g.hydrateRoot=t.hydrateRoot,_g}var x6=E6();const dp={black:"#000",white:"#fff"},Bl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},mu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},gu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},vu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},yu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Uh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},S6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ao(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const ks="$$material";function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(null,arguments)}function T6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function A6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var w6=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(A6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=T6(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Fr="-ms-",ty="-moz-",Vt="-webkit-",HM="comm",OA="rule",NA="decl",_6="@import",GM="@keyframes",C6="@layer",k6=Math.abs,eb=String.fromCharCode,R6=Object.assign;function I6(t,e){return Ir(t,0)^45?(((e<<2^Ir(t,0))<<2^Ir(t,1))<<2^Ir(t,2))<<2^Ir(t,3):0}function KM(t){return t.trim()}function L6(t,e){return(t=e.exec(t))?t[0]:t}function Wt(t,e,n){return t.replace(e,n)}function aS(t,e){return t.indexOf(e)}function Ir(t,e){return t.charCodeAt(e)|0}function hp(t,e,n){return t.slice(e,n)}function ro(t){return t.length}function $A(t){return t.length}function Cg(t,e){return e.push(t),t}function D6(t,e){return t.map(e).join("")}var tb=1,Sd=1,zM=0,fi=0,qn=0,jd="";function nb(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:tb,column:Sd,length:o,return:""}}function jh(t,e){return R6(nb("",null,null,"",null,null,0),t,{length:-t.length},e)}function P6(){return qn}function M6(){return qn=fi>0?Ir(jd,--fi):0,Sd--,qn===10&&(Sd=1,tb--),qn}function wi(){return qn=fi<zM?Ir(jd,fi++):0,Sd++,qn===10&&(Sd=1,tb++),qn}function go(){return Ir(jd,fi)}function A0(){return fi}function Xp(t,e){return hp(jd,t,e)}function fp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YM(t){return tb=Sd=1,zM=ro(jd=t),fi=0,[]}function qM(t){return jd="",t}function w0(t){return KM(Xp(fi-1,lS(t===91?t+2:t===40?t+1:t)))}function O6(t){for(;(qn=go())&&qn<33;)wi();return fp(t)>2||fp(qn)>3?"":" "}function N6(t,e){for(;--e&&wi()&&!(qn<48||qn>102||qn>57&&qn<65||qn>70&&qn<97););return Xp(t,A0()+(e<6&&go()==32&&wi()==32))}function lS(t){for(;wi();)switch(qn){case t:return fi;case 34:case 39:t!==34&&t!==39&&lS(qn);break;case 40:t===41&&lS(t);break;case 92:wi();break}return fi}function $6(t,e){for(;wi()&&t+qn!==57;)if(t+qn===84&&go()===47)break;return"/*"+Xp(e,fi-1)+"*"+eb(t===47?t:wi())}function F6(t){for(;!fp(go());)wi();return Xp(t,fi)}function B6(t){return qM(_0("",null,null,null,[""],t=YM(t),0,[0],t))}function _0(t,e,n,r,i,s,o,a,c){for(var u=0,h=0,f=o,p=0,g=0,v=0,y=1,E=1,S=1,w=0,T="",C=i,_=s,L=r,D=T;E;)switch(v=w,w=wi()){case 40:if(v!=108&&Ir(D,f-1)==58){aS(D+=Wt(w0(w),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:D+=w0(w);break;case 9:case 10:case 13:case 32:D+=O6(v);break;case 92:D+=N6(A0()-1,7);continue;case 47:switch(go()){case 42:case 47:Cg(U6($6(wi(),A0()),e,n),c);break;default:D+="/"}break;case 123*y:a[u++]=ro(D)*S;case 125*y:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+h:S==-1&&(D=Wt(D,/\f/g,"")),g>0&&ro(D)-f&&Cg(g>32?fI(D+";",r,n,f-1):fI(Wt(D," ","")+";",r,n,f-2),c);break;case 59:D+=";";default:if(Cg(L=hI(D,e,n,u,h,i,a,T,C=[],_=[],f),s),w===123)if(h===0)_0(D,e,L,L,C,s,f,a,_);else switch(p===99&&Ir(D,3)===110?100:p){case 100:case 108:case 109:case 115:_0(t,L,L,r&&Cg(hI(t,L,L,0,0,i,a,T,i,C=[],f),_),i,_,f,a,r?C:_);break;default:_0(D,L,L,L,[""],_,0,a,_)}}u=h=g=0,y=S=1,T=D="",f=o;break;case 58:f=1+ro(D),g=v;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&M6()==125)continue}switch(D+=eb(w),w*y){case 38:S=h>0?1:(D+="\f",-1);break;case 44:a[u++]=(ro(D)-1)*S,S=1;break;case 64:go()===45&&(D+=w0(wi())),p=go(),h=f=ro(T=D+=F6(A0())),w++;break;case 45:v===45&&ro(D)==2&&(y=0)}}return s}function hI(t,e,n,r,i,s,o,a,c,u,h){for(var f=i-1,p=i===0?s:[""],g=$A(p),v=0,y=0,E=0;v<r;++v)for(var S=0,w=hp(t,f+1,f=k6(y=o[v])),T=t;S<g;++S)(T=KM(y>0?p[S]+" "+w:Wt(w,/&\f/g,p[S])))&&(c[E++]=T);return nb(t,e,n,i===0?OA:a,c,u,h)}function U6(t,e,n){return nb(t,e,n,HM,eb(P6()),hp(t,2,-2),0)}function fI(t,e,n,r){return nb(t,e,n,NA,hp(t,0,r),hp(t,r+1,-1),r)}function ud(t,e){for(var n="",r=$A(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function j6(t,e,n,r){switch(t.type){case C6:if(t.children.length)break;case _6:case NA:return t.return=t.return||t.value;case HM:return"";case GM:return t.return=t.value+"{"+ud(t.children,r)+"}";case OA:t.value=t.props.join(",")}return ro(n=ud(t.children,r))?t.return=t.value+"{"+n+"}":""}function V6(t){var e=$A(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function W6(t){return function(e){e.root||(e=e.return)&&t(e)}}function XM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var H6=function(e,n,r){for(var i=0,s=0;i=s,s=go(),i===38&&s===12&&(n[r]=1),!fp(s);)wi();return Xp(e,fi)},G6=function(e,n){var r=-1,i=44;do switch(fp(i)){case 0:i===38&&go()===12&&(n[r]=1),e[r]+=H6(fi-1,n,r);break;case 2:e[r]+=w0(i);break;case 4:if(i===44){e[++r]=go()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=eb(i)}while(i=wi());return e},K6=function(e,n){return qM(G6(YM(e),n))},pI=new WeakMap,z6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!pI.get(r))&&!i){pI.set(e,!0);for(var s=[],o=K6(n,s),a=r.props,c=0,u=0;c<o.length;c++)for(var h=0;h<a.length;h++,u++)e.props[u]=s[c]?o[c].replace(/&\f/g,a[h]):a[h]+" "+o[c]}}},Y6=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function QM(t,e){switch(I6(t,e)){case 5103:return Vt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+t+ty+t+Fr+t+t;case 6828:case 4268:return Vt+t+Fr+t+t;case 6165:return Vt+t+Fr+"flex-"+t+t;case 5187:return Vt+t+Wt(t,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+Fr+"flex-$1$2")+t;case 5443:return Vt+t+Fr+"flex-item-"+Wt(t,/flex-|-self/,"")+t;case 4675:return Vt+t+Fr+"flex-line-pack"+Wt(t,/align-content|flex-|-self/,"")+t;case 5548:return Vt+t+Fr+Wt(t,"shrink","negative")+t;case 5292:return Vt+t+Fr+Wt(t,"basis","preferred-size")+t;case 6060:return Vt+"box-"+Wt(t,"-grow","")+Vt+t+Fr+Wt(t,"grow","positive")+t;case 4554:return Vt+Wt(t,/([^-])(transform)/g,"$1"+Vt+"$2")+t;case 6187:return Wt(Wt(Wt(t,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),t,"")+t;case 5495:case 3959:return Wt(t,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return Wt(Wt(t,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+Fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+t+t;case 4095:case 3583:case 4068:case 2532:return Wt(t,/(.+)-inline(.+)/,Vt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ro(t)-1-e>6)switch(Ir(t,e+1)){case 109:if(Ir(t,e+4)!==45)break;case 102:return Wt(t,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+ty+(Ir(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~aS(t,"stretch")?QM(Wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ir(t,e+1)!==115)break;case 6444:switch(Ir(t,ro(t)-3-(~aS(t,"!important")&&10))){case 107:return Wt(t,":",":"+Vt)+t;case 101:return Wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vt+(Ir(t,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+Fr+"$2box$3")+t}break;case 5936:switch(Ir(t,e+11)){case 114:return Vt+t+Fr+Wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Vt+t+Fr+Wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Vt+t+Fr+Wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Vt+t+Fr+t+t}return t}var q6=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case NA:e.return=QM(e.value,e.length);break;case GM:return ud([jh(e,{value:Wt(e.value,"@","@"+Vt)})],i);case OA:if(e.length)return D6(e.props,function(s){switch(L6(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ud([jh(e,{props:[Wt(s,/:(read-\w+)/,":"+ty+"$1")]})],i);case"::placeholder":return ud([jh(e,{props:[Wt(s,/:(plac\w+)/,":"+Vt+"input-$1")]}),jh(e,{props:[Wt(s,/:(plac\w+)/,":"+ty+"$1")]}),jh(e,{props:[Wt(s,/:(plac\w+)/,Fr+"input-$1")]})],i)}return""})}},X6=[q6],Q6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var E=y.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||X6,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var E=y.getAttribute("data-emotion").split(" "),S=1;S<E.length;S++)s[E[S]]=!0;a.push(y)});var c,u=[z6,Y6];{var h,f=[j6,W6(function(y){h.insert(y)})],p=V6(u.concat(i,f)),g=function(E){return ud(B6(E),p)};c=function(E,S,w,T){h=w,g(E?E+"{"+S.styles+"}":S.styles),T&&(v.inserted[S.name]=!0)}}var v={key:n,sheet:new w6({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return v.sheet.hydrate(a),v},Mx={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function Z6(){if(mI)return Gt;mI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,w=t?Symbol.for("react.scope"):60119;function T(_){if(typeof _=="object"&&_!==null){var L=_.$$typeof;switch(L){case e:switch(_=_.type,_){case c:case u:case r:case s:case i:case f:return _;default:switch(_=_&&_.$$typeof,_){case a:case h:case v:case g:case o:return _;default:return L}}case n:return L}}}function C(_){return T(_)===u}return Gt.AsyncMode=c,Gt.ConcurrentMode=u,Gt.ContextConsumer=a,Gt.ContextProvider=o,Gt.Element=e,Gt.ForwardRef=h,Gt.Fragment=r,Gt.Lazy=v,Gt.Memo=g,Gt.Portal=n,Gt.Profiler=s,Gt.StrictMode=i,Gt.Suspense=f,Gt.isAsyncMode=function(_){return C(_)||T(_)===c},Gt.isConcurrentMode=C,Gt.isContextConsumer=function(_){return T(_)===a},Gt.isContextProvider=function(_){return T(_)===o},Gt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Gt.isForwardRef=function(_){return T(_)===h},Gt.isFragment=function(_){return T(_)===r},Gt.isLazy=function(_){return T(_)===v},Gt.isMemo=function(_){return T(_)===g},Gt.isPortal=function(_){return T(_)===n},Gt.isProfiler=function(_){return T(_)===s},Gt.isStrictMode=function(_){return T(_)===i},Gt.isSuspense=function(_){return T(_)===f},Gt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===u||_===s||_===i||_===f||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===g||_.$$typeof===o||_.$$typeof===a||_.$$typeof===h||_.$$typeof===E||_.$$typeof===S||_.$$typeof===w||_.$$typeof===y)},Gt.typeOf=T,Gt}var gI;function J6(){return gI||(gI=1,Mx.exports=Z6()),Mx.exports}var Ox,vI;function e9(){if(vI)return Ox;vI=1;var t=J6(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(v){return t.isMemo(v)?i:s[v.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function g(v,y,E){if(typeof y!="string"){if(p){var S=f(y);S&&S!==p&&g(v,S,E)}var w=c(y);u&&(w=w.concat(u(y)));for(var T=o(v),C=o(y),_=0;_<w.length;++_){var L=w[_];if(!n[L]&&!(E&&E[L])&&!(C&&C[L])&&!(T&&T[L])){var D=h(y,L);try{a(v,L,D)}catch{}}}}return v}return Ox=g,Ox}e9();var t9=!0;function ZM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var FA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||t9===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},BA=function(e,n,r){FA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function n9(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i9=/[A-Z]|^ms/g,s9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JM=function(e){return e.charCodeAt(1)===45},yI=function(e){return e!=null&&typeof e!="boolean"},Nx=XM(function(t){return JM(t)?t:t.replace(i9,"-$&").toLowerCase()}),bI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(s9,function(r,i,s){return io={name:i,styles:s,next:io},i})}return r9[e]!==1&&!JM(e)&&typeof n=="number"&&n!==0?n+"px":n};function pp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return io={name:i.name,styles:i.styles,next:io},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)io={name:o.name,styles:o.styles,next:io},o=o.next;var a=s.styles+";";return a}return o9(t,e,n)}case"function":{if(t!==void 0){var c=io,u=n(t);return io=c,pp(t,e,u)}break}}var h=n;if(e==null)return h;var f=e[h];return f!==void 0?f:h}function o9(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=pp(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":yI(a)&&(r+=Nx(s)+":"+bI(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)yI(o[c])&&(r+=Nx(s)+":"+bI(s,o[c])+";");else{var u=pp(t,e,o);switch(s){case"animation":case"animationName":{r+=Nx(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var EI=/label:\s*([^\s;{]+)\s*(;|$)/g,io;function Qp(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";io=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=pp(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=pp(n,e,t[a]),r){var c=s;i+=c[a]}EI.lastIndex=0;for(var u="",h;(h=EI.exec(i))!==null;)u+="-"+h[1];var f=n9(i)+u;return{name:f,styles:i,next:io}}var a9=function(e){return e()},eO=Jv.useInsertionEffect?Jv.useInsertionEffect:!1,tO=eO||a9,xI=eO||I.useLayoutEffect,nO=I.createContext(typeof HTMLElement<"u"?Q6({key:"css"}):null);nO.Provider;var UA=function(e){return I.forwardRef(function(n,r){var i=I.useContext(nO);return e(n,i,r)})},Zp=I.createContext({}),jA={}.hasOwnProperty,cS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",l9=function(e,n){var r={};for(var i in n)jA.call(n,i)&&(r[i]=n[i]);return r[cS]=e,r},c9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return FA(n,r,i),tO(function(){return BA(n,r,i)}),null},u9=UA(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[cS],s=[r],o="";typeof t.className=="string"?o=ZM(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Qp(s,void 0,I.useContext(Zp));o+=e.key+"-"+a.name;var c={};for(var u in t)jA.call(t,u)&&u!=="css"&&u!==cS&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),I.createElement(I.Fragment,null,I.createElement(c9,{cache:e,serialized:a,isStringTag:typeof i=="string"}),I.createElement(i,c))}),d9=u9,SI=function(e,n){var r=arguments;if(n==null||!jA.call(n,"css"))return I.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=d9,s[1]=l9(e,n);for(var o=2;o<i;o++)s[o]=r[o];return I.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(SI||(SI={}));var h9=UA(function(t,e){var n=t.styles,r=Qp([n],void 0,I.useContext(Zp)),i=I.useRef();return xI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",s),o.hydrate([c])),i.current=[o,a],function(){o.flush()}},[e]),xI(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&BA(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function VA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qp(e)}function Jp(){var t=VA.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var f9=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,p9=XM(function(t){return f9.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),m9=p9,g9=function(e){return e!=="theme"},TI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?m9:g9},AI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},v9=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return FA(n,r,i),tO(function(){return BA(n,r,i)}),null},y9=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=AI(e,n,r),c=a||TI(i),u=!c("as");return function(){var h=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var p=h[0];f.push(p[0]);for(var g=h.length,v=1;v<g;v++)f.push(h[v],p[v])}var y=UA(function(E,S,w){var T=u&&E.as||i,C="",_=[],L=E;if(E.theme==null){L={};for(var D in E)L[D]=E[D];L.theme=I.useContext(Zp)}typeof E.className=="string"?C=ZM(S.registered,_,E.className):E.className!=null&&(C=E.className+" ");var P=Qp(f.concat(_),S.registered,L);C+=S.key+"-"+P.name,o!==void 0&&(C+=" "+o);var N=u&&a===void 0?TI(T):c,k={};for(var $ in E)u&&$==="as"||N($)&&(k[$]=E[$]);return k.className=C,w&&(k.ref=w),I.createElement(I.Fragment,null,I.createElement(v9,{cache:S,serialized:P,isStringTag:typeof T=="string"}),I.createElement(T,k))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=f,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(E,S){var w=t(E,ey({},n,S,{shouldForwardProp:AI(y,S,!0)}));return w.apply(void 0,f)},y}},b9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uS=y9.bind(null);b9.forEach(function(t){uS[t]=uS(t)});function E9(t){return t==null||Object.keys(t).length===0}function rO(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(E9(i)?n:i):e;return b.jsx(h9,{styles:r})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function iO(t,e){return uS(t,e)}function x9(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const wI=[];function _I(t){return wI[0]=t,Qp(wI)}var $x={exports:{}},en={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function S9(){if(CI)return en;CI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function v(y){if(typeof y=="object"&&y!==null){var E=y.$$typeof;switch(E){case t:switch(y=y.type,y){case n:case i:case r:case c:case u:return y;default:switch(y=y&&y.$$typeof,y){case o:case a:case f:case h:return y;case s:return y;default:return E}}case e:return E}}}return en.ContextConsumer=s,en.ContextProvider=o,en.Element=t,en.ForwardRef=a,en.Fragment=n,en.Lazy=f,en.Memo=h,en.Portal=e,en.Profiler=i,en.StrictMode=r,en.Suspense=c,en.SuspenseList=u,en.isContextConsumer=function(y){return v(y)===s},en.isContextProvider=function(y){return v(y)===o},en.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},en.isForwardRef=function(y){return v(y)===a},en.isFragment=function(y){return v(y)===n},en.isLazy=function(y){return v(y)===f},en.isMemo=function(y){return v(y)===h},en.isPortal=function(y){return v(y)===e},en.isProfiler=function(y){return v(y)===i},en.isStrictMode=function(y){return v(y)===r},en.isSuspense=function(y){return v(y)===c},en.isSuspenseList=function(y){return v(y)===u},en.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===c||y===u||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===h||y.$$typeof===o||y.$$typeof===s||y.$$typeof===a||y.$$typeof===g||y.getModuleId!==void 0)},en.typeOf=v,en}var kI;function T9(){return kI||(kI=1,$x.exports=S9()),$x.exports}var sO=T9();function oo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function oO(t){if(I.isValidElement(t)||sO.isValidElementType(t)||!oo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=oO(t[n])}),e}function xr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return oo(t)&&oo(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])||sO.isValidElementType(e[i])?r[i]=e[i]:oo(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&oo(t[i])?r[i]=xr(t[i],e[i],n):n.clone?r[i]=oo(e[i])?oO(e[i]):e[i]:r[i]=e[i]}),r}const A9=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function w9(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=A9(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function c(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function u(p,g){const v=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:g)-r/100}${n})`}function h(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function f(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?c(o[g]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:c,between:u,only:h,not:f,unit:n,...i}}function _9(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function C9(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function k9(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function R9(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const c=e(t.breakpoints.not(...a),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const I9={borderRadius:4};function Hf(t,e){return e?xr(t,e,{clone:!1}):t}const rb={xs:0,sm:600,md:900,lg:1200,xl:1536},RI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${rb[t]}px)`},L9={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:rb[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function pi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||RI;return e.reduce((o,a,c)=>(o[s.up(s.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const s=r.breakpoints||RI;return Object.keys(e).reduce((o,a)=>{if(C9(s.keys,a)){const c=k9(r.containerQueries?r:L9,a);c&&(o[c]=n(e[a],a))}else if(Object.keys(s.values||rb).includes(a)){const c=s.up(a);o[c]=n(e[a],a)}else{const c=a;o[c]=e[c]}return o},{})}return n(e)}function aO(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function lO(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function D9(t,...e){const n=aO(t),r=[n,...e].reduce((i,s)=>xr(i,s),{});return lO(Object.keys(n),r)}function P9(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Ac({values:t,breakpoints:e,base:n}){const r=n||P9(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,c)=>(Array.isArray(t)?(o[a]=t[c]!=null?t[c]:t[s],s=c):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function ye(t){if(typeof t!="string")throw new Error(Ao(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Ja(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function ny(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ja(t,n)||r,e&&(i=e(i,r,t)),i}function Vn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],c=o.theme,u=Ja(c,r)||{};return pi(o,a,f=>{let p=ny(u,i,f);return f===p&&typeof f=="string"&&(p=ny(u,i,`${e}${f==="default"?"":ye(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function M9(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const O9={m:"margin",p:"padding"},N9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},II={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$9=M9(t=>{if(t.length>2)if(II[t])t=II[t];else return[t];const[e,n]=t.split(""),r=O9[e],i=N9[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),WA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],HA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WA,...HA];function em(t,e,n,r){const i=Ja(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function ib(t){return em(t,"spacing",8)}function Nc(t,e){return typeof e=="string"||e==null?e:t(e)}function F9(t,e){return n=>t.reduce((r,i)=>(r[i]=Nc(e,n),r),{})}function B9(t,e,n,r){if(!e.includes(n))return null;const i=$9(n),s=F9(i,r),o=t[n];return pi(t,o,s)}function cO(t,e){const n=ib(t.theme);return Object.keys(t).map(r=>B9(t,e,r,n)).reduce(Hf,{})}function Dn(t){return cO(t,WA)}Dn.propTypes={};Dn.filterProps=WA;function Pn(t){return cO(t,HA)}Pn.propTypes={};Pn.filterProps=HA;function uO(t=8,e=ib({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function sb(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Hf(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Yi(t){return typeof t!="number"?t:`${t}px solid`}function ns(t,e){return Vn({prop:t,themeKey:"borders",transform:e})}const U9=ns("border",Yi),j9=ns("borderTop",Yi),V9=ns("borderRight",Yi),W9=ns("borderBottom",Yi),H9=ns("borderLeft",Yi),G9=ns("borderColor"),K9=ns("borderTopColor"),z9=ns("borderRightColor"),Y9=ns("borderBottomColor"),q9=ns("borderLeftColor"),X9=ns("outline",Yi),Q9=ns("outlineColor"),ob=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=em(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Nc(e,r)});return pi(t,t.borderRadius,n)}return null};ob.propTypes={};ob.filterProps=["borderRadius"];sb(U9,j9,V9,W9,H9,G9,K9,z9,Y9,q9,ob,X9,Q9);const ab=t=>{if(t.gap!==void 0&&t.gap!==null){const e=em(t.theme,"spacing",8),n=r=>({gap:Nc(e,r)});return pi(t,t.gap,n)}return null};ab.propTypes={};ab.filterProps=["gap"];const lb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=em(t.theme,"spacing",8),n=r=>({columnGap:Nc(e,r)});return pi(t,t.columnGap,n)}return null};lb.propTypes={};lb.filterProps=["columnGap"];const cb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=em(t.theme,"spacing",8),n=r=>({rowGap:Nc(e,r)});return pi(t,t.rowGap,n)}return null};cb.propTypes={};cb.filterProps=["rowGap"];const Z9=Vn({prop:"gridColumn"}),J9=Vn({prop:"gridRow"}),e7=Vn({prop:"gridAutoFlow"}),t7=Vn({prop:"gridAutoColumns"}),n7=Vn({prop:"gridAutoRows"}),r7=Vn({prop:"gridTemplateColumns"}),i7=Vn({prop:"gridTemplateRows"}),s7=Vn({prop:"gridTemplateAreas"}),o7=Vn({prop:"gridArea"});sb(ab,lb,cb,Z9,J9,e7,t7,n7,r7,i7,s7,o7);function dd(t,e){return e==="grey"?e:t}const a7=Vn({prop:"color",themeKey:"palette",transform:dd}),l7=Vn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:dd}),c7=Vn({prop:"backgroundColor",themeKey:"palette",transform:dd});sb(a7,l7,c7);function Ai(t){return t<=1&&t!==0?`${t*100}%`:t}const u7=Vn({prop:"width",transform:Ai}),GA=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,c;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||rb[n];return r?((c=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ai(n)}};return pi(t,t.maxWidth,e)}return null};GA.filterProps=["maxWidth"];const d7=Vn({prop:"minWidth",transform:Ai}),h7=Vn({prop:"height",transform:Ai}),f7=Vn({prop:"maxHeight",transform:Ai}),p7=Vn({prop:"minHeight",transform:Ai});Vn({prop:"size",cssProperty:"width",transform:Ai});Vn({prop:"size",cssProperty:"height",transform:Ai});const m7=Vn({prop:"boxSizing"});sb(u7,GA,d7,h7,f7,p7,m7);const tm={border:{themeKey:"borders",transform:Yi},borderTop:{themeKey:"borders",transform:Yi},borderRight:{themeKey:"borders",transform:Yi},borderBottom:{themeKey:"borders",transform:Yi},borderLeft:{themeKey:"borders",transform:Yi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ob},color:{themeKey:"palette",transform:dd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:dd},backgroundColor:{themeKey:"palette",transform:dd},p:{style:Pn},pt:{style:Pn},pr:{style:Pn},pb:{style:Pn},pl:{style:Pn},px:{style:Pn},py:{style:Pn},padding:{style:Pn},paddingTop:{style:Pn},paddingRight:{style:Pn},paddingBottom:{style:Pn},paddingLeft:{style:Pn},paddingX:{style:Pn},paddingY:{style:Pn},paddingInline:{style:Pn},paddingInlineStart:{style:Pn},paddingInlineEnd:{style:Pn},paddingBlock:{style:Pn},paddingBlockStart:{style:Pn},paddingBlockEnd:{style:Pn},m:{style:Dn},mt:{style:Dn},mr:{style:Dn},mb:{style:Dn},ml:{style:Dn},mx:{style:Dn},my:{style:Dn},margin:{style:Dn},marginTop:{style:Dn},marginRight:{style:Dn},marginBottom:{style:Dn},marginLeft:{style:Dn},marginX:{style:Dn},marginY:{style:Dn},marginInline:{style:Dn},marginInlineStart:{style:Dn},marginInlineEnd:{style:Dn},marginBlock:{style:Dn},marginBlockStart:{style:Dn},marginBlockEnd:{style:Dn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ab},rowGap:{style:cb},columnGap:{style:lb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ai},maxWidth:{style:GA},minWidth:{transform:Ai},height:{transform:Ai},maxHeight:{transform:Ai},minHeight:{transform:Ai},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function g7(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function v7(t,e){return typeof t=="function"?t(e):t}function y7(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const p=Ja(i,u)||{};return f?f(o):pi(o,r,v=>{let y=ny(p,h,v);return v===y&&typeof v=="string"&&(y=ny(p,h,`${n}${v==="default"?"":ye(v)}`,v)),c===!1?y:{[c]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??tm;function o(a){let c=a;if(typeof a=="function")c=a(i);else if(typeof a!="object")return a;if(!c)return null;const u=aO(i.breakpoints),h=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const g=v7(c[p],i);if(g!=null)if(typeof g=="object")if(s[p])f=Hf(f,t(p,g,i,s));else{const v=pi({theme:i},g,y=>({[p]:y}));g7(v,g)?f[p]=e({sx:g,theme:i}):f=Hf(f,v)}else f=Hf(f,t(p,g,i,s))}),_9(i,lO(h,f))}return Array.isArray(r)?r.map(o):o(r)}return e}const rl=y7();rl.filterProps=["sx"];function b7(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function nm(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=w9(n),c=uO(i);let u=xr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...I9,...s}},o);return u=R9(u),u.applyStyles=b7,u=e.reduce((h,f)=>xr(h,f),u),u.unstable_sxConfig={...tm,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(f){return rl({sx:f,theme:this})},u}function E7(t){return Object.keys(t).length===0}function KA(t=null){const e=I.useContext(Zp);return!e||E7(e)?t:e}const x7=nm();function ub(t=x7){return KA(t)}function S7({styles:t,themeId:e,defaultTheme:n={}}){const r=ub(n),i=typeof t=="function"?t(e&&r[e]||r):t;return b.jsx(rO,{styles:i})}const T7=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??tm;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function db(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=T7(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return oo(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const LI=t=>t,A7=()=>{let t=LI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=LI}}},dO=A7();function hO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hO(t))&&(r&&(r+=" "),r+=e);return r}function w7(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=iO("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(rl);return I.forwardRef(function(c,u){const h=ub(n),{className:f,component:p="div",...g}=db(c);return b.jsx(s,{as:p,ref:u,className:Ce(f,i?i(r):r),theme:e&&h[e]||h,...g})})}const _7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qe(t,e,n="Mui"){const r=_7[e];return r?`${n}-${r}`:`${dO.generate(t)}-${e}`}function st(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Qe(t,i,n)}),r}function fO(t){const{variants:e,...n}=t,r={variants:e,style:_I(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=_I(i.style))}),r}const C7=nm();function Fx(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function k7(t){return t?(e,n)=>n[t]:null}function R7(t,e,n){t.theme=L7(t.theme)?n:t.theme[e]||t.theme}function C0(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>C0(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return pO(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function pO(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function mO(t={}){const{themeId:e,defaultTheme:n=C7,rootShouldForwardProp:r=Fx,slotShouldForwardProp:i=Fx}=t;function s(a){R7(a,e,n)}return(a,c={})=>{x9(a,_=>_.filter(L=>L!==rl));const{name:u,slot:h,skipVariantsResolver:f,skipSx:p,overridesResolver:g=k7(P7(h)),...v}=c,y=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,E=p||!1;let S=Fx;h==="Root"||h==="root"?S=r:h?S=i:D7(a)&&(S=void 0);const w=iO(a,{shouldForwardProp:S,label:I7(),...v}),T=_=>{if(typeof _=="function"&&_.__emotion_real!==_)return function(D){return C0(D,_)};if(oo(_)){const L=fO(_);return L.variants?function(P){return C0(P,L)}:L.style}return _},C=(..._)=>{const L=[],D=_.map(T),P=[];if(L.push(s),u&&g&&P.push(function(z){var H,Q;const q=(Q=(H=z.theme.components)==null?void 0:H[u])==null?void 0:Q.styleOverrides;if(!q)return null;const G={};for(const W in q)G[W]=C0(z,q[W]);return g(z,G)}),u&&!y&&P.push(function(z){var G,H;const j=z.theme,q=(H=(G=j==null?void 0:j.components)==null?void 0:G[u])==null?void 0:H.variants;return q?pO(z,q):null}),E||P.push(rl),Array.isArray(D[0])){const $=D.shift(),z=new Array(L.length).fill(""),j=new Array(P.length).fill("");let q;q=[...z,...$,...j],q.raw=[...z,...$.raw,...j],L.unshift(q)}const N=[...L,...D,...P],k=w(...N);return a.muiName&&(k.muiName=a.muiName),k};return w.withConfig&&(C.withConfig=w.withConfig),C}}function I7(t,e){return void 0}function L7(t){for(const e in t)return!1;return!0}function D7(t){return typeof t=="string"&&t.charCodeAt(0)>96}function P7(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const gO=mO();function mp(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const c=a;n[i][c]=mp(s[c],o[c])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function vO(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:mp(e.components[n].defaultProps,r)}function yO({props:t,name:e,defaultTheme:n,themeId:r}){let i=ub(n);return r&&(i=i[r]||i),vO({theme:i,name:e,props:t})}const mi=typeof window<"u"?I.useLayoutEffect:I.useEffect;function M7(t,e,n,r,i){const[s,o]=I.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return mi(()=>{if(!n)return;const a=n(t),c=()=>{o(a.matches)};return c(),a.addEventListener("change",c),()=>{a.removeEventListener("change",c)}},[t,n]),s}const O7={...Jv},bO=O7.useSyncExternalStore;function N7(t,e,n,r,i){const s=I.useCallback(()=>e,[e]),o=I.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:h}=r(t);return()=>h}return s},[s,t,r,i,n]),[a,c]=I.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const h=n(t);return[()=>h.matches,f=>(h.addEventListener("change",f),()=>{h.removeEventListener("change",f)})]},[s,n,t]);return bO(c,a,o)}function EO(t={}){const{themeId:e}=t;return function(r,i={}){let s=KA();s&&e&&(s=s[e]||s);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:c=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:h=!1}=vO({name:"MuiUseMediaQuery",props:i,theme:s});let f=typeof r=="function"?r(s):r;return f=f.replace(/^@media( ?)/m,""),(bO!==void 0?N7:M7)(f,a,c,u,h)}}EO();function $7(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function zA(t,e=0,n=1){return $7(t,e,n)}function F7(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function il(t){if(t.type)return t;if(t.charAt(0)==="#")return il(F7(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ao(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ao(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const B7=t=>{const e=il(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},pf=(t,e)=>{try{return B7(t)}catch{return t}};function hb(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function xO(t){t=il(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,h=(u+n/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",c.push(e[3])),hb({type:a,values:c})}function dS(t){t=il(t);let e=t.type==="hsl"||t.type==="hsla"?il(xO(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function U7(t,e){const n=dS(t),r=dS(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Dt(t,e){return t=il(t),e=zA(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,hb(t)}function kg(t,e,n){try{return Dt(t,e)}catch{return t}}function YA(t,e){if(t=il(t),e=zA(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return hb(t)}function rn(t,e,n){try{return YA(t,e)}catch{return t}}function qA(t,e){if(t=il(t),e=zA(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return hb(t)}function sn(t,e,n){try{return qA(t,e)}catch{return t}}function j7(t,e=.15){return dS(t)>.5?YA(t,e):qA(t,e)}function Rg(t,e,n){try{return j7(t,e)}catch{return t}}function DI(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function rm(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function k0(t,e){var n,r,i;return I.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Lr(t){return t&&t.ownerDocument||document}function Ci(t){return Lr(t).defaultView||window}function hS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let PI=0;function V7(t){const[e,n]=I.useState(t),r=t||e;return I.useEffect(()=>{e==null&&(PI+=1,n(`mui-${PI}`))},[e]),r}const W7={...Jv},MI=W7.useId;function Vd(t){if(MI!==void 0){const e=MI();return t??e}return V7(t)}function fS({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=I.useRef(t!==void 0),[s,o]=I.useState(e),a=i?t:s,c=I.useCallback(u=>{i||o(u)},[]);return[a,c]}function Xi(t){const e=I.useRef(t);return mi(()=>{e.current=t}),I.useRef((...n)=>(0,e.current)(...n)).current}function mn(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{hS(n,e)})},t)}const OI={};function SO(t,e){const n=I.useRef(OI);return n.current===OI&&(n.current=t(e)),n}const H7=[];function G7(t){I.useEffect(t,H7)}class fb{constructor(){Fh(this,"currentId",null);Fh(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Fh(this,"disposeEffect",()=>this.clear)}static create(){return new fb}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function hc(){const t=SO(fb.create).current;return G7(t.disposeEffect),t}function Td(t){try{return t.matches(":focus-visible")}catch{}return!1}function TO(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const AO=t=>{const e=I.useRef({});return I.useEffect(()=>{e.current=t}),e.current};function Ze(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let c=0;c<s.length;c+=1){const u=s[c];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}function K7(t){return typeof t=="string"}function wO(t,e,n){return t===void 0||K7(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function _O(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function NI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function CO(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const g=Ce(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return g.length>0&&(y.className=g),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const o=_O({...i,...r}),a=NI(r),c=NI(i),u=e(o),h=Ce(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},p={...u,...n,...c,...a};return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:u.ref}}function kO(t,e,n){return typeof t=="function"?t(e,n):t}function ia(t){var f;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:kO(n,r),{props:a,internalRef:c}=CO({...s,externalSlotProps:o}),u=mn(c,o==null?void 0:o.ref,(f=t.additionalProps)==null?void 0:f.ref);return wO(e,{...a,ref:u},r)}function hl(t){var e;return parseInt(I.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const RO=I.createContext(null);function XA(){return I.useContext(RO)}const z7=typeof Symbol=="function"&&Symbol.for,Y7=z7?Symbol.for("mui.nested"):"__THEME_NESTED__";function q7(t,e){return typeof e=="function"?e(t):{...t,...e}}function X7(t){const{children:e,theme:n}=t,r=XA(),i=I.useMemo(()=>{const s=r===null?{...n}:q7(r,n);return s!=null&&(s[Y7]=r!==null),s},[n,r]);return b.jsx(RO.Provider,{value:i,children:e})}const IO=I.createContext();function Q7({value:t,...e}){return b.jsx(IO.Provider,{value:t??!0,...e})}const im=()=>I.useContext(IO)??!1,LO=I.createContext(void 0);function Z7({value:t,children:e}){return b.jsx(LO.Provider,{value:t,children:e})}function J7(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?mp(i.defaultProps,r):!i.styleOverrides&&!i.variants?mp(i,r):r}function ej({props:t,name:e}){const n=I.useContext(LO);return J7({props:t,name:e,theme:{components:n}})}const $I={};function FI(t,e,n,r=!1){return I.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?{...e,[t]:s}:s;return r?()=>o:o}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function DO(t){const{children:e,theme:n,themeId:r}=t,i=KA($I),s=XA()||$I,o=FI(r,i,n),a=FI(r,s,n,!0),c=(r?o[r]:o).direction==="rtl";return b.jsx(X7,{theme:a,children:b.jsx(Zp.Provider,{value:o,children:b.jsx(Q7,{value:c,children:b.jsx(Z7,{value:r?o[r].components:o.components,children:e})})})})}const BI={theme:void 0};function tj(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(BI.theme=i.theme,s=fO(t(BI)),e=s,n=i.theme),s}}const QA="mode",ZA="color-scheme",nj="data-color-scheme";function rj(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=QA,colorSchemeStorageKey:s=ZA,attribute:o=nj,colorSchemeNode:a="document.documentElement",nonce:c}=t||{};let u="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const p=h.substring(1);u+=`${a}.classList.remove('${p}'.replace('%s', light), '${p}'.replace('%s', dark));
      ${a}.classList.add('${p}'.replace('%s', colorScheme));`}const f=h.match(/\[([^\]]+)\]/);if(f){const[p,g]=f[1].split("=");g||(u+=`${a}.removeAttribute('${p}'.replace('%s', light));
      ${a}.removeAttribute('${p}'.replace('%s', dark));`),u+=`
      ${a}.setAttribute('${p}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else u+=`${a}.setAttribute('${h}', colorScheme);`;return b.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function UI(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function PO(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function ij(t){return PO(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function Bx(t,e){if(typeof window>"u")return;let n;try{n=localStorage.getItem(t)||void 0,n||localStorage.setItem(t,e)}catch{}return n||e}function sj(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=QA,colorSchemeStorageKey:o=ZA,storageWindow:a=typeof window>"u"?void 0:window,noSsr:c=!1}=t,u=i.join(","),h=i.length>1,[f,p]=I.useState(()=>{const C=Bx(s,e),_=Bx(`${o}-light`,n),L=Bx(`${o}-dark`,r);return{mode:C,systemMode:UI(C),lightColorScheme:_,darkColorScheme:L}}),[g,v]=I.useState(c||!h);I.useEffect(()=>{v(!0)},[]);const y=ij(f),E=I.useCallback(C=>{p(_=>{if(C===_.mode)return _;const L=C??e;try{localStorage.setItem(s,L)}catch{}return{..._,mode:L,systemMode:UI(L)}})},[s,e]),S=I.useCallback(C=>{C?typeof C=="string"?C&&!u.includes(C)?console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`):p(_=>{const L={..._};return PO(_,D=>{try{localStorage.setItem(`${o}-${D}`,C)}catch{}D==="light"&&(L.lightColorScheme=C),D==="dark"&&(L.darkColorScheme=C)}),L}):p(_=>{const L={..._},D=C.light===null?n:C.light,P=C.dark===null?r:C.dark;if(D)if(!u.includes(D))console.error(`\`${D}\` does not exist in \`theme.colorSchemes\`.`);else{L.lightColorScheme=D;try{localStorage.setItem(`${o}-light`,D)}catch{}}if(P)if(!u.includes(P))console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`);else{L.darkColorScheme=P;try{localStorage.setItem(`${o}-dark`,P)}catch{}}return L}):p(_=>{try{localStorage.setItem(`${o}-light`,n),localStorage.setItem(`${o}-dark`,r)}catch{}return{..._,lightColorScheme:n,darkColorScheme:r}})},[u,o,n,r]),w=I.useCallback(C=>{f.mode==="system"&&p(_=>{const L=C!=null&&C.matches?"dark":"light";return _.systemMode===L?_:{..._,systemMode:L}})},[f.mode]),T=I.useRef(w);return T.current=w,I.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const C=(...L)=>T.current(...L),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(C),C(_),()=>{_.removeListener(C)}},[h]),I.useEffect(()=>{if(a&&h){const C=_=>{const L=_.newValue;typeof _.key=="string"&&_.key.startsWith(o)&&(!L||u.match(L))&&(_.key.endsWith("light")&&S({light:L}),_.key.endsWith("dark")&&S({dark:L})),_.key===s&&(!L||["light","dark","system"].includes(L))&&E(L||e)};return a.addEventListener("storage",C),()=>{a.removeEventListener("storage",C)}}},[S,E,s,o,u,e,a,h]),{...f,mode:g?f.mode:void 0,systemMode:g?f.systemMode:void 0,colorScheme:g?y:void 0,setMode:E,setColorScheme:S}}const oj="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function aj(t){const{themeId:e,theme:n={},modeStorageKey:r=QA,colorSchemeStorageKey:i=ZA,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:a}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=I.createContext(void 0),h=()=>I.useContext(u)||c,f={},p={};function g(S){var Tn,Ht,Fn,Wn;const{children:w,theme:T,modeStorageKey:C=r,colorSchemeStorageKey:_=i,disableTransitionOnChange:L=s,storageWindow:D=typeof window>"u"?void 0:window,documentNode:P=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:k=!1,disableStyleSheetGeneration:$=!1,defaultMode:z="system",noSsr:j}=S,q=I.useRef(!1),G=XA(),H=I.useContext(u),Q=!!H&&!k,W=I.useMemo(()=>T||(typeof n=="function"?n():n),[T]),V=W[e],K=V||W,{colorSchemes:B=f,components:Z=p,cssVarPrefix:ue}=K,fe=Object.keys(B).filter(Ct=>!!B[Ct]).join(","),me=I.useMemo(()=>fe.split(","),[fe]),he=typeof o=="string"?o:o.light,Te=typeof o=="string"?o:o.dark,_e=B[he]&&B[Te]?z:((Ht=(Tn=B[K.defaultColorScheme])==null?void 0:Tn.palette)==null?void 0:Ht.mode)||((Fn=K.palette)==null?void 0:Fn.mode),{mode:Ie,setMode:Pe,systemMode:et,lightColorScheme:Be,darkColorScheme:mt,colorScheme:We,setColorScheme:gt}=sj({supportedColorSchemes:me,defaultLightColorScheme:he,defaultDarkColorScheme:Te,modeStorageKey:C,colorSchemeStorageKey:_,defaultMode:_e,storageWindow:D,noSsr:j});let $t=Ie,Ye=We;Q&&($t=H.mode,Ye=H.colorScheme);const ht=I.useMemo(()=>{var bt;const Ct=Ye||K.defaultColorScheme,kt=((bt=K.generateThemeVars)==null?void 0:bt.call(K))||K.vars,Rt={...K,components:Z,colorSchemes:B,cssVarPrefix:ue,vars:kt};if(typeof Rt.generateSpacing=="function"&&(Rt.spacing=Rt.generateSpacing()),Ct){const Re=B[Ct];Re&&typeof Re=="object"&&Object.keys(Re).forEach(qt=>{Re[qt]&&typeof Re[qt]=="object"?Rt[qt]={...Rt[qt],...Re[qt]}:Rt[qt]=Re[qt]})}return a?a(Rt):Rt},[K,Ye,Z,B,ue]),Ft=K.colorSchemeSelector;mi(()=>{if(Ye&&N&&Ft&&Ft!=="media"){const Ct=Ft;let kt=Ft;if(Ct==="class"&&(kt=".%s"),Ct==="data"&&(kt="[data-%s]"),Ct!=null&&Ct.startsWith("data-")&&!Ct.includes("%s")&&(kt=`[${Ct}="%s"]`),kt.startsWith("."))N.classList.remove(...me.map(Rt=>kt.substring(1).replace("%s",Rt))),N.classList.add(kt.substring(1).replace("%s",Ye));else{const Rt=kt.replace("%s",Ye).match(/\[([^\]]+)\]/);if(Rt){const[bt,Re]=Rt[1].split("=");Re||me.forEach(qt=>{N.removeAttribute(bt.replace(Ye,qt))}),N.setAttribute(bt,Re?Re.replace(/"|'/g,""):"")}else N.setAttribute(kt,Ye)}}},[Ye,Ft,N,me]),I.useEffect(()=>{let Ct;if(L&&q.current&&P){const kt=P.createElement("style");kt.appendChild(P.createTextNode(oj)),P.head.appendChild(kt),window.getComputedStyle(P.body),Ct=setTimeout(()=>{P.head.removeChild(kt)},1)}return()=>{clearTimeout(Ct)}},[Ye,L,P]),I.useEffect(()=>(q.current=!0,()=>{q.current=!1}),[]);const yt=I.useMemo(()=>({allColorSchemes:me,colorScheme:Ye,darkColorScheme:mt,lightColorScheme:Be,mode:$t,setColorScheme:gt,setMode:Pe,systemMode:et}),[me,Ye,mt,Be,$t,gt,Pe,et,ht.colorSchemeSelector]);let Oe=!0;($||K.cssVariables===!1||Q&&(G==null?void 0:G.cssVarPrefix)===ue)&&(Oe=!1);const Le=b.jsxs(I.Fragment,{children:[b.jsx(DO,{themeId:V?e:void 0,theme:ht,children:w}),Oe&&b.jsx(rO,{styles:((Wn=ht.generateStyleSheets)==null?void 0:Wn.call(ht))||[]})]});return Q?Le:b.jsx(u.Provider,{value:yt,children:Le})}const v=typeof o=="string"?o:o.light,y=typeof o=="string"?o:o.dark;return{CssVarsProvider:g,useColorScheme:h,getInitColorSchemeScript:S=>rj({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:y,modeStorageKey:r,...S})}}function lj(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const jI=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},cj=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,c])=>{(!n||n&&!n([...s,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...s,a],Array.isArray(c)?[...o,a]:o):e([...s,a],c,o))})}r(t)},uj=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ux(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return cj(t,(a,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=uj(a,c);Object.assign(i,{[h]:f}),jI(s,a,`var(${h})`,u),jI(o,a,`var(${h}, ${f})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function dj(t,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...c}=t,{vars:u,css:h,varsWithDefaults:f}=Ux(c,e);let p=f;const g={},{[a]:v,...y}=s;if(Object.entries(y||{}).forEach(([T,C])=>{const{vars:_,css:L,varsWithDefaults:D}=Ux(C,e);p=xr(p,D),g[T]={css:L,vars:_}}),v){const{css:T,vars:C,varsWithDefaults:_}=Ux(v,e);p=xr(p,_),g[a]={css:T,vars:C}}function E(T,C){var L,D;let _=i;if(i==="class"&&(_=".%s"),i==="data"&&(_="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(_=`[${i}="%s"]`),T){if(_==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((D=(L=s[T])==null?void 0:L.palette)==null?void 0:D.mode)||T})`]:{":root":C}};if(_)return t.defaultColorScheme===T?`:root, ${_.replace("%s",String(T))}`:_.replace("%s",String(T))}return":root"}return{vars:p,generateThemeVars:()=>{let T={...u};return Object.entries(g).forEach(([,{vars:C}])=>{T=xr(T,C)}),T},generateStyleSheets:()=>{var P,N;const T=[],C=t.defaultColorScheme||"light";function _(k,$){Object.keys($).length&&T.push(typeof k=="string"?{[k]:{...$}}:k)}_(n(void 0,{...h}),h);const{[C]:L,...D}=g;if(L){const{css:k}=L,$=(N=(P=s[C])==null?void 0:P.palette)==null?void 0:N.mode,z=!r&&$?{colorScheme:$,...k}:{...k};_(n(C,{...z}),z)}return Object.entries(D).forEach(([k,{css:$}])=>{var q,G;const z=(G=(q=s[k])==null?void 0:q.palette)==null?void 0:G.mode,j=!r&&z?{colorScheme:z,...$}:{...$};_(n(k,{...j}),j)}),T}}}function hj(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const fj=nm(),pj=gO("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ye(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),mj=t=>yO({props:t,name:"MuiContainer",defaultTheme:fj}),gj=(t,e)=>{const n=c=>Qe(e,c),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${ye(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Ze(a,n,r)};function vj(t={}){const{createStyledComponent:e=pj,useThemeProps:n=mj,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((c,u)=>{const h=u,f=o.breakpoints.values[h];return f!==0&&(c[o.breakpoints.up(h)]={maxWidth:`${f}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:a})=>({...a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}}));return I.forwardRef(function(a,c){const u=n(a),{className:h,component:f="div",disableGutters:p=!1,fixed:g=!1,maxWidth:v="lg",classes:y,...E}=u,S={...u,component:f,disableGutters:p,fixed:g,maxWidth:v},w=gj(S,r);return b.jsx(i,{as:f,ownerState:S,className:Ce(w.root,h),ref:c,...E})})}const yj=nm(),bj=gO("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Ej(t){return yO({props:t,name:"MuiStack",defaultTheme:yj})}function xj(t,e){const n=I.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(I.cloneElement(e,{key:`separator-${s}`})),r),[])}const Sj=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Tj=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...pi({theme:e},Ac({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=ib(e),i=Object.keys(e.breakpoints.values).reduce((c,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(c[u]=!0),c),{}),s=Ac({values:t.direction,base:i}),o=Ac({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((c,u,h)=>{if(!s[c]){const p=u>0?s[h[u-1]]:"column";s[c]=p}}),n=xr(n,pi({theme:e},o,(c,u)=>t.useFlexGap?{gap:Nc(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Sj(u?s[u]:t.direction)}`]:Nc(r,c)}}))}return n=D9(e.breakpoints,n),n};function Aj(t={}){const{createStyledComponent:e=bj,useThemeProps:n=Ej,componentName:r="MuiStack"}=t,i=()=>Ze({root:["root"]},c=>Qe(r,c),{}),s=e(Tj);return I.forwardRef(function(c,u){const h=n(c),f=db(h),{component:p="div",direction:g="column",spacing:v=0,divider:y,children:E,className:S,useFlexGap:w=!1,...T}=f,C={direction:g,spacing:v,useFlexGap:w},_=i();return b.jsx(s,{as:p,ownerState:C,ref:u,className:Ce(_.root,S),...T,children:y?xj(E,y):E})})}function MO(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:dp.white,default:dp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const wj=MO();function OO(){return{text:{primary:dp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:dp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VI=OO();function WI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qA(t.main,i):e==="dark"&&(t.dark=YA(t.main,s)))}function _j(t="light"){return t==="dark"?{main:gu[200],light:gu[50],dark:gu[400]}:{main:gu[700],light:gu[400],dark:gu[800]}}function Cj(t="light"){return t==="dark"?{main:mu[200],light:mu[50],dark:mu[400]}:{main:mu[500],light:mu[300],dark:mu[700]}}function kj(t="light"){return t==="dark"?{main:Bl[500],light:Bl[300],dark:Bl[700]}:{main:Bl[700],light:Bl[400],dark:Bl[800]}}function Rj(t="light"){return t==="dark"?{main:vu[400],light:vu[300],dark:vu[700]}:{main:vu[700],light:vu[500],dark:vu[900]}}function Ij(t="light"){return t==="dark"?{main:yu[400],light:yu[300],dark:yu[700]}:{main:yu[800],light:yu[500],dark:yu[900]}}function Lj(t="light"){return t==="dark"?{main:Uh[400],light:Uh[300],dark:Uh[700]}:{main:"#ed6c02",light:Uh[500],dark:Uh[900]}}function JA(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||_j(e),o=t.secondary||Cj(e),a=t.error||kj(e),c=t.info||Rj(e),u=t.success||Ij(e),h=t.warning||Lj(e);function f(y){return U7(y,VI.text.primary)>=n?VI.text.primary:wj.text.primary}const p=({color:y,name:E,mainShade:S=500,lightShade:w=300,darkShade:T=700})=>{if(y={...y},!y.main&&y[S]&&(y.main=y[S]),!y.hasOwnProperty("main"))throw new Error(Ao(11,E?` (${E})`:"",S));if(typeof y.main!="string")throw new Error(Ao(12,E?` (${E})`:"",JSON.stringify(y.main)));return WI(y,"light",w,r),WI(y,"dark",T,r),y.contrastText||(y.contrastText=f(y.main)),y};let g;return e==="light"?g=MO():e==="dark"&&(g=OO()),xr({common:{...dp},mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:u,name:"success"}),grey:S6,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r,...g},i)}function Dj(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Pj(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Mj(t){return Math.round(t*1e5)/1e5}const HI={textTransform:"uppercase"},GI='"Roboto", "Helvetica", "Arial", sans-serif';function NO(t,e){const{fontFamily:n=GI,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...f}=typeof e=="function"?e(t):e,p=r/14,g=h||(E=>`${E/c*p}rem`),v=(E,S,w,T,C)=>({fontFamily:n,fontWeight:E,fontSize:g(S),lineHeight:w,...n===GI?{letterSpacing:`${Mj(T/S)}em`}:{},...C,...u}),y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,HI),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,HI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xr({htmlFontSize:c,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...y},f,{clone:!1})}const Oj=.2,Nj=.14,$j=.12;function xn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Oj})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Nj})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${$j})`].join(",")}const Fj=["none",xn(0,2,1,-1,0,1,1,0,0,1,3,0),xn(0,3,1,-2,0,2,2,0,0,1,5,0),xn(0,3,3,-2,0,3,4,0,0,1,8,0),xn(0,2,4,-1,0,4,5,0,0,1,10,0),xn(0,3,5,-1,0,5,8,0,0,1,14,0),xn(0,3,5,-1,0,6,10,0,0,1,18,0),xn(0,4,5,-2,0,7,10,1,0,2,16,1),xn(0,5,5,-3,0,8,10,1,0,3,14,2),xn(0,5,6,-3,0,9,12,1,0,3,16,2),xn(0,6,6,-3,0,10,14,1,0,4,18,3),xn(0,6,7,-4,0,11,15,1,0,4,20,3),xn(0,7,8,-4,0,12,17,2,0,5,22,4),xn(0,7,8,-4,0,13,19,2,0,5,24,4),xn(0,7,9,-4,0,14,21,2,0,5,26,4),xn(0,8,9,-5,0,15,22,2,0,6,28,5),xn(0,8,10,-5,0,16,24,2,0,6,30,5),xn(0,8,11,-5,0,17,26,2,0,6,32,5),xn(0,9,11,-5,0,18,28,2,0,7,34,6),xn(0,9,12,-6,0,19,29,2,0,7,36,6),xn(0,10,13,-6,0,20,31,3,0,8,38,7),xn(0,10,13,-6,0,21,33,3,0,8,40,7),xn(0,10,14,-6,0,22,35,3,0,8,42,7),xn(0,11,14,-7,0,23,36,3,0,9,44,8),xn(0,11,15,-7,0,24,38,3,0,9,46,8)],Bj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KI(t){return`${Math.round(t)}ms`}function Uj(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jj(t){const e={...Bj,...t.easing},n={...$O,...t.duration};return{getAutoHeightDuration:Uj,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:c=0,...u}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:KI(o)} ${a} ${typeof c=="string"?c:KI(c)}`).join(",")},...t,easing:e,duration:n}}const Vj={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Wj(t){return oo(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function FO(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!Wj(a)||o.startsWith("unstable_")?delete r[o]:oo(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function pS(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:c,...u}=t;if(t.vars)throw new Error(Ao(20));const h=JA(s),f=nm(t);let p=xr(f,{mixins:Pj(f.breakpoints,r),palette:h,shadows:Fj.slice(),typography:NO(h,a),transitions:jj(o),zIndex:{...Vj}});return p=xr(p,u),p=e.reduce((g,v)=>xr(g,v),p),p.unstable_sxConfig={...tm,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(v){return rl({sx:v,theme:this})},p.toRuntimeSource=FO,p}function mS(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Hj=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=mS(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function BO(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function UO(t){return t==="dark"?Hj:[]}function Gj(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=JA(e);return{palette:s,opacity:{...BO(s.mode),...n},overlays:r||UO(s.mode),...i}}function Kj(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const zj=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Yj=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return zj(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function qj(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function de(t,e,n){!t[e]&&n&&(t[e]=n)}function mf(t){return typeof t!="string"||!t.startsWith("hsl")?t:xO(t)}function Fo(t,e){`${e}Channel`in t||(t[`${e}Channel`]=pf(mf(t[e])))}function Xj(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Bs=t=>{try{return t()}catch{}},Qj=(t="mui")=>lj(t);function jx(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=Gj({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=pS({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...BO(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||UO(i)},o}function Zj(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Kj,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...u}=t,h=Object.keys(n)[0],f=r||(n.light&&h!=="light"?"light":h),p=Qj(s),{[f]:g,light:v,dark:y,...E}=n,S={...E};let w=g;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(w=!0),!w)throw new Error(Ao(21,f));const T=jx(S,w,u,f);v&&!S.light&&jx(S,v,void 0,"light"),y&&!S.dark&&jx(S,y,void 0,"dark");let C={defaultColorScheme:f,...T,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:c,getCssVar:p,colorSchemes:S,font:{...Dj(T.typography),...T.font},spacing:Xj(u.spacing)};Object.keys(C.colorSchemes).forEach(N=>{const k=C.colorSchemes[N].palette,$=z=>{const j=z.split("-"),q=j[1],G=j[2];return p(z,k[q][G])};if(k.mode==="light"&&(de(k.common,"background","#fff"),de(k.common,"onBackground","#000")),k.mode==="dark"&&(de(k.common,"background","#000"),de(k.common,"onBackground","#fff")),qj(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){de(k.Alert,"errorColor",rn(k.error.light,.6)),de(k.Alert,"infoColor",rn(k.info.light,.6)),de(k.Alert,"successColor",rn(k.success.light,.6)),de(k.Alert,"warningColor",rn(k.warning.light,.6)),de(k.Alert,"errorFilledBg",$("palette-error-main")),de(k.Alert,"infoFilledBg",$("palette-info-main")),de(k.Alert,"successFilledBg",$("palette-success-main")),de(k.Alert,"warningFilledBg",$("palette-warning-main")),de(k.Alert,"errorFilledColor",Bs(()=>k.getContrastText(k.error.main))),de(k.Alert,"infoFilledColor",Bs(()=>k.getContrastText(k.info.main))),de(k.Alert,"successFilledColor",Bs(()=>k.getContrastText(k.success.main))),de(k.Alert,"warningFilledColor",Bs(()=>k.getContrastText(k.warning.main))),de(k.Alert,"errorStandardBg",sn(k.error.light,.9)),de(k.Alert,"infoStandardBg",sn(k.info.light,.9)),de(k.Alert,"successStandardBg",sn(k.success.light,.9)),de(k.Alert,"warningStandardBg",sn(k.warning.light,.9)),de(k.Alert,"errorIconColor",$("palette-error-main")),de(k.Alert,"infoIconColor",$("palette-info-main")),de(k.Alert,"successIconColor",$("palette-success-main")),de(k.Alert,"warningIconColor",$("palette-warning-main")),de(k.AppBar,"defaultBg",$("palette-grey-100")),de(k.Avatar,"defaultBg",$("palette-grey-400")),de(k.Button,"inheritContainedBg",$("palette-grey-300")),de(k.Button,"inheritContainedHoverBg",$("palette-grey-A100")),de(k.Chip,"defaultBorder",$("palette-grey-400")),de(k.Chip,"defaultAvatarColor",$("palette-grey-700")),de(k.Chip,"defaultIconColor",$("palette-grey-700")),de(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(k.LinearProgress,"primaryBg",sn(k.primary.main,.62)),de(k.LinearProgress,"secondaryBg",sn(k.secondary.main,.62)),de(k.LinearProgress,"errorBg",sn(k.error.main,.62)),de(k.LinearProgress,"infoBg",sn(k.info.main,.62)),de(k.LinearProgress,"successBg",sn(k.success.main,.62)),de(k.LinearProgress,"warningBg",sn(k.warning.main,.62)),de(k.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.11)`),de(k.Slider,"primaryTrack",sn(k.primary.main,.62)),de(k.Slider,"secondaryTrack",sn(k.secondary.main,.62)),de(k.Slider,"errorTrack",sn(k.error.main,.62)),de(k.Slider,"infoTrack",sn(k.info.main,.62)),de(k.Slider,"successTrack",sn(k.success.main,.62)),de(k.Slider,"warningTrack",sn(k.warning.main,.62));const z=Rg(k.background.default,.8);de(k.SnackbarContent,"bg",z),de(k.SnackbarContent,"color",Bs(()=>k.getContrastText(z))),de(k.SpeedDialAction,"fabHoverBg",Rg(k.background.paper,.15)),de(k.StepConnector,"border",$("palette-grey-400")),de(k.StepContent,"border",$("palette-grey-400")),de(k.Switch,"defaultColor",$("palette-common-white")),de(k.Switch,"defaultDisabledColor",$("palette-grey-100")),de(k.Switch,"primaryDisabledColor",sn(k.primary.main,.62)),de(k.Switch,"secondaryDisabledColor",sn(k.secondary.main,.62)),de(k.Switch,"errorDisabledColor",sn(k.error.main,.62)),de(k.Switch,"infoDisabledColor",sn(k.info.main,.62)),de(k.Switch,"successDisabledColor",sn(k.success.main,.62)),de(k.Switch,"warningDisabledColor",sn(k.warning.main,.62)),de(k.TableCell,"border",sn(kg(k.divider,1),.88)),de(k.Tooltip,"bg",kg(k.grey[700],.92))}if(k.mode==="dark"){de(k.Alert,"errorColor",sn(k.error.light,.6)),de(k.Alert,"infoColor",sn(k.info.light,.6)),de(k.Alert,"successColor",sn(k.success.light,.6)),de(k.Alert,"warningColor",sn(k.warning.light,.6)),de(k.Alert,"errorFilledBg",$("palette-error-dark")),de(k.Alert,"infoFilledBg",$("palette-info-dark")),de(k.Alert,"successFilledBg",$("palette-success-dark")),de(k.Alert,"warningFilledBg",$("palette-warning-dark")),de(k.Alert,"errorFilledColor",Bs(()=>k.getContrastText(k.error.dark))),de(k.Alert,"infoFilledColor",Bs(()=>k.getContrastText(k.info.dark))),de(k.Alert,"successFilledColor",Bs(()=>k.getContrastText(k.success.dark))),de(k.Alert,"warningFilledColor",Bs(()=>k.getContrastText(k.warning.dark))),de(k.Alert,"errorStandardBg",rn(k.error.light,.9)),de(k.Alert,"infoStandardBg",rn(k.info.light,.9)),de(k.Alert,"successStandardBg",rn(k.success.light,.9)),de(k.Alert,"warningStandardBg",rn(k.warning.light,.9)),de(k.Alert,"errorIconColor",$("palette-error-main")),de(k.Alert,"infoIconColor",$("palette-info-main")),de(k.Alert,"successIconColor",$("palette-success-main")),de(k.Alert,"warningIconColor",$("palette-warning-main")),de(k.AppBar,"defaultBg",$("palette-grey-900")),de(k.AppBar,"darkBg",$("palette-background-paper")),de(k.AppBar,"darkColor",$("palette-text-primary")),de(k.Avatar,"defaultBg",$("palette-grey-600")),de(k.Button,"inheritContainedBg",$("palette-grey-800")),de(k.Button,"inheritContainedHoverBg",$("palette-grey-700")),de(k.Chip,"defaultBorder",$("palette-grey-700")),de(k.Chip,"defaultAvatarColor",$("palette-grey-300")),de(k.Chip,"defaultIconColor",$("palette-grey-300")),de(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(k.LinearProgress,"primaryBg",rn(k.primary.main,.5)),de(k.LinearProgress,"secondaryBg",rn(k.secondary.main,.5)),de(k.LinearProgress,"errorBg",rn(k.error.main,.5)),de(k.LinearProgress,"infoBg",rn(k.info.main,.5)),de(k.LinearProgress,"successBg",rn(k.success.main,.5)),de(k.LinearProgress,"warningBg",rn(k.warning.main,.5)),de(k.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.13)`),de(k.Slider,"primaryTrack",rn(k.primary.main,.5)),de(k.Slider,"secondaryTrack",rn(k.secondary.main,.5)),de(k.Slider,"errorTrack",rn(k.error.main,.5)),de(k.Slider,"infoTrack",rn(k.info.main,.5)),de(k.Slider,"successTrack",rn(k.success.main,.5)),de(k.Slider,"warningTrack",rn(k.warning.main,.5));const z=Rg(k.background.default,.98);de(k.SnackbarContent,"bg",z),de(k.SnackbarContent,"color",Bs(()=>k.getContrastText(z))),de(k.SpeedDialAction,"fabHoverBg",Rg(k.background.paper,.15)),de(k.StepConnector,"border",$("palette-grey-600")),de(k.StepContent,"border",$("palette-grey-600")),de(k.Switch,"defaultColor",$("palette-grey-300")),de(k.Switch,"defaultDisabledColor",$("palette-grey-600")),de(k.Switch,"primaryDisabledColor",rn(k.primary.main,.55)),de(k.Switch,"secondaryDisabledColor",rn(k.secondary.main,.55)),de(k.Switch,"errorDisabledColor",rn(k.error.main,.55)),de(k.Switch,"infoDisabledColor",rn(k.info.main,.55)),de(k.Switch,"successDisabledColor",rn(k.success.main,.55)),de(k.Switch,"warningDisabledColor",rn(k.warning.main,.55)),de(k.TableCell,"border",rn(kg(k.divider,1),.68)),de(k.Tooltip,"bg",kg(k.grey[700],.92))}Fo(k.background,"default"),Fo(k.background,"paper"),Fo(k.common,"background"),Fo(k.common,"onBackground"),Fo(k,"divider"),Object.keys(k).forEach(z=>{const j=k[z];z!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&de(k[z],"mainChannel",pf(mf(j.main))),j.light&&de(k[z],"lightChannel",pf(mf(j.light))),j.dark&&de(k[z],"darkChannel",pf(mf(j.dark))),j.contrastText&&de(k[z],"contrastTextChannel",pf(mf(j.contrastText))),z==="text"&&(Fo(k[z],"primary"),Fo(k[z],"secondary")),z==="action"&&(j.active&&Fo(k[z],"active"),j.selected&&Fo(k[z],"selected")))})}),C=e.reduce((N,k)=>xr(N,k),C);const _={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Yj(C)},{vars:L,generateThemeVars:D,generateStyleSheets:P}=dj(C,_);return C.vars=L,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([N,k])=>{C[N]=k}),C.generateThemeVars=D,C.generateStyleSheets=P,C.generateSpacing=function(){return uO(u.spacing,ib(this))},C.getColorSchemeSelector=hj(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=o,C.unstable_sxConfig={...tm,...u==null?void 0:u.unstable_sxConfig},C.unstable_sx=function(k){return rl({sx:k,theme:this})},C.toRuntimeSource=FO,C}function zI(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:JA({...n===!0?{}:n.palette,mode:e})})}function pb(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",c=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return pS(t,...e);let h=n;"palette"in t||u[a]&&(u[a]!==!0?h=u[a].palette:a==="dark"&&(h={mode:"dark"}));const f=pS({...t,palette:h},...e);return f.defaultColorScheme=a,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},zI(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},zI(f,"light",u.light)),f}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),Zj({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}function YI(t){return String(parseFloat(t)).length===String(t).length}function Jj(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Rl(t){return parseFloat(t)}function eV(t){return(e,n)=>{const r=Jj(e);if(r===n)return e;let i=Rl(e);r!=="px"&&(r==="em"||r==="rem")&&(i=Rl(e)*Rl(t));let s=i;if(n!=="px")if(n==="em")s=i/Rl(t);else if(n==="rem")s=i/Rl(t);else return e;return parseFloat(s.toFixed(5))+n}}function tV({size:t,grid:e}){const n=t-t%e,r=n+e;return t-n<r-t?n:r}function nV({lineHeight:t,pixels:e,htmlFontSize:n}){return e/(t*n)}function rV({cssProperty:t,min:e,max:n,unit:r="rem",breakpoints:i=[600,900,1200],transform:s=null}){const o={[t]:`${e}${r}`},a=(n-e)/i[i.length-1];return i.forEach(c=>{let u=e+a*c;s!==null&&(u=s(u)),o[`@media (min-width:${c}px)`]={[t]:`${Math.round(u*1e4)/1e4}${r}`}}),o}function iV(t,e={}){const{breakpoints:n=["sm","md","lg"],disableAlign:r=!1,factor:i=2,variants:s=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=e,o={...t};o.typography={...o.typography};const a=o.typography,c=eV(a.htmlFontSize),u=n.map(h=>o.breakpoints.values[h]);return s.forEach(h=>{const f=a[h];if(!f)return;const p=parseFloat(c(f.fontSize,"rem"));if(p<=1)return;const g=p,v=1+(g-1)/i;let{lineHeight:y}=f;if(!YI(y)&&!r)throw new Error(Ao(6));YI(y)||(y=parseFloat(c(y,"rem"))/parseFloat(p));let E=null;r||(E=S=>tV({size:S,grid:nV({pixels:4,lineHeight:y,htmlFontSize:a.htmlFontSize})})),a[h]={...f,...rV({cssProperty:"fontSize",min:v,max:g,unit:"rem",breakpoints:u,transform:E})}}),o}const ew=pb();function Zr(){const t=ub(ew);return t[ks]||t}function jO(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ii=t=>jO(t)&&t!=="classes",Ee=mO({themeId:ks,defaultTheme:ew,rootShouldForwardProp:Ii});function qI({theme:t,...e}){const n=ks in t?t[ks]:void 0;return b.jsx(DO,{...e,themeId:n?ks:void 0,theme:n||t})}const Ig={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:sV}=aj({themeId:ks,theme:()=>pb({cssVariables:!0}),colorSchemeStorageKey:Ig.colorSchemeStorageKey,modeStorageKey:Ig.modeStorageKey,defaultColorScheme:{light:Ig.defaultLightColorScheme,dark:Ig.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:NO(t.palette,t.typography)};return e.unstable_sx=function(r){return rl({sx:r,theme:this})},e}}),oV=sV;function tw({theme:t,...e}){return typeof t=="function"?b.jsx(qI,{theme:t,...e}):"colorSchemes"in(ks in t?t[ks]:t)?b.jsx(oV,{theme:t,...e}):b.jsx(qI,{theme:t,...e})}function aV(t){return b.jsx(S7,{...t,defaultTheme:ew,themeId:ks})}function nw(t){return function(n){return b.jsx(aV,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function lV(){return db}const pt=tj;function Je(t){return ej(t)}function cV(t){return Qe("MuiSvgIcon",t)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uV=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ye(e)}`,`fontSize${ye(n)}`]};return Ze(i,cV,r)},dV=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ye(n.color)}`],e[`fontSize${ye(n.fontSize)}`]]}})(pt(({theme:t})=>{var e,n,r,i,s,o,a,c,u,h,f,p,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:c.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var E,S;return{props:{color:y},style:{color:(S=(E=(t.vars??t).palette)==null?void 0:E[y])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(p=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:p.active}},{props:{color:"disabled"},style:{color:(v=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),gS=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:p="0 0 24 24",...g}=r,v=I.isValidElement(i)&&i.type==="svg",y={...r,color:o,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:v},E={};h||(E.viewBox=p);const S=uV(y);return b.jsxs(dV,{as:a,className:Ce(S.root,s),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...E,...g,...v&&i.props,ownerState:y,children:[v?i.props.children:i,f?b.jsx("title",{children:f}):null]})});gS.muiName="SvgIcon";function gn(t,e){function n(r,i){return b.jsx(gS,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=gS.muiName,I.memo(I.forwardRef(n))}function VO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vS(t,e)}function WO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vS(t,e)}var HO=WM();const Lg=VM(HO),XI={disabled:!1},ry=br.createContext(null);var hV=function(e){return e.scrollTop},gf="unmounted",Ul="exited",jl="entering",ku="entered",yS="exiting",rs=function(t){WO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?a?(c=Ul,s.appearStatus=jl):c=ku:r.unmountOnExit||r.mountOnEnter?c=gf:c=Ul,s.state={status:c},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===gf?{status:Ul}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==jl&&o!==ku&&(s=jl):(o===jl||o===ku)&&(s=yS)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===jl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Lg.findDOMNode(this);o&&hV(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ul&&this.setState({status:gf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[Lg.findDOMNode(this),a],u=c[0],h=c[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||XI.disabled){this.safeSetState({status:ku},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:jl},function(){s.props.onEntering(u,h),s.onTransitionEnd(p,function(){s.safeSetState({status:ku},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Lg.findDOMNode(this);if(!s||XI.disabled){this.safeSetState({status:Ul},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:yS},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ul},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Lg.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=VO(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return br.createElement(ry.Provider,{value:null},typeof o=="function"?o(i,a):br.cloneElement(br.Children.only(o),a))},e}(br.Component);rs.contextType=ry;rs.propTypes={};function bu(){}rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bu,onEntering:bu,onEntered:bu,onExit:bu,onExiting:bu,onExited:bu};rs.UNMOUNTED=gf;rs.EXITED=Ul;rs.ENTERING=jl;rs.ENTERED=ku;rs.EXITING=yS;function fV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rw(t,e){var n=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function pV(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var u=r[c][o];a[r[c][o]]=n(u)}a[c]=n(c)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function fc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function mV(t,e){return rw(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fc(n,"appear",t),enter:fc(n,"enter",t),exit:fc(n,"exit",t)})})}function gV(t,e,n){var r=rw(t.children),i=pV(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in e,c=s in r,u=e[s],h=I.isValidElement(u)&&!u.props.in;c&&(!a||h)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fc(o,"exit",t),enter:fc(o,"enter",t)}):!c&&a&&!h?i[s]=I.cloneElement(o,{in:!1}):c&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:fc(o,"exit",t),enter:fc(o,"enter",t)}))}}),i}var vV=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},yV={component:"div",childFactory:function(e){return e}},iw=function(t){WO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(fV(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,c=s.firstRender;return{children:c?mV(i,a):gV(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=rw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var c=ey({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=VO(i,["component","childFactory"]),c=this.state.contextValue,u=vV(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?br.createElement(ry.Provider,{value:c},u):br.createElement(ry.Provider,{value:c},br.createElement(s,a,u))},e}(br.Component);iw.propTypes={};iw.defaultProps=yV;const sw=t=>t.scrollTop;function sl(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function bV(t){return Qe("MuiCollapse",t)}st("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const EV=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Ze(r,bV,n)},xV=Ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(pt(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),SV=Ee("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),TV=Ee("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),bS=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:c,easing:u,in:h,onEnter:f,onEntered:p,onEntering:g,onExit:v,onExited:y,onExiting:E,orientation:S="vertical",style:w,timeout:T=$O.standard,TransitionComponent:C=rs,..._}=r,L={...r,orientation:S,collapsedSize:a},D=EV(L),P=Zr(),N=hc(),k=I.useRef(null),$=I.useRef(),z=typeof a=="number"?`${a}px`:a,j=S==="horizontal",q=j?"width":"height",G=I.useRef(null),H=mn(n,G),Q=he=>Te=>{if(he){const _e=G.current;Te===void 0?he(_e):he(_e,Te)}},W=()=>k.current?k.current[j?"clientWidth":"clientHeight"]:0,V=Q((he,Te)=>{k.current&&j&&(k.current.style.position="absolute"),he.style[q]=z,f&&f(he,Te)}),K=Q((he,Te)=>{const _e=W();k.current&&j&&(k.current.style.position="");const{duration:Ie,easing:Pe}=sl({style:w,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const et=P.transitions.getAutoHeightDuration(_e);he.style.transitionDuration=`${et}ms`,$.current=et}else he.style.transitionDuration=typeof Ie=="string"?Ie:`${Ie}ms`;he.style[q]=`${_e}px`,he.style.transitionTimingFunction=Pe,g&&g(he,Te)}),B=Q((he,Te)=>{he.style[q]="auto",p&&p(he,Te)}),Z=Q(he=>{he.style[q]=`${W()}px`,v&&v(he)}),ue=Q(y),fe=Q(he=>{const Te=W(),{duration:_e,easing:Ie}=sl({style:w,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const Pe=P.transitions.getAutoHeightDuration(Te);he.style.transitionDuration=`${Pe}ms`,$.current=Pe}else he.style.transitionDuration=typeof _e=="string"?_e:`${_e}ms`;he.style[q]=z,he.style.transitionTimingFunction=Ie,E&&E(he)}),me=he=>{T==="auto"&&N.start($.current||0,he),i&&i(G.current,he)};return b.jsx(C,{in:h,onEnter:V,onEntered:B,onEntering:K,onExit:Z,onExited:ue,onExiting:fe,addEndListener:me,nodeRef:G,timeout:T==="auto"?null:T,..._,children:(he,{ownerState:Te,..._e})=>b.jsx(xV,{as:c,className:Ce(D.root,o,{entered:D.entered,exited:!h&&z==="0px"&&D.hidden}[he]),style:{[j?"minWidth":"minHeight"]:z,...w},ref:H,ownerState:{...L,state:he},..._e,children:b.jsx(SV,{ownerState:{...L,state:he},className:D.wrapper,ref:k,children:b.jsx(TV,{ownerState:{...L,state:he},className:D.wrapperInner,children:s})})})})});bS&&(bS.muiSupportAuto=!0);function AV(t){return Qe("MuiPaper",t)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const wV=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(s,AV,i)},_V=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(pt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),lr=I.forwardRef(function(e,n){var g;const r=Je({props:e,name:"MuiPaper"}),i=Zr(),{className:s,component:o="div",elevation:a=1,square:c=!1,variant:u="elevation",...h}=r,f={...r,component:o,elevation:a,square:c,variant:u},p=wV(f);return b.jsx(_V,{as:o,ownerState:f,className:Ce(p.root,s),ref:n,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(g=i.vars.overlays)==null?void 0:g[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Dt("#fff",mS(a))}, ${Dt("#fff",mS(a))})`}},...h.style}})});function kn(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...c}=e,{component:u,slots:h={[t]:void 0},slotProps:f={[t]:void 0},...p}=s,g=h[t]||r,v=kO(f[t],i),{props:{component:y,...E},internalRef:S}=CO({className:n,...c,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:v}),w=mn(S,v==null?void 0:v.ref,e.ref),T=t==="root"?y||u:y,C=wO(g,{...t==="root"&&!u&&!h[t]&&o,...t!=="root"&&!h[t]&&o,...E,...T&&!a&&{as:T},...T&&a&&{component:T},ref:w},i);return[g,C]}class iy{constructor(){Fh(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new iy}static use(){const e=SO(iy.create).current,[n,r]=I.useState(!1);return e.shouldMount=n,e.setShouldMount=r,I.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=kV(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function CV(){return iy.use()}function kV(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function RV(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:c,timeout:u}=t,[h,f]=I.useState(!1),p=Ce(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=Ce(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&f(!0),I.useEffect(()=>{if(!a&&c!=null){const y=setTimeout(c,u);return()=>{clearTimeout(y)}}},[c,a,u]),b.jsx("span",{className:p,style:g,children:b.jsx("span",{className:v})})}const zi=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ES=550,IV=80,LV=Jp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,DV=Jp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,PV=Jp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,MV=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),OV=Ee(RV,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${LV};
    animation-duration: ${ES}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${zi.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${zi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zi.childLeaving} {
    opacity: 0;
    animation-name: ${DV};
    animation-duration: ${ES}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${zi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${PV};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,NV=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[c,u]=I.useState([]),h=I.useRef(0),f=I.useRef(null);I.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const p=I.useRef(!1),g=hc(),v=I.useRef(null),y=I.useRef(null),E=I.useCallback(C=>{const{pulsate:_,rippleX:L,rippleY:D,rippleSize:P,cb:N}=C;u(k=>[...k,b.jsx(OV,{classes:{ripple:Ce(s.ripple,zi.ripple),rippleVisible:Ce(s.rippleVisible,zi.rippleVisible),ripplePulsate:Ce(s.ripplePulsate,zi.ripplePulsate),child:Ce(s.child,zi.child),childLeaving:Ce(s.childLeaving,zi.childLeaving),childPulsate:Ce(s.childPulsate,zi.childPulsate)},timeout:ES,pulsate:_,rippleX:L,rippleY:D,rippleSize:P},h.current)]),h.current+=1,f.current=N},[s]),S=I.useCallback((C={},_={},L=()=>{})=>{const{pulsate:D=!1,center:P=i||_.pulsate,fakeElement:N=!1}=_;if((C==null?void 0:C.type)==="mousedown"&&p.current){p.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(p.current=!0);const k=N?null:y.current,$=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,j,q;if(P||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)z=Math.round($.width/2),j=Math.round($.height/2);else{const{clientX:G,clientY:H}=C.touches&&C.touches.length>0?C.touches[0]:C;z=Math.round(G-$.left),j=Math.round(H-$.top)}if(P)q=Math.sqrt((2*$.width**2+$.height**2)/3),q%2===0&&(q+=1);else{const G=Math.max(Math.abs((k?k.clientWidth:0)-z),z)*2+2,H=Math.max(Math.abs((k?k.clientHeight:0)-j),j)*2+2;q=Math.sqrt(G**2+H**2)}C!=null&&C.touches?v.current===null&&(v.current=()=>{E({pulsate:D,rippleX:z,rippleY:j,rippleSize:q,cb:L})},g.start(IV,()=>{v.current&&(v.current(),v.current=null)})):E({pulsate:D,rippleX:z,rippleY:j,rippleSize:q,cb:L})},[i,E,g]),w=I.useCallback(()=>{S({},{pulsate:!0})},[S]),T=I.useCallback((C,_)=>{if(g.clear(),(C==null?void 0:C.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{T(C,_)});return}v.current=null,u(L=>L.length>0?L.slice(1):L),f.current=_},[g]);return I.useImperativeHandle(n,()=>({pulsate:w,start:S,stop:T}),[w,S,T]),b.jsx(MV,{className:Ce(zi.root,s.root,o),ref:y,...a,children:b.jsx(iw,{component:null,exit:!0,children:c})})});function $V(t){return Qe("MuiButtonBase",t)}const FV=st("MuiButtonBase",["root","disabled","focusVisible"]),BV=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},$V,i);return n&&r&&(o.root+=` ${r}`),o},UV=Ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${FV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ol=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:p=!1,focusVisibleClassName:g,LinkComponent:v="a",onBlur:y,onClick:E,onContextMenu:S,onDragLeave:w,onFocus:T,onFocusVisible:C,onKeyDown:_,onKeyUp:L,onMouseDown:D,onMouseLeave:P,onMouseUp:N,onTouchEnd:k,onTouchMove:$,onTouchStart:z,tabIndex:j=0,TouchRippleProps:q,touchRippleRef:G,type:H,...Q}=r,W=I.useRef(null),V=CV(),K=mn(V.ref,G),[B,Z]=I.useState(!1);u&&B&&Z(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{Z(!0),W.current.focus()}}),[]);const ue=V.shouldMount&&!h&&!u;I.useEffect(()=>{B&&p&&!h&&V.pulsate()},[h,p,B,V]);const fe=Bo(V,"start",D,f),me=Bo(V,"stop",S,f),he=Bo(V,"stop",w,f),Te=Bo(V,"stop",N,f),_e=Bo(V,"stop",Le=>{B&&Le.preventDefault(),P&&P(Le)},f),Ie=Bo(V,"start",z,f),Pe=Bo(V,"stop",k,f),et=Bo(V,"stop",$,f),Be=Bo(V,"stop",Le=>{Td(Le.target)||Z(!1),y&&y(Le)},!1),mt=Xi(Le=>{W.current||(W.current=Le.currentTarget),Td(Le.target)&&(Z(!0),C&&C(Le)),T&&T(Le)}),We=()=>{const Le=W.current;return c&&c!=="button"&&!(Le.tagName==="A"&&Le.href)},gt=Xi(Le=>{p&&!Le.repeat&&B&&Le.key===" "&&V.stop(Le,()=>{V.start(Le)}),Le.target===Le.currentTarget&&We()&&Le.key===" "&&Le.preventDefault(),_&&_(Le),Le.target===Le.currentTarget&&We()&&Le.key==="Enter"&&!u&&(Le.preventDefault(),E&&E(Le))}),$t=Xi(Le=>{p&&Le.key===" "&&B&&!Le.defaultPrevented&&V.stop(Le,()=>{V.pulsate(Le)}),L&&L(Le),E&&Le.target===Le.currentTarget&&We()&&Le.key===" "&&!Le.defaultPrevented&&E(Le)});let Ye=c;Ye==="button"&&(Q.href||Q.to)&&(Ye=v);const ht={};Ye==="button"?(ht.type=H===void 0?"button":H,ht.disabled=u):(!Q.href&&!Q.to&&(ht.role="button"),u&&(ht["aria-disabled"]=u));const Ft=mn(n,W),yt={...r,centerRipple:s,component:c,disabled:u,disableRipple:h,disableTouchRipple:f,focusRipple:p,tabIndex:j,focusVisible:B},Oe=BV(yt);return b.jsxs(UV,{as:Ye,className:Ce(Oe.root,a),ownerState:yt,onBlur:Be,onClick:E,onContextMenu:me,onFocus:mt,onKeyDown:gt,onKeyUp:$t,onMouseDown:fe,onMouseLeave:_e,onMouseUp:Te,onDragLeave:he,onTouchEnd:Pe,onTouchMove:et,onTouchStart:Ie,ref:Ft,tabIndex:u?-1:j,type:H,...ht,...Q,children:[o,ue?b.jsx(NV,{ref:K,center:s,...q}):null]})});function Bo(t,e,n,r=!1){return Xi(i=>(n&&n(i),r||t[e](i),!0))}function jV(t){return typeof t.main=="string"}function VV(t,e=[]){if(!jV(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Wr(t=[]){return([,e])=>e&&VV(e,t)}function WV(t){return Qe("MuiCircularProgress",t)}st("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Pa=44,xS=Jp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,SS=Jp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,HV=typeof xS!="string"?VA`
        animation: ${xS} 1.4s linear infinite;
      `:null,GV=typeof SS!="string"?VA`
        animation: ${SS} 1.4s ease-in-out infinite;
      `:null,KV=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${ye(r)}`],svg:["svg"],circle:["circle",`circle${ye(n)}`,i&&"circleDisableShrink"]};return Ze(s,WV,e)},zV=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ye(n.color)}`]]}})(pt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:HV||{animation:`${xS} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Wr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),YV=Ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),qV=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ye(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(pt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:GV||{animation:`${SS} 1.4s ease-in-out infinite`}}]}))),ow=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:c,thickness:u=3.6,value:h=0,variant:f="indeterminate",...p}=r,g={...r,color:s,disableShrink:o,size:a,thickness:u,value:h,variant:f},v=KV(g),y={},E={},S={};if(f==="determinate"){const w=2*Math.PI*((Pa-u)/2);y.strokeDasharray=w.toFixed(3),S["aria-valuenow"]=Math.round(h),y.strokeDashoffset=`${((100-h)/100*w).toFixed(3)}px`,E.transform="rotate(-90deg)"}return b.jsx(zV,{className:Ce(v.root,i),style:{width:a,height:a,...E,...c},ownerState:g,ref:n,role:"progressbar",...S,...p,children:b.jsx(YV,{className:v.svg,ownerState:g,viewBox:`${Pa/2} ${Pa/2} ${Pa} ${Pa}`,children:b.jsx(qV,{className:v.circle,style:y,ownerState:g,cx:Pa,cy:Pa,r:(Pa-u)/2,fill:"none",strokeWidth:u})})})});function XV(t){return Qe("MuiIconButton",t)}const QI=st("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),QV=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:o}=t,a={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${ye(r)}`,i&&`edge${ye(i)}`,`size${ye(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ze(a,XV,e)},ZV=Ee(ol,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${ye(n.color)}`],n.edge&&e[`edge${ye(n.edge)}`],e[`size${ye(n.size)}`]]}})(pt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),pt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Wr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Wr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${QI.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${QI.loading}`]:{color:"transparent"}}))),JV=Ee("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),At=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:f,loading:p=null,loadingIndicator:g,...v}=r,y=Vd(f),E=g??b.jsx(ow,{"aria-labelledby":y,color:"inherit",size:16}),S={...r,edge:i,color:a,disabled:c,disableFocusRipple:u,loading:p,loadingIndicator:E,size:h},w=QV(S);return b.jsxs(ZV,{id:p?y:f,className:Ce(w.root,o),centerRipple:!0,focusRipple:!u,disabled:c||p,ref:n,...v,ownerState:S,children:[typeof p=="boolean"&&b.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:b.jsx(JV,{className:w.loadingIndicator,ownerState:S,children:p&&E})}),s]})});function eW(t){return Qe("MuiTypography",t)}const ZI=st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),tW={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},nW=lV(),rW=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${ye(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ze(a,eW,o)},iW=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ye(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(pt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Wr()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${ye(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),JI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ce=I.forwardRef(function(e,n){const{color:r,...i}=Je({props:e,name:"MuiTypography"}),s=!tW[r],o=nW({...i,...s&&{color:r}}),{align:a="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:f=!1,paragraph:p=!1,variant:g="body1",variantMapping:v=JI,...y}=o,E={...o,align:a,color:r,className:c,component:u,gutterBottom:h,noWrap:f,paragraph:p,variant:g,variantMapping:v},S=u||(p?"p":v[g]||JI[g])||"span",w=rW(E);return b.jsx(iW,{as:S,ref:n,className:Ce(w.root,c),...y,ownerState:E,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});function sW(t){return Qe("MuiAppBar",t)}st("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const oW=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${ye(e)}`,`position${ye(n)}`]};return Ze(i,sW,r)},e2=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,aW=Ee(lr,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ye(n.position)}`],e[`color${ye(n.color)}`]]}})(pt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Wr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?e2(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?e2(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),lW=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed",...c}=r,u={...r,color:s,position:a,enableColorOnDark:o},h=oW(u);return b.jsx(aW,{square:!0,component:"header",ownerState:u,elevation:4,className:Ce(h.root,i,a==="fixed"&&"mui-fixed"),ref:n,...c})});var di="top",Ji="bottom",es="right",hi="left",aw="auto",sm=[di,Ji,es,hi],Ad="start",gp="end",cW="clippingParents",GO="viewport",Vh="popper",uW="reference",t2=sm.reduce(function(t,e){return t.concat([e+"-"+Ad,e+"-"+gp])},[]),KO=[].concat(sm,[aw]).reduce(function(t,e){return t.concat([e,e+"-"+Ad,e+"-"+gp])},[]),dW="beforeRead",hW="read",fW="afterRead",pW="beforeMain",mW="main",gW="afterMain",vW="beforeWrite",yW="write",bW="afterWrite",EW=[dW,hW,fW,pW,mW,gW,vW,yW,bW];function wo(t){return t?(t.nodeName||"").toLowerCase():null}function ki(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $c(t){var e=ki(t).Element;return t instanceof e||t instanceof Element}function Qi(t){var e=ki(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lw(t){if(typeof ShadowRoot>"u")return!1;var e=ki(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function xW(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Qi(s)||!wo(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function SW(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(c,u){return c[u]="",c},{});!Qi(i)||!wo(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const TW={name:"applyStyles",enabled:!0,phase:"write",fn:xW,effect:SW,requires:["computeStyles"]};function vo(t){return t.split("-")[0]}var wc=Math.max,sy=Math.min,wd=Math.round;function TS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zO(){return!/^((?!chrome|android).)*safari/i.test(TS())}function _d(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Qi(t)&&(i=t.offsetWidth>0&&wd(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&wd(r.height)/t.offsetHeight||1);var o=$c(t)?ki(t):window,a=o.visualViewport,c=!zO()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/i,h=(r.top+(c&&a?a.offsetTop:0))/s,f=r.width/i,p=r.height/s;return{width:f,height:p,top:h,right:u+f,bottom:h+p,left:u,x:u,y:h}}function cw(t){var e=_d(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function YO(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sa(t){return ki(t).getComputedStyle(t)}function AW(t){return["table","td","th"].indexOf(wo(t))>=0}function fl(t){return(($c(t)?t.ownerDocument:t.document)||window.document).documentElement}function mb(t){return wo(t)==="html"?t:t.assignedSlot||t.parentNode||(lw(t)?t.host:null)||fl(t)}function n2(t){return!Qi(t)||sa(t).position==="fixed"?null:t.offsetParent}function wW(t){var e=/firefox/i.test(TS()),n=/Trident/i.test(TS());if(n&&Qi(t)){var r=sa(t);if(r.position==="fixed")return null}var i=mb(t);for(lw(i)&&(i=i.host);Qi(i)&&["html","body"].indexOf(wo(i))<0;){var s=sa(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function om(t){for(var e=ki(t),n=n2(t);n&&AW(n)&&sa(n).position==="static";)n=n2(n);return n&&(wo(n)==="html"||wo(n)==="body"&&sa(n).position==="static")?e:n||wW(t)||e}function uw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Gf(t,e,n){return wc(t,sy(e,n))}function _W(t,e,n){var r=Gf(t,e,n);return r>n?n:r}function qO(){return{top:0,right:0,bottom:0,left:0}}function XO(t){return Object.assign({},qO(),t)}function QO(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var CW=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,XO(typeof e!="number"?e:QO(e,sm))};function kW(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=vo(n.placement),c=uw(a),u=[hi,es].indexOf(a)>=0,h=u?"height":"width";if(!(!s||!o)){var f=CW(i.padding,n),p=cw(s),g=c==="y"?di:hi,v=c==="y"?Ji:es,y=n.rects.reference[h]+n.rects.reference[c]-o[c]-n.rects.popper[h],E=o[c]-n.rects.reference[c],S=om(s),w=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,T=y/2-E/2,C=f[g],_=w-p[h]-f[v],L=w/2-p[h]/2+T,D=Gf(C,L,_),P=c;n.modifiersData[r]=(e={},e[P]=D,e.centerOffset=D-L,e)}}function RW(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||YO(e.elements.popper,i)&&(e.elements.arrow=i))}const IW={name:"arrow",enabled:!0,phase:"main",fn:kW,effect:RW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cd(t){return t.split("-")[1]}var LW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DW(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:wd(n*i)/i||0,y:wd(r*i)/i||0}}function r2(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,h=t.roundOffsets,f=t.isFixed,p=o.x,g=p===void 0?0:p,v=o.y,y=v===void 0?0:v,E=typeof h=="function"?h({x:g,y}):{x:g,y};g=E.x,y=E.y;var S=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),T=hi,C=di,_=window;if(u){var L=om(n),D="clientHeight",P="clientWidth";if(L===ki(n)&&(L=fl(n),sa(L).position!=="static"&&a==="absolute"&&(D="scrollHeight",P="scrollWidth")),L=L,i===di||(i===hi||i===es)&&s===gp){C=Ji;var N=f&&L===_&&_.visualViewport?_.visualViewport.height:L[D];y-=N-r.height,y*=c?1:-1}if(i===hi||(i===di||i===Ji)&&s===gp){T=es;var k=f&&L===_&&_.visualViewport?_.visualViewport.width:L[P];g-=k-r.width,g*=c?1:-1}}var $=Object.assign({position:a},u&&LW),z=h===!0?DW({x:g,y},ki(n)):{x:g,y};if(g=z.x,y=z.y,c){var j;return Object.assign({},$,(j={},j[C]=w?"0":"",j[T]=S?"0":"",j.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",j))}return Object.assign({},$,(e={},e[C]=w?y+"px":"",e[T]=S?g+"px":"",e.transform="",e))}function PW(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:vo(e.placement),variation:Cd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,r2(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,r2(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const MW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PW,data:{}};var Dg={passive:!0};function OW(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,c=ki(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",n.update,Dg)}),a&&c.addEventListener("resize",n.update,Dg),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",n.update,Dg)}),a&&c.removeEventListener("resize",n.update,Dg)}}const NW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OW,data:{}};var $W={left:"right",right:"left",bottom:"top",top:"bottom"};function R0(t){return t.replace(/left|right|bottom|top/g,function(e){return $W[e]})}var FW={start:"end",end:"start"};function i2(t){return t.replace(/start|end/g,function(e){return FW[e]})}function dw(t){var e=ki(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hw(t){return _d(fl(t)).left+dw(t).scrollLeft}function BW(t,e){var n=ki(t),r=fl(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var u=zO();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+hw(t),y:c}}function UW(t){var e,n=fl(t),r=dw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=wc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=wc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hw(t),c=-r.scrollTop;return sa(i||n).direction==="rtl"&&(a+=wc(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function fw(t){var e=sa(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ZO(t){return["html","body","#document"].indexOf(wo(t))>=0?t.ownerDocument.body:Qi(t)&&fw(t)?t:ZO(mb(t))}function Kf(t,e){var n;e===void 0&&(e=[]);var r=ZO(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=ki(r),o=i?[s].concat(s.visualViewport||[],fw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Kf(mb(o)))}function AS(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jW(t,e){var n=_d(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function s2(t,e,n){return e===GO?AS(BW(t,n)):$c(e)?jW(e,n):AS(UW(fl(t)))}function VW(t){var e=Kf(mb(t)),n=["absolute","fixed"].indexOf(sa(t).position)>=0,r=n&&Qi(t)?om(t):t;return $c(r)?e.filter(function(i){return $c(i)&&YO(i,r)&&wo(i)!=="body"}):[]}function WW(t,e,n,r){var i=e==="clippingParents"?VW(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(c,u){var h=s2(t,u,r);return c.top=wc(h.top,c.top),c.right=sy(h.right,c.right),c.bottom=sy(h.bottom,c.bottom),c.left=wc(h.left,c.left),c},s2(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function JO(t){var e=t.reference,n=t.element,r=t.placement,i=r?vo(r):null,s=r?Cd(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case di:c={x:o,y:e.y-n.height};break;case Ji:c={x:o,y:e.y+e.height};break;case es:c={x:e.x+e.width,y:a};break;case hi:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var u=i?uw(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case Ad:c[u]=c[u]-(e[h]/2-n[h]/2);break;case gp:c[u]=c[u]+(e[h]/2-n[h]/2);break}}return c}function vp(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,c=a===void 0?cW:a,u=n.rootBoundary,h=u===void 0?GO:u,f=n.elementContext,p=f===void 0?Vh:f,g=n.altBoundary,v=g===void 0?!1:g,y=n.padding,E=y===void 0?0:y,S=XO(typeof E!="number"?E:QO(E,sm)),w=p===Vh?uW:Vh,T=t.rects.popper,C=t.elements[v?w:p],_=WW($c(C)?C:C.contextElement||fl(t.elements.popper),c,h,o),L=_d(t.elements.reference),D=JO({reference:L,element:T,placement:i}),P=AS(Object.assign({},T,D)),N=p===Vh?P:L,k={top:_.top-N.top+S.top,bottom:N.bottom-_.bottom+S.bottom,left:_.left-N.left+S.left,right:N.right-_.right+S.right},$=t.modifiersData.offset;if(p===Vh&&$){var z=$[i];Object.keys(k).forEach(function(j){var q=[es,Ji].indexOf(j)>=0?1:-1,G=[di,Ji].indexOf(j)>=0?"y":"x";k[j]+=z[G]*q})}return k}function HW(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?KO:c,h=Cd(r),f=h?a?t2:t2.filter(function(v){return Cd(v)===h}):sm,p=f.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=f);var g=p.reduce(function(v,y){return v[y]=vp(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[vo(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function GW(t){if(vo(t)===aw)return[];var e=R0(t);return[i2(t),e,i2(e)]}function KW(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,y=n.allowedAutoPlacements,E=e.options.placement,S=vo(E),w=S===E,T=c||(w||!v?[R0(E)]:GW(E)),C=[E].concat(T).reduce(function(fe,me){return fe.concat(vo(me)===aw?HW(e,{placement:me,boundary:h,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:y}):me)},[]),_=e.rects.reference,L=e.rects.popper,D=new Map,P=!0,N=C[0],k=0;k<C.length;k++){var $=C[k],z=vo($),j=Cd($)===Ad,q=[di,Ji].indexOf(z)>=0,G=q?"width":"height",H=vp(e,{placement:$,boundary:h,rootBoundary:f,altBoundary:p,padding:u}),Q=q?j?es:hi:j?Ji:di;_[G]>L[G]&&(Q=R0(Q));var W=R0(Q),V=[];if(s&&V.push(H[z]<=0),a&&V.push(H[Q]<=0,H[W]<=0),V.every(function(fe){return fe})){N=$,P=!1;break}D.set($,V)}if(P)for(var K=v?3:1,B=function(me){var he=C.find(function(Te){var _e=D.get(Te);if(_e)return _e.slice(0,me).every(function(Ie){return Ie})});if(he)return N=he,"break"},Z=K;Z>0;Z--){var ue=B(Z);if(ue==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const zW={name:"flip",enabled:!0,phase:"main",fn:KW,requiresIfExists:["offset"],data:{_skip:!1}};function o2(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function a2(t){return[di,es,Ji,hi].some(function(e){return t[e]>=0})}function YW(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=vp(e,{elementContext:"reference"}),a=vp(e,{altBoundary:!0}),c=o2(o,r),u=o2(a,i,s),h=a2(c),f=a2(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const qW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YW};function XW(t,e,n){var r=vo(t),i=[hi,di].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[hi,es].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function QW(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=KO.reduce(function(h,f){return h[f]=XW(f,e.rects,s),h},{}),a=o[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const ZW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QW};function JW(t){var e=t.state,n=t.name;e.modifiersData[n]=JO({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const eH={name:"popperOffsets",enabled:!0,phase:"read",fn:JW,data:{}};function tH(t){return t==="x"?"y":"x"}function nH(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,v=n.tetherOffset,y=v===void 0?0:v,E=vp(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),S=vo(e.placement),w=Cd(e.placement),T=!w,C=uw(S),_=tH(C),L=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,N=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,k=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(L){if(s){var j,q=C==="y"?di:hi,G=C==="y"?Ji:es,H=C==="y"?"height":"width",Q=L[C],W=Q+E[q],V=Q-E[G],K=g?-P[H]/2:0,B=w===Ad?D[H]:P[H],Z=w===Ad?-P[H]:-D[H],ue=e.elements.arrow,fe=g&&ue?cw(ue):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qO(),he=me[q],Te=me[G],_e=Gf(0,D[H],fe[H]),Ie=T?D[H]/2-K-_e-he-k.mainAxis:B-_e-he-k.mainAxis,Pe=T?-D[H]/2+K+_e+Te+k.mainAxis:Z+_e+Te+k.mainAxis,et=e.elements.arrow&&om(e.elements.arrow),Be=et?C==="y"?et.clientTop||0:et.clientLeft||0:0,mt=(j=$==null?void 0:$[C])!=null?j:0,We=Q+Ie-mt-Be,gt=Q+Pe-mt,$t=Gf(g?sy(W,We):W,Q,g?wc(V,gt):V);L[C]=$t,z[C]=$t-Q}if(a){var Ye,ht=C==="x"?di:hi,Ft=C==="x"?Ji:es,yt=L[_],Oe=_==="y"?"height":"width",Le=yt+E[ht],Tn=yt-E[Ft],Ht=[di,hi].indexOf(S)!==-1,Fn=(Ye=$==null?void 0:$[_])!=null?Ye:0,Wn=Ht?Le:yt-D[Oe]-P[Oe]-Fn+k.altAxis,Ct=Ht?yt+D[Oe]+P[Oe]-Fn-k.altAxis:Tn,kt=g&&Ht?_W(Wn,yt,Ct):Gf(g?Wn:Le,yt,g?Ct:Tn);L[_]=kt,z[_]=kt-yt}e.modifiersData[r]=z}}const rH={name:"preventOverflow",enabled:!0,phase:"main",fn:nH,requiresIfExists:["offset"]};function iH(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sH(t){return t===ki(t)||!Qi(t)?dw(t):iH(t)}function oH(t){var e=t.getBoundingClientRect(),n=wd(e.width)/t.offsetWidth||1,r=wd(e.height)/t.offsetHeight||1;return n!==1||r!==1}function aH(t,e,n){n===void 0&&(n=!1);var r=Qi(e),i=Qi(e)&&oH(e),s=fl(e),o=_d(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((wo(e)!=="body"||fw(s))&&(a=sH(e)),Qi(e)?(c=_d(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=hw(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function lH(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function cH(t){var e=lH(t);return EW.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function uH(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function dH(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var l2={placement:"bottom",modifiers:[],strategy:"absolute"};function c2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hH(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?l2:i;return function(a,c,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},l2,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],p=!1,g={state:h,setOptions:function(S){var w=typeof S=="function"?S(h.options):S;y(),h.options=Object.assign({},s,h.options,w),h.scrollParents={reference:$c(a)?Kf(a):a.contextElement?Kf(a.contextElement):[],popper:Kf(c)};var T=cH(dH([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(C){return C.enabled}),v(),g.update()},forceUpdate:function(){if(!p){var S=h.elements,w=S.reference,T=S.popper;if(c2(w,T)){h.rects={reference:aH(w,om(T),h.options.strategy==="fixed"),popper:cw(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(k){return h.modifiersData[k.name]=Object.assign({},k.data)});for(var C=0;C<h.orderedModifiers.length;C++){if(h.reset===!0){h.reset=!1,C=-1;continue}var _=h.orderedModifiers[C],L=_.fn,D=_.options,P=D===void 0?{}:D,N=_.name;typeof L=="function"&&(h=L({state:h,options:P,name:N,instance:g})||h)}}}},update:uH(function(){return new Promise(function(E){g.forceUpdate(),E(h)})}),destroy:function(){y(),p=!0}};if(!c2(a,c))return g;g.setOptions(u).then(function(E){!p&&u.onFirstUpdate&&u.onFirstUpdate(E)});function v(){h.orderedModifiers.forEach(function(E){var S=E.name,w=E.options,T=w===void 0?{}:w,C=E.effect;if(typeof C=="function"){var _=C({state:h,name:S,instance:g,options:T}),L=function(){};f.push(_||L)}})}function y(){f.forEach(function(E){return E()}),f=[]}return g}}var fH=[NW,eH,MW,TW,ZW,zW,rH,IW,qW],pH=hH({defaultModifiers:fH});function mH(t){return typeof t=="function"?t():t}const e3=I.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=I.useState(null),c=mn(I.isValidElement(r)?hl(r):null,n);if(mi(()=>{s||a(mH(i)||document.body)},[i,s]),mi(()=>{if(o&&!s)return hS(n,o),()=>{hS(n,null)}},[n,o,s]),s){if(I.isValidElement(r)){const u={ref:c};return I.cloneElement(r,u)}return r}return o&&HO.createPortal(r,o)});function gH(t){return Qe("MuiPopper",t)}st("MuiPopper",["root"]);function vH(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function wS(t){return typeof t=="function"?t():t}function yH(t){return t.nodeType!==void 0}const bH=t=>{const{classes:e}=t;return Ze({root:["root"]},gH,e)},EH={},xH=I.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:p={},slots:g={},TransitionProps:v,ownerState:y,...E}=e,S=I.useRef(null),w=mn(S,n),T=I.useRef(null),C=mn(T,f),_=I.useRef(C);mi(()=>{_.current=C},[C]),I.useImperativeHandle(f,()=>T.current,[]);const L=vH(u,s),[D,P]=I.useState(L),[N,k]=I.useState(wS(r));I.useEffect(()=>{T.current&&T.current.forceUpdate()}),I.useEffect(()=>{r&&k(wS(r))},[r]),mi(()=>{if(!N||!c)return;const G=W=>{P(W.placement)};let H=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{G(W)}}];a!=null&&(H=H.concat(a)),h&&h.modifiers!=null&&(H=H.concat(h.modifiers));const Q=pH(N,S.current,{placement:L,...h,modifiers:H});return _.current(Q),()=>{Q.destroy(),_.current(null)}},[N,o,a,c,h,L]);const $={placement:D};v!==null&&($.TransitionProps=v);const z=bH(e),j=g.root??"div",q=ia({elementType:j,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:z.root});return b.jsx(j,{...q,children:typeof i=="function"?i($):i})}),SH=I.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:u,open:h,placement:f="bottom",popperOptions:p=EH,popperRef:g,style:v,transition:y=!1,slotProps:E={},slots:S={},...w}=e,[T,C]=I.useState(!0),_=()=>{C(!1)},L=()=>{C(!0)};if(!c&&!h&&(!y||T))return null;let D;if(s)D=s;else if(r){const k=wS(r);D=k&&yH(k)?Lr(k).body:Lr(null).body}const P=!h&&c&&(!y||T)?"none":void 0,N=y?{in:h,onEnter:_,onExited:L}:void 0;return b.jsx(e3,{disablePortal:a,container:D,children:b.jsx(xH,{anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:y?!T:h,placement:f,popperOptions:p,popperRef:g,slotProps:E,slots:S,...w,style:{position:"fixed",top:0,left:0,display:P,...v},TransitionProps:N,children:i})})}),TH=Ee(SH,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),t3=I.forwardRef(function(e,n){const r=im(),i=Je({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:g,placement:v,popperOptions:y,popperRef:E,transition:S,slots:w,slotProps:T,...C}=i,_=(w==null?void 0:w.root)??(a==null?void 0:a.Root),L={anchorEl:s,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:g,placement:v,popperOptions:y,popperRef:E,transition:S,...C};return b.jsx(TH,{as:o,direction:r?"rtl":"ltr",slots:{root:_},slotProps:T??c,...L,ref:n})}),AH=gn(b.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function wH(t){return Qe("MuiChip",t)}const wt=st("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_H=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:s,onDelete:o,clickable:a,variant:c}=t,u={root:["root",c,n&&"disabled",`size${ye(r)}`,`color${ye(i)}`,a&&"clickable",a&&`clickableColor${ye(i)}`,o&&"deletable",o&&`deletableColor${ye(i)}`,`${c}${ye(i)}`],label:["label",`label${ye(r)}`],avatar:["avatar",`avatar${ye(r)}`,`avatarColor${ye(i)}`],icon:["icon",`icon${ye(r)}`,`iconColor${ye(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ye(r)}`,`deleteIconColor${ye(i)}`,`deleteIcon${ye(c)}Color${ye(i)}`]};return Ze(u,wH,e)},CH=Ee("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:s,onDelete:o,size:a,variant:c}=n;return[{[`& .${wt.avatar}`]:e.avatar},{[`& .${wt.avatar}`]:e[`avatar${ye(a)}`]},{[`& .${wt.avatar}`]:e[`avatarColor${ye(r)}`]},{[`& .${wt.icon}`]:e.icon},{[`& .${wt.icon}`]:e[`icon${ye(a)}`]},{[`& .${wt.icon}`]:e[`iconColor${ye(i)}`]},{[`& .${wt.deleteIcon}`]:e.deleteIcon},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${ye(a)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIconColor${ye(r)}`]},{[`& .${wt.deleteIcon}`]:e[`deleteIcon${ye(c)}Color${ye(r)}`]},e.root,e[`size${ye(a)}`],e[`color${ye(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${ye(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${ye(r)}`],e[c],e[`${c}${ye(r)}`]]}})(pt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${wt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${wt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${wt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${wt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${wt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${wt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${wt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Dt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Dt(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${wt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${wt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Wr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${wt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Dt(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${wt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${wt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Wr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${wt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Wr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${wt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${wt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${wt.avatar}`]:{marginLeft:4},[`& .${wt.avatarSmall}`]:{marginLeft:2},[`& .${wt.icon}`]:{marginLeft:4},[`& .${wt.iconSmall}`]:{marginLeft:2},[`& .${wt.deleteIcon}`]:{marginRight:5},[`& .${wt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Wr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Dt(t.palette[n].main,.7)}`,[`&.${wt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${wt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Dt(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${wt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Dt(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),kH=Ee("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ye(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function u2(t){return t.key==="Backspace"||t.key==="Delete"}const Wd=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:c,deleteIcon:u,disabled:h=!1,icon:f,label:p,onClick:g,onDelete:v,onKeyDown:y,onKeyUp:E,size:S="medium",variant:w="filled",tabIndex:T,skipFocusWhenDisabled:C=!1,..._}=r,L=I.useRef(null),D=mn(L,n),P=V=>{V.stopPropagation(),v&&v(V)},N=V=>{V.currentTarget===V.target&&u2(V)&&V.preventDefault(),y&&y(V)},k=V=>{V.currentTarget===V.target&&v&&u2(V)&&v(V),E&&E(V)},$=o!==!1&&g?!0:o,z=$||v?ol:c||"div",j={...r,component:z,disabled:h,size:S,color:a,iconColor:I.isValidElement(f)&&f.props.color||a,onDelete:!!v,clickable:$,variant:w},q=_H(j),G=z===ol?{component:c||"div",focusVisibleClassName:q.focusVisible,...v&&{disableRipple:!0}}:{};let H=null;v&&(H=u&&I.isValidElement(u)?I.cloneElement(u,{className:Ce(u.props.className,q.deleteIcon),onClick:P}):b.jsx(AH,{className:Ce(q.deleteIcon),onClick:P}));let Q=null;i&&I.isValidElement(i)&&(Q=I.cloneElement(i,{className:Ce(q.avatar,i.props.className)}));let W=null;return f&&I.isValidElement(f)&&(W=I.cloneElement(f,{className:Ce(q.icon,f.props.className)})),b.jsxs(CH,{as:z,className:Ce(q.root,s),disabled:$&&h?!0:void 0,onClick:g,onKeyDown:N,onKeyUp:k,ref:D,tabIndex:C&&h?-1:T,ownerState:j,...G,..._,children:[Q||W,b.jsx(kH,{className:Ce(q.label),ownerState:j,children:p}),H]})});function Pg(t){return parseInt(t,10)||0}const RH={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function IH(t){for(const e in t)return!1;return!0}function LH(t){return IH(t)||t.outerHeightStyle===0&&!t.overflowing}const DH=I.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...c}=e,{current:u}=I.useRef(a!=null),h=I.useRef(null),f=mn(n,h),p=I.useRef(null),g=I.useRef(null),v=I.useCallback(()=>{const w=h.current,T=g.current;if(!w||!T)return;const _=Ci(w).getComputedStyle(w);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=_.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const L=_.boxSizing,D=Pg(_.paddingBottom)+Pg(_.paddingTop),P=Pg(_.borderBottomWidth)+Pg(_.borderTopWidth),N=T.scrollHeight;T.value="x";const k=T.scrollHeight;let $=N;s&&($=Math.max(Number(s)*k,$)),i&&($=Math.min(Number(i)*k,$)),$=Math.max($,k);const z=$+(L==="border-box"?D+P:0),j=Math.abs($-N)<=1;return{outerHeightStyle:z,overflowing:j}},[i,s,e.placeholder]),y=I.useCallback(()=>{const w=h.current,T=v();if(!w||!T||LH(T))return;const C=T.outerHeightStyle;p.current!==C&&(p.current=C,w.style.height=`${C}px`),w.style.overflow=T.overflowing?"hidden":""},[v]),E=I.useRef(-1);mi(()=>{const w=rm(()=>y()),T=h==null?void 0:h.current;if(!T)return;const C=Ci(T);C.addEventListener("resize",w);let _;return typeof ResizeObserver<"u"&&(_=new ResizeObserver(()=>{_.unobserve(T),cancelAnimationFrame(E.current),y(),E.current=requestAnimationFrame(()=>{_.observe(T)})}),_.observe(T)),()=>{w.clear(),cancelAnimationFrame(E.current),C.removeEventListener("resize",w),_&&_.disconnect()}},[v,y]),mi(()=>{y()});const S=w=>{u||y(),r&&r(w)};return b.jsxs(I.Fragment,{children:[b.jsx("textarea",{value:a,onChange:S,ref:f,rows:s,style:o,...c}),b.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...RH.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function yp(t){return typeof t=="string"}function Hd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const pw=I.createContext(void 0);function Gd(){return I.useContext(pw)}function d2(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function oy(t,e=!1){return t&&(d2(t.value)&&t.value!==""||e&&d2(t.defaultValue)&&t.defaultValue!=="")}function PH(t){return t.startAdornment}function MH(t){return Qe("MuiInputBase",t)}const kd=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var h2;const gb=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ye(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},vb=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},OH=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:f,size:p,startAdornment:g,type:v}=t,y={root:["root",`color${ye(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",a&&"formControl",p&&p!=="medium"&&`size${ye(p)}`,h&&"multiline",g&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",h&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",f&&"readOnly"]};return Ze(y,MH,e)},yb=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gb})(pt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${kd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),bb=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vb})(pt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${kd.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${kd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),f2=nw({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),mw=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:c,components:u={},componentsProps:h={},defaultValue:f,disabled:p,disableInjectingGlobalStyles:g,endAdornment:v,error:y,fullWidth:E=!1,id:S,inputComponent:w="input",inputProps:T={},inputRef:C,margin:_,maxRows:L,minRows:D,multiline:P=!1,name:N,onBlur:k,onChange:$,onClick:z,onFocus:j,onKeyDown:q,onKeyUp:G,placeholder:H,readOnly:Q,renderSuffix:W,rows:V,size:K,slotProps:B={},slots:Z={},startAdornment:ue,type:fe="text",value:me,...he}=r,Te=T.value!=null?T.value:me,{current:_e}=I.useRef(Te!=null),Ie=I.useRef(),Pe=I.useCallback(Re=>{},[]),et=mn(Ie,C,T.ref,Pe),[Be,mt]=I.useState(!1),We=Gd(),gt=Hd({props:r,muiFormControl:We,states:["color","disabled","error","hiddenLabel","size","required","filled"]});gt.focused=We?We.focused:Be,I.useEffect(()=>{!We&&p&&Be&&(mt(!1),k&&k())},[We,p,Be,k]);const $t=We&&We.onFilled,Ye=We&&We.onEmpty,ht=I.useCallback(Re=>{oy(Re)?$t&&$t():Ye&&Ye()},[$t,Ye]);mi(()=>{_e&&ht({value:Te})},[Te,ht,_e]);const Ft=Re=>{j&&j(Re),T.onFocus&&T.onFocus(Re),We&&We.onFocus?We.onFocus(Re):mt(!0)},yt=Re=>{k&&k(Re),T.onBlur&&T.onBlur(Re),We&&We.onBlur?We.onBlur(Re):mt(!1)},Oe=(Re,...qt)=>{if(!_e){const Et=Re.target||Ie.current;if(Et==null)throw new Error(Ao(1));ht({value:Et.value})}T.onChange&&T.onChange(Re,...qt),$&&$(Re,...qt)};I.useEffect(()=>{ht(Ie.current)},[]);const Le=Re=>{Ie.current&&Re.currentTarget===Re.target&&Ie.current.focus(),z&&z(Re)};let Tn=w,Ht=T;P&&Tn==="input"&&(V?Ht={type:void 0,minRows:V,maxRows:V,...Ht}:Ht={type:void 0,maxRows:L,minRows:D,...Ht},Tn=DH);const Fn=Re=>{ht(Re.animationName==="mui-auto-fill-cancel"?Ie.current:{value:"x"})};I.useEffect(()=>{We&&We.setAdornedStart(!!ue)},[We,ue]);const Wn={...r,color:gt.color||"primary",disabled:gt.disabled,endAdornment:v,error:gt.error,focused:gt.focused,formControl:We,fullWidth:E,hiddenLabel:gt.hiddenLabel,multiline:P,size:gt.size,startAdornment:ue,type:fe},Ct=OH(Wn),kt=Z.root||u.Root||yb,Rt=B.root||h.root||{},bt=Z.input||u.Input||bb;return Ht={...Ht,...B.input??h.input},b.jsxs(I.Fragment,{children:[!g&&typeof f2=="function"&&(h2||(h2=b.jsx(f2,{}))),b.jsxs(kt,{...Rt,ref:n,onClick:Le,...he,...!yp(kt)&&{ownerState:{...Wn,...Rt.ownerState}},className:Ce(Ct.root,Rt.className,a,Q&&"MuiInputBase-readOnly"),children:[ue,b.jsx(pw.Provider,{value:null,children:b.jsx(bt,{"aria-invalid":gt.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:f,disabled:gt.disabled,id:S,onAnimationStart:Fn,name:N,placeholder:H,readOnly:Q,required:gt.required,rows:V,value:Te,onKeyDown:q,onKeyUp:G,type:fe,...Ht,...!yp(bt)&&{as:Tn,ownerState:{...Wn,...Ht.ownerState}},ref:et,className:Ce(Ct.input,Ht.className,Q&&"MuiInputBase-readOnly"),onBlur:yt,onChange:Oe,onFocus:Ft})}),v,W?W({...gt,startAdornment:ue}):null]})]})});function NH(t){return Qe("MuiInput",t)}const Wh={...kd,...st("MuiInput",["root","underline","input"])};function $H(t){return Qe("MuiOutlinedInput",t)}const Us={...kd,...st("MuiOutlinedInput",["root","notchedOutline","input"])};function FH(t){return Qe("MuiFilledInput",t)}const Il={...kd,...st("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},BH=gn(b.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),UH=gn(b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function jH(t){return Qe("MuiAvatar",t)}st("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const VH=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Ze({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},jH,e)},WH=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(pt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),HH=Ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),GH=Ee(UH,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function KH({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=I.useState(!1);return I.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const Qr=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:c={},slotProps:u={},imgProps:h,sizes:f,src:p,srcSet:g,variant:v="circular",...y}=r;let E=null;const S={...r,component:a,variant:v},w=KH({...h,...typeof u.img=="function"?u.img(S):u.img,src:p,srcSet:g}),T=p||g,C=T&&w!=="error";S.colorDefault=!C,delete S.ownerState;const _=VH(S),[L,D]=kn("img",{className:_.img,elementType:HH,externalForwardedProps:{slots:c,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:i,src:p,srcSet:g,sizes:f},ownerState:S});return C?E=b.jsx(L,{...D}):s||s===0?E=s:T&&i?E=i[0]:E=b.jsx(GH,{ownerState:S,className:_.fallback}),b.jsx(WH,{as:a,className:Ce(_.root,o),ref:n,...y,ownerState:S,children:E})}),zH={entering:{opacity:1},entered:{opacity:1}},bp=I.forwardRef(function(e,n){const r=Zr(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:c,in:u,onEnter:h,onEntered:f,onEntering:p,onExit:g,onExited:v,onExiting:y,style:E,timeout:S=i,TransitionComponent:w=rs,...T}=e,C=I.useRef(null),_=mn(C,hl(a),n),L=q=>G=>{if(q){const H=C.current;G===void 0?q(H):q(H,G)}},D=L(p),P=L((q,G)=>{sw(q);const H=sl({style:E,timeout:S,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",H),q.style.transition=r.transitions.create("opacity",H),h&&h(q,G)}),N=L(f),k=L(y),$=L(q=>{const G=sl({style:E,timeout:S,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",G),q.style.transition=r.transitions.create("opacity",G),g&&g(q)}),z=L(v),j=q=>{s&&s(C.current,q)};return b.jsx(w,{appear:o,in:u,nodeRef:C,onEnter:P,onEntered:N,onEntering:D,onExit:$,onExited:z,onExiting:k,addEndListener:j,timeout:S,...T,children:(q,{ownerState:G,...H})=>I.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...zH[q],...E,...a.props.style},ref:_,...H})})});function YH(t){return Qe("MuiBackdrop",t)}st("MuiBackdrop",["root","invisible"]);const qH=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},YH,e)},XH=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),n3=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:c,components:u={},componentsProps:h={},slotProps:f={},slots:p={},TransitionComponent:g,transitionDuration:v,...y}=r,E={...r,component:o,invisible:a},S=qH(E),w={transition:g,root:u.Root,...p},T={...h,...f},C={slots:w,slotProps:T},[_,L]=kn("root",{elementType:XH,externalForwardedProps:C,className:Ce(S.root,s),ownerState:E}),[D,P]=kn("transition",{elementType:bp,externalForwardedProps:C,ownerState:E});return b.jsx(D,{in:c,timeout:v,...y,...P,children:b.jsx(_,{"aria-hidden":!0,...L,classes:S,ref:n,children:i})})});function QH(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,s=AO({badgeContent:e,max:r});let o=n;n===!1&&e===0&&!i&&(o=!0);const{badgeContent:a,max:c=r}=o?s:t,u=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:o,max:c,displayValue:u}}function ZH(t){return Qe("MuiBadge",t)}const Ma=st("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Vx=10,Wx=4,JH=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:s,classes:o={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${ye(n.vertical)}${ye(n.horizontal)}`,`anchorOrigin${ye(n.vertical)}${ye(n.horizontal)}${ye(i)}`,`overlap${ye(i)}`,e!=="default"&&`color${ye(e)}`]};return Ze(a,ZH,o)},eG=Ee("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),tG=Ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${ye(n.anchorOrigin.vertical)}${ye(n.anchorOrigin.horizontal)}${ye(n.overlap)}`],n.color!=="default"&&e[`color${ye(n.color)}`],n.invisible&&e.invisible]}})(pt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Vx*2,lineHeight:1,padding:"0 6px",height:Vx*2,borderRadius:Vx,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Wr(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Wx,height:Wx*2,minWidth:Wx*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ma.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function p2(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const nG=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:s,classes:o,component:a,components:c={},componentsProps:u={},children:h,overlap:f="rectangular",color:p="default",invisible:g=!1,max:v=99,badgeContent:y,slots:E,slotProps:S,showZero:w=!1,variant:T="standard",...C}=r,{badgeContent:_,invisible:L,max:D,displayValue:P}=QH({max:v,invisible:g,badgeContent:y,showZero:w}),N=AO({anchorOrigin:p2(i),color:p,overlap:f,variant:T,badgeContent:y}),k=L||_==null&&T!=="dot",{color:$=p,overlap:z=f,anchorOrigin:j,variant:q=T}=k?N:r,G=p2(j),H=q!=="dot"?P:void 0,Q={...r,badgeContent:_,invisible:k,max:D,displayValue:H,showZero:w,anchorOrigin:G,color:$,overlap:z,variant:q},W=JH(Q),V=(E==null?void 0:E.root)??c.Root??eG,K=(E==null?void 0:E.badge)??c.Badge??tG,B=(S==null?void 0:S.root)??u.root,Z=(S==null?void 0:S.badge)??u.badge,ue=ia({elementType:V,externalSlotProps:B,externalForwardedProps:C,additionalProps:{ref:n,as:a},ownerState:Q,className:Ce(B==null?void 0:B.className,W.root,s)}),fe=ia({elementType:K,externalSlotProps:Z,ownerState:Q,className:Ce(W.badge,Z==null?void 0:Z.className)});return b.jsxs(V,{...ue,children:[h,b.jsx(K,{...fe,children:H})]})}),rG=st("MuiBox",["root"]),iG=pb(),ie=w7({themeId:ks,defaultTheme:iG,defaultClassName:rG.root,generateClassName:dO.generate});function sG(t){return Qe("MuiButton",t)}const Ll=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),oG=I.createContext({}),aG=I.createContext(void 0),lG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:c}=t,u={root:["root",o&&"loading",s,`${s}${ye(e)}`,`size${ye(i)}`,`${s}Size${ye(i)}`,`color${ye(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${ye(a)}`],startIcon:["icon","startIcon",`iconSize${ye(i)}`],endIcon:["icon","endIcon",`iconSize${ye(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ze(u,sG,c);return{...c,...h}},r3=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],cG=Ee(ol,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ye(n.color)}`],e[`size${ye(n.size)}`],e[`${n.variant}Size${ye(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(pt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ll.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ll.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ll.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ll.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Wr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Dt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ll.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ll.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ll.loading}`]:{color:"transparent"}}}]}})),uG=Ee("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${ye(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...r3]})),dG=Ee("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${ye(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...r3]})),hG=Ee("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),m2=Ee("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),St=I.forwardRef(function(e,n){const r=I.useContext(oG),i=I.useContext(aG),s=mp(r,e),o=Je({props:s,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:h,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:E=!1,id:S,loading:w=null,loadingIndicator:T,loadingPosition:C="center",size:_="medium",startIcon:L,type:D,variant:P="text",...N}=o,k=Vd(S),$=T??b.jsx(ow,{"aria-labelledby":k,color:"inherit",size:16}),z={...o,color:c,component:u,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:E,loading:w,loadingIndicator:$,loadingPosition:C,size:_,type:D,variant:P},j=lG(z),q=(L||w&&C==="start")&&b.jsx(uG,{className:j.startIcon,ownerState:z,children:L||b.jsx(m2,{className:j.loadingIconPlaceholder,ownerState:z})}),G=(v||w&&C==="end")&&b.jsx(dG,{className:j.endIcon,ownerState:z,children:v||b.jsx(m2,{className:j.loadingIconPlaceholder,ownerState:z})}),H=i||"",Q=typeof w=="boolean"?b.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:w&&b.jsx(hG,{className:j.loadingIndicator,ownerState:z,children:$})}):null;return b.jsxs(cG,{ownerState:z,className:Ce(r.className,j.root,h,H),component:u,disabled:f||w,focusRipple:!g,focusVisibleClassName:Ce(j.focusVisible,y),ref:n,type:D,id:w?k:S,...N,classes:j,children:[q,C!=="end"&&Q,a,C==="end"&&Q,G]})});function fG(t){return Qe("MuiCard",t)}st("MuiCard",["root"]);const pG=t=>{const{classes:e}=t;return Ze({root:["root"]},fG,e)},mG=Ee(lr,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),yo=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCard"}),{className:i,raised:s=!1,...o}=r,a={...r,raised:s},c=pG(a);return b.jsx(mG,{className:Ce(c.root,i),elevation:s?8:void 0,ref:n,ownerState:a,...o})});function gG(t){return Qe("MuiCardContent",t)}st("MuiCardContent",["root"]);const vG=t=>{const{classes:e}=t;return Ze({root:["root"]},gG,e)},yG=Ee("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),ea=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCardContent"}),{className:i,component:s="div",...o}=r,a={...r,component:s},c=vG(a);return b.jsx(yG,{as:s,className:Ce(c.root,i),ownerState:a,ref:n,...o})});function bG(t){return Qe("MuiCardMedia",t)}st("MuiCardMedia",["root","media","img"]);const EG=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Ze({root:["root",n&&"media",r&&"img"]},bG,e)},xG=Ee("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),SG=["video","audio","picture","iframe","img"],TG=["picture","img"],AG=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:c,style:u,...h}=r,f=SG.includes(o),p=!f&&a?{backgroundImage:`url("${a}")`,...u}:u,g={...r,component:o,isMediaComponent:f,isImageComponent:TG.includes(o)},v=EG(g);return b.jsx(xG,{className:Ce(v.root,s),as:o,role:!f&&a?"img":void 0,ref:n,style:p,ownerState:g,src:f?a||c:void 0,...h,children:i})});function g2(t){return t.substring(2).toLowerCase()}function wG(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function _G(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=I.useRef(!1),a=I.useRef(null),c=I.useRef(!1),u=I.useRef(!1);I.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=mn(hl(e),a),f=Xi(v=>{const y=u.current;u.current=!1;const E=Lr(a.current);if(!c.current||!a.current||"clientX"in v&&wG(v,E))return;if(o.current){o.current=!1;return}let S;v.composedPath?S=v.composedPath().includes(a.current):S=!E.documentElement.contains(v.target)||a.current.contains(v.target),!S&&(n||!y)&&i(v)}),p=v=>y=>{u.current=!0;const E=e.props[v];E&&E(y)},g={ref:h};return s!==!1&&(g[s]=p(s)),I.useEffect(()=>{if(s!==!1){const v=g2(s),y=Lr(a.current),E=()=>{o.current=!0};return y.addEventListener(v,f),y.addEventListener("touchmove",E),()=>{y.removeEventListener(v,f),y.removeEventListener("touchmove",E)}}},[f,s]),r!==!1&&(g[r]=p(r)),I.useEffect(()=>{if(r!==!1){const v=g2(r),y=Lr(a.current);return y.addEventListener(v,f),()=>{y.removeEventListener(v,f)}}},[f,r]),I.cloneElement(e,g)}const CG=vj({createStyledComponent:Ee("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ye(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Je({props:t,name:"MuiContainer"})}),_S=typeof nw({})=="function",kG=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),RG=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),i3=(t,e=!1)=>{var s,o;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,c])=>{var h,f;const u=t.getColorSchemeSelector(a);u.startsWith("@")?n[u]={":root":{colorScheme:(h=c.palette)==null?void 0:h.mode}}:n[u.replace(/\s*&/,"")]={colorScheme:(f=c.palette)==null?void 0:f.mode}});let r={html:kG(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...RG(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=(o=(s=t.components)==null?void 0:s.MuiCssBaseline)==null?void 0:o.styleOverrides;return i&&(r=[r,i]),r},I0="mui-ecs",IG=t=>{const e=i3(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${I0})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{var o,a;const s=t.getColorSchemeSelector(r);s.startsWith("@")?n[s]={[`:root:not(:has(.${I0}))`]:{colorScheme:(o=i.palette)==null?void 0:o.mode}}:n[s.replace(/\s*&/,"")]={[`&:not(:has(.${I0}))`]:{colorScheme:(a=i.palette)==null?void 0:a.mode}}}),e},LG=nw(_S?({theme:t,enableColorScheme:e})=>i3(t,e):({theme:t})=>IG(t));function s3(t){const e=Je({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return b.jsxs(I.Fragment,{children:[_S&&b.jsx(LG,{enableColorScheme:r}),!_S&&!r&&b.jsx("span",{className:I0,style:{display:"none"}}),n]})}function DG(t){const e=Lr(t);return e.body===t?Ci(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function zf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function v2(t){return parseInt(Ci(t).getComputedStyle(t).paddingRight,10)||0}function PG(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function y2(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),c=!PG(o);a&&c&&zf(o,i)})}function Hx(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function MG(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(DG(r)){const o=TO(Ci(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${v2(r)+o}px`;const a=Lr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${v2(c)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Lr(r).body;else{const o=r.parentElement,a=Ci(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function OG(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class NG{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&zf(e.modalRef,!1);const i=OG(n);y2(n,e.mount,e.modalRef,i,!0);const s=Hx(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Hx(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=MG(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Hx(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&zf(e.modalRef,n),y2(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&zf(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const $G=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function FG(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function BG(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function UG(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||BG(t))}function jG(t){const e=[],n=[];return Array.from(t.querySelectorAll($G)).forEach((r,i)=>{const s=FG(r);s===-1||!UG(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function VG(){return!0}function WG(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=jG,isEnabled:o=VG,open:a}=t,c=I.useRef(!1),u=I.useRef(null),h=I.useRef(null),f=I.useRef(null),p=I.useRef(null),g=I.useRef(!1),v=I.useRef(null),y=mn(hl(e),v),E=I.useRef(null);I.useEffect(()=>{!a||!v.current||(g.current=!n)},[n,a]),I.useEffect(()=>{if(!a||!v.current)return;const T=Lr(v.current);return v.current.contains(T.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),I.useEffect(()=>{if(!a||!v.current)return;const T=Lr(v.current),C=D=>{E.current=D,!(r||!o()||D.key!=="Tab")&&T.activeElement===v.current&&D.shiftKey&&(c.current=!0,h.current&&h.current.focus())},_=()=>{var N,k;const D=v.current;if(D===null)return;if(!T.hasFocus()||!o()||c.current){c.current=!1;return}if(D.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==h.current)return;if(T.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!g.current)return;let P=[];if((T.activeElement===u.current||T.activeElement===h.current)&&(P=s(v.current)),P.length>0){const $=!!((N=E.current)!=null&&N.shiftKey&&((k=E.current)==null?void 0:k.key)==="Tab"),z=P[0],j=P[P.length-1];typeof z!="string"&&typeof j!="string"&&($?j.focus():z.focus())}else D.focus()};T.addEventListener("focusin",_),T.addEventListener("keydown",C,!0);const L=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(L),T.removeEventListener("focusin",_),T.removeEventListener("keydown",C,!0)}},[n,r,i,o,a,s]);const S=T=>{f.current===null&&(f.current=T.relatedTarget),g.current=!0,p.current=T.target;const C=e.props.onFocus;C&&C(T)},w=T=>{f.current===null&&(f.current=T.relatedTarget),g.current=!0};return b.jsxs(I.Fragment,{children:[b.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:y,onFocus:S}),b.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:h,"data-testid":"sentinelEnd"})]})}function HG(t){return typeof t=="function"?t():t}function GG(t){return t?t.props.hasOwnProperty("in"):!1}const b2=()=>{},Mg=new NG;function KG(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:c,open:u,rootRef:h}=t,f=I.useRef({}),p=I.useRef(null),g=I.useRef(null),v=mn(g,h),[y,E]=I.useState(!u),S=GG(a);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const T=()=>Lr(p.current),C=()=>(f.current.modalRef=g.current,f.current.mount=p.current,f.current),_=()=>{Mg.mount(C(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},L=Xi(()=>{const G=HG(e)||T().body;Mg.add(C(),G),g.current&&_()}),D=()=>Mg.isTopModal(C()),P=Xi(G=>{p.current=G,G&&(u&&D()?_():g.current&&zf(g.current,w))}),N=I.useCallback(()=>{Mg.remove(C(),w)},[w]);I.useEffect(()=>()=>{N()},[N]),I.useEffect(()=>{u?L():(!S||!i)&&N()},[u,N,S,i,L]);const k=G=>H=>{var Q;(Q=G.onKeyDown)==null||Q.call(G,H),!(H.key!=="Escape"||H.which===229||!D())&&(n||(H.stopPropagation(),c&&c(H,"escapeKeyDown")))},$=G=>H=>{var Q;(Q=G.onClick)==null||Q.call(G,H),H.target===H.currentTarget&&c&&c(H,"backdropClick")};return{getRootProps:(G={})=>{const H=_O(t);delete H.onTransitionEnter,delete H.onTransitionExited;const Q={...H,...G};return{role:"presentation",...Q,onKeyDown:k(Q),ref:v}},getBackdropProps:(G={})=>{const H=G;return{"aria-hidden":!0,...H,onClick:$(H),open:u}},getTransitionProps:()=>{const G=()=>{E(!1),s&&s()},H=()=>{E(!0),o&&o(),i&&N()};return{onEnter:DI(G,(a==null?void 0:a.props.onEnter)??b2),onExited:DI(H,(a==null?void 0:a.props.onExited)??b2)}},rootRef:v,portalRef:P,isTopModal:D,exited:y,hasTransition:S}}function zG(t){return Qe("MuiModal",t)}st("MuiModal",["root","hidden","backdrop"]);const YG=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},zG,r)},qG=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(pt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),XG=Ee(n3,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),o3=I.forwardRef(function(e,n){const r=Je({name:"MuiModal",props:e}),{BackdropComponent:i=XG,BackdropProps:s,classes:o,className:a,closeAfterTransition:c=!1,children:u,container:h,component:f,components:p={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:E=!1,disablePortal:S=!1,disableRestoreFocus:w=!1,disableScrollLock:T=!1,hideBackdrop:C=!1,keepMounted:_=!1,onBackdropClick:L,onClose:D,onTransitionEnter:P,onTransitionExited:N,open:k,slotProps:$={},slots:z={},theme:j,...q}=r,G={...r,closeAfterTransition:c,disableAutoFocus:v,disableEnforceFocus:y,disableEscapeKeyDown:E,disablePortal:S,disableRestoreFocus:w,disableScrollLock:T,hideBackdrop:C,keepMounted:_},{getRootProps:H,getBackdropProps:Q,getTransitionProps:W,portalRef:V,isTopModal:K,exited:B,hasTransition:Z}=KG({...G,rootRef:n}),ue={...G,exited:B},fe=YG(ue),me={};if(u.props.tabIndex===void 0&&(me.tabIndex="-1"),Z){const{onEnter:Be,onExited:mt}=W();me.onEnter=Be,me.onExited=mt}const he={...q,slots:{root:p.Root,backdrop:p.Backdrop,...z},slotProps:{...g,...$}},[Te,_e]=kn("root",{elementType:qG,externalForwardedProps:he,getSlotProps:H,additionalProps:{ref:n,as:f},ownerState:ue,className:Ce(a,fe==null?void 0:fe.root,!ue.open&&ue.exited&&(fe==null?void 0:fe.hidden))}),[Ie,Pe]=kn("backdrop",{elementType:i,externalForwardedProps:he,additionalProps:s,getSlotProps:Be=>Q({...Be,onClick:mt=>{L&&L(mt),Be!=null&&Be.onClick&&Be.onClick(mt)}}),className:Ce(s==null?void 0:s.className,fe==null?void 0:fe.backdrop),ownerState:ue}),et=mn(s==null?void 0:s.ref,Pe.ref);return!_&&!k&&(!Z||B)?null:b.jsx(e3,{ref:V,container:h,disablePortal:S,children:b.jsxs(Te,{..._e,children:[!C&&i?b.jsx(Ie,{...Pe,ref:et}):null,b.jsx(WG,{disableEnforceFocus:y,disableAutoFocus:v,disableRestoreFocus:w,isEnabled:K,open:k,children:I.cloneElement(u,me)})]})})});function QG(t){return Qe("MuiDialog",t)}const Gx=st("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),a3=I.createContext({}),ZG=Ee(n3,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),JG=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${ye(n)}`],paper:["paper",`paperScroll${ye(n)}`,`paperWidth${ye(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ze(o,QG,e)},eK=Ee(o3,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),tK=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ye(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),nK=Ee(lr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ye(n.scroll)}`],e[`paperWidth${ye(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(pt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Gx.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Gx.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Gx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Kr=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDialog"}),i=Zr(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:f,className:p,disableEscapeKeyDown:g=!1,fullScreen:v=!1,fullWidth:y=!1,maxWidth:E="sm",onBackdropClick:S,onClick:w,onClose:T,open:C,PaperComponent:_=lr,PaperProps:L={},scroll:D="paper",slots:P={},slotProps:N={},TransitionComponent:k=bp,transitionDuration:$=s,TransitionProps:z,...j}=r,q={...r,disableEscapeKeyDown:g,fullScreen:v,fullWidth:y,maxWidth:E,scroll:D},G=JG(q),H=I.useRef(),Q=We=>{H.current=We.target===We.currentTarget},W=We=>{w&&w(We),H.current&&(H.current=null,S&&S(We),T&&T(We,"backdropClick"))},V=Vd(a),K=I.useMemo(()=>({titleId:V}),[V]),B={transition:k,...P},Z={transition:z,paper:L,backdrop:h,...N},ue={slots:B,slotProps:Z},[fe,me]=kn("root",{elementType:eK,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:q,className:Ce(G.root,p),ref:n}),[he,Te]=kn("backdrop",{elementType:ZG,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:q}),[_e,Ie]=kn("paper",{elementType:nK,shouldForwardComponentProp:!0,externalForwardedProps:ue,ownerState:q,className:Ce(G.paper,L.className)}),[Pe,et]=kn("container",{elementType:tK,externalForwardedProps:ue,ownerState:q,className:Ce(G.container)}),[Be,mt]=kn("transition",{elementType:bp,externalForwardedProps:ue,ownerState:q,additionalProps:{appear:!0,in:C,timeout:$,role:"presentation"}});return b.jsx(fe,{closeAfterTransition:!0,slots:{backdrop:he},slotProps:{backdrop:{transitionDuration:$,as:u,...Te}},disableEscapeKeyDown:g,onClose:T,open:C,onClick:W,...me,...j,children:b.jsx(Be,{...mt,children:b.jsx(Pe,{onMouseDown:Q,...et,children:b.jsx(_e,{as:_,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":V,"aria-modal":c,...Ie,children:b.jsx(a3.Provider,{value:K,children:f})})})})})});function rK(t){return Qe("MuiDialogContent",t)}st("MuiDialogContent",["root","dividers"]);function iK(t){return Qe("MuiDialogTitle",t)}const sK=st("MuiDialogTitle",["root"]),oK=t=>{const{classes:e,dividers:n}=t;return Ze({root:["root",n&&"dividers"]},rK,e)},aK=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(pt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${sK.root} + &`]:{paddingTop:0}}}]}))),Jr=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,a={...r,dividers:s},c=oK(a);return b.jsx(aK,{className:Ce(c.root,i),ownerState:a,ref:n,...o})}),lK=t=>{const{classes:e}=t;return Ze({root:["root"]},iK,e)},cK=Ee(ce,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),gi=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,a=r,c=lK(a),{titleId:u=s}=I.useContext(a3);return b.jsx(cK,{component:"h2",className:Ce(c.root,i),ownerState:a,ref:n,variant:"h6",id:s??u,...o})});function uK(t){return Qe("MuiDivider",t)}const E2=st("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dK=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:c}=t;return Ze({root:["root",e&&"absolute",c,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},uK,r)},hK=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(pt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Dt(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),fK=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(pt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Fc=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:a="horizontal",component:c=s||a==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:f=c!=="hr"?"separator":void 0,textAlign:p="center",variant:g="fullWidth",...v}=r,y={...r,absolute:i,component:c,flexItem:u,light:h,orientation:a,role:f,textAlign:p,variant:g},E=dK(y);return b.jsx(hK,{as:c,className:Ce(E.root,o),role:f,ref:n,ownerState:y,"aria-orientation":f==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...v,children:s?b.jsx(fK,{className:E.wrapper,ownerState:y,children:s}):null})});Fc&&(Fc.muiSkipListHighlight=!0);function pK(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Ci(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,c=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),c=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+c-r.top}px)`:`translateY(${s.innerHeight+c-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function mK(t){return typeof t=="function"?t():t}function Og(t,e,n){const r=mK(n),i=pK(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const l3=I.forwardRef(function(e,n){const r=Zr(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:c,container:u,direction:h="down",easing:f=i,in:p,onEnter:g,onEntered:v,onEntering:y,onExit:E,onExited:S,onExiting:w,style:T,timeout:C=s,TransitionComponent:_=rs,...L}=e,D=I.useRef(null),P=mn(hl(c),D,n),N=W=>V=>{W&&(V===void 0?W(D.current):W(D.current,V))},k=N((W,V)=>{Og(h,W,u),sw(W),g&&g(W,V)}),$=N((W,V)=>{const K=sl({timeout:C,style:T,easing:f},{mode:"enter"});W.style.webkitTransition=r.transitions.create("-webkit-transform",{...K}),W.style.transition=r.transitions.create("transform",{...K}),W.style.webkitTransform="none",W.style.transform="none",y&&y(W,V)}),z=N(v),j=N(w),q=N(W=>{const V=sl({timeout:C,style:T,easing:f},{mode:"exit"});W.style.webkitTransition=r.transitions.create("-webkit-transform",V),W.style.transition=r.transitions.create("transform",V),Og(h,W,u),E&&E(W)}),G=N(W=>{W.style.webkitTransition="",W.style.transition="",S&&S(W)}),H=W=>{o&&o(D.current,W)},Q=I.useCallback(()=>{D.current&&Og(h,D.current,u)},[h,u]);return I.useEffect(()=>{if(p||h==="down"||h==="right")return;const W=rm(()=>{D.current&&Og(h,D.current,u)}),V=Ci(D.current);return V.addEventListener("resize",W),()=>{W.clear(),V.removeEventListener("resize",W)}},[h,p,u]),I.useEffect(()=>{p||Q()},[p,Q]),b.jsx(_,{nodeRef:D,onEnter:k,onEntered:z,onEntering:$,onExit:q,onExited:G,onExiting:j,addEndListener:H,appear:a,in:p,timeout:C,...L,children:(W,{ownerState:V,...K})=>I.cloneElement(c,{ref:P,style:{visibility:W==="exited"&&!p?"hidden":void 0,...T,...c.props.style},...K})})}),gK=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,c={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${ye(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Ze(c,FH,e);return{...e,...u}},vK=Ee(yb,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gb(t,e),!n.disableUnderline&&e.underline]}})(pt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Il.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Il.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Il.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Il.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Il.disabled}, .${Il.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Il.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Wr()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),yK=Ee(bb,{name:"MuiFilledInput",slot:"Input",overridesResolver:vb})(pt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),gw=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text",...v}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:h,type:g},E=gK(r),S={root:{ownerState:y},input:{ownerState:y}},w=f??o?xr(S,f??o):S,T=p.root??s.Root??vK,C=p.input??s.Input??yK;return b.jsx(mw,{slots:{root:T,input:C},slotProps:w,fullWidth:a,inputComponent:u,multiline:h,ref:n,type:g,...v,classes:E})});gw.muiName="Input";function bK(t){return Qe("MuiFormControl",t)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const EK=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ye(n)}`,r&&"fullWidth"]};return Ze(i,bK,e)},xK=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${ye(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),SK=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:f=!1,hiddenLabel:p=!1,margin:g="none",required:v=!1,size:y="medium",variant:E="outlined",...S}=r,w={...r,color:o,component:a,disabled:c,error:u,fullWidth:f,hiddenLabel:p,margin:g,required:v,size:y,variant:E},T=EK(w),[C,_]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,H=>{if(!k0(H,["Input","Select"]))return;const Q=k0(H,["Select"])?H.props.input:H;Q&&PH(Q.props)&&(G=!0)}),G}),[L,D]=I.useState(()=>{let G=!1;return i&&I.Children.forEach(i,H=>{k0(H,["Input","Select"])&&(oy(H.props,!0)||oy(H.props.inputProps,!0))&&(G=!0)}),G}),[P,N]=I.useState(!1);c&&P&&N(!1);const k=h!==void 0&&!c?h:P;let $;I.useRef(!1);const z=I.useCallback(()=>{D(!0)},[]),j=I.useCallback(()=>{D(!1)},[]),q=I.useMemo(()=>({adornedStart:C,setAdornedStart:_,color:o,disabled:c,error:u,filled:L,focused:k,fullWidth:f,hiddenLabel:p,size:y,onBlur:()=>{N(!1)},onFocus:()=>{N(!0)},onEmpty:j,onFilled:z,registerEffect:$,required:v,variant:E}),[C,o,c,u,L,k,f,p,$,j,z,v,y,E]);return b.jsx(pw.Provider,{value:q,children:b.jsx(xK,{as:a,ownerState:w,className:Ce(T.root,s),ref:n,...S,children:i})})});function TK(t){return Qe("MuiFormHelperText",t)}const x2=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var S2;const AK=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:c}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${ye(r)}`,n&&"contained",a&&"focused",o&&"filled",c&&"required"]};return Ze(u,TK,e)},wK=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ye(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(pt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${x2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${x2.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),c3=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:c,filled:u,focused:h,margin:f,required:p,variant:g,...v}=r,y=Gd(),E=Hd({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete S.ownerState;const w=AK(S);return b.jsx(wK,{as:o,className:Ce(w.root,s),ref:n,...v,ownerState:S,children:i===" "?S2||(S2=b.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function _K(t){return Qe("MuiFormLabel",t)}const Yf=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),CK=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,c={root:["root",`color${ye(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ze(c,_K,e)},kK=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(pt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Wr()).map(([e])=>({props:{color:e},style:{[`&.${Yf.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Yf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yf.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),RK=Ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(pt(({theme:t})=>({[`&.${Yf.error}`]:{color:(t.vars||t).palette.error.main}}))),IK=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:c,error:u,filled:h,focused:f,required:p,...g}=r,v=Gd(),y=Hd({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},S=CK(E);return b.jsxs(kK,{as:a,ownerState:E,className:Ce(S.root,s),ref:n,...g,children:[i,y.required&&b.jsxs(RK,{ownerState:E,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]})}),T2=I.createContext();function LK(t){return Qe("MuiGrid",t)}const DK=[0,1,2,3,4,5,6,7,8,9,10],PK=["column-reverse","column","row-reverse","row"],MK=["nowrap","wrap-reverse","wrap"],Hh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ep=st("MuiGrid",["root","container","item","zeroMinWidth",...DK.map(t=>`spacing-xs-${t}`),...PK.map(t=>`direction-xs-${t}`),...MK.map(t=>`wrap-xs-${t}`),...Hh.map(t=>`grid-xs-${t}`),...Hh.map(t=>`grid-sm-${t}`),...Hh.map(t=>`grid-md-${t}`),...Hh.map(t=>`grid-lg-${t}`),...Hh.map(t=>`grid-xl-${t}`)]);function OK({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Ac({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const c=`${Math.round(n/a*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const f=`calc(${c} + ${h})`;u={flexBasis:f,maxWidth:f}}}s={flexBasis:c,flexGrow:0,maxWidth:c,...u}}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function NK({theme:t,ownerState:e}){const n=Ac({values:e.direction,breakpoints:t.breakpoints.values});return pi({theme:t},n,r=>{const i={flexDirection:r};return r.startsWith("column")&&(i[`& > .${Ep.item}`]={maxWidth:"none"}),i})}function u3({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function $K({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Ac({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=u3({breakpoints:t.breakpoints.values,values:s})),i=pi({theme:t},s,(a,c)=>{const u=t.spacing(a);return u!=="0px"?{marginTop:`calc(-1 * ${u})`,[`& > .${Ep.item}`]:{paddingTop:u}}:o!=null&&o.includes(c)?{}:{marginTop:0,[`& > .${Ep.item}`]:{paddingTop:0}}})}return i}function FK({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Ac({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=u3({breakpoints:t.breakpoints.values,values:s})),i=pi({theme:t},s,(a,c)=>{const u=t.spacing(a);if(u!=="0px"){const h=`calc(-1 * ${u})`;return{width:`calc(100% + ${u})`,marginLeft:h,[`& > .${Ep.item}`]:{paddingLeft:u}}}return o!=null&&o.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Ep.item}`]:{paddingLeft:0}}})}return i}function BK(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const UK=Ee("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:c,breakpoints:u}=n;let h=[];r&&(h=BK(o,u,e));const f=[];return u.forEach(p=>{const g=n[p];g&&f.push(e[`grid-${p}-${String(g)}`])}),[e.root,r&&e.container,s&&e.item,c&&e.zeroMinWidth,...h,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...f]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),NK,$K,FK,OK);function jK(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const VK=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:c}=t;let u=[];n&&(u=jK(s,c));const h=[];c.forEach(p=>{const g=t[p];g&&h.push(`grid-${p}-${String(g)}`)});const f={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...h]};return Ze(f,LK,e)},Zt=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiGrid"}),{breakpoints:i}=Zr(),s=db(r),{className:o,columns:a,columnSpacing:c,component:u="div",container:h=!1,direction:f="row",item:p=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:E=!1,...S}=s,w=g||v,T=c||v,C=I.useContext(T2),_=h?a||12:C,L={},D={...S};i.keys.forEach(k=>{S[k]!=null&&(L[k]=S[k],delete D[k])});const P={...s,columns:_,container:h,direction:f,item:p,rowSpacing:w,columnSpacing:T,wrap:y,zeroMinWidth:E,spacing:v,...L,breakpoints:i.keys},N=VK(P);return b.jsx(T2.Provider,{value:_,children:b.jsx(UK,{ownerState:P,className:Ce(N.root,o),as:u,ref:n,...D})})});function CS(t){return`scale(${t}, ${t**2})`}const WK={entering:{opacity:1,transform:CS(1)},entered:{opacity:1,transform:"none"}},Kx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ay=I.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:c,onEntered:u,onEntering:h,onExit:f,onExited:p,onExiting:g,style:v,timeout:y="auto",TransitionComponent:E=rs,...S}=e,w=hc(),T=I.useRef(),C=Zr(),_=I.useRef(null),L=mn(_,hl(s),n),D=G=>H=>{if(G){const Q=_.current;H===void 0?G(Q):G(Q,H)}},P=D(h),N=D((G,H)=>{sw(G);const{duration:Q,delay:W,easing:V}=sl({style:v,timeout:y,easing:o},{mode:"enter"});let K;y==="auto"?(K=C.transitions.getAutoHeightDuration(G.clientHeight),T.current=K):K=Q,G.style.transition=[C.transitions.create("opacity",{duration:K,delay:W}),C.transitions.create("transform",{duration:Kx?K:K*.666,delay:W,easing:V})].join(","),c&&c(G,H)}),k=D(u),$=D(g),z=D(G=>{const{duration:H,delay:Q,easing:W}=sl({style:v,timeout:y,easing:o},{mode:"exit"});let V;y==="auto"?(V=C.transitions.getAutoHeightDuration(G.clientHeight),T.current=V):V=H,G.style.transition=[C.transitions.create("opacity",{duration:V,delay:Q}),C.transitions.create("transform",{duration:Kx?V:V*.666,delay:Kx?Q:Q||V*.333,easing:W})].join(","),G.style.opacity=0,G.style.transform=CS(.75),f&&f(G)}),j=D(p),q=G=>{y==="auto"&&w.start(T.current||0,G),r&&r(_.current,G)};return b.jsx(E,{appear:i,in:a,nodeRef:_,onEnter:N,onEntered:k,onEntering:P,onExit:z,onExited:j,onExiting:$,addEndListener:q,timeout:y==="auto"?null:y,...S,children:(G,{ownerState:H,...Q})=>I.cloneElement(s,{style:{opacity:0,transform:CS(.75),visibility:G==="exited"&&!a?"hidden":void 0,...WK[G],...v,...s.props.style},ref:L,...Q})})});ay&&(ay.muiSupportAuto=!0);const am=EO({themeId:ks}),HK=t=>{const{classes:e,disableUnderline:n}=t,i=Ze({root:["root",!n&&"underline"],input:["input"]},NH,e);return{...e,...i}},GK=Ee(yb,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gb(t,e),!n.disableUnderline&&e.underline]}})(pt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wh.disabled}, .${Wh.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Wh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Wr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),KK=Ee(bb,{name:"MuiInput",slot:"Input",overridesResolver:vb})({}),vw=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:f={},type:p="text",...g}=r,v=HK(r),E={root:{ownerState:{disableUnderline:i}}},S=h??o?xr(h??o,E):E,w=f.root??s.Root??GK,T=f.input??s.Input??KK;return b.jsx(mw,{slots:{root:w,input:T},slotProps:S,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...g,classes:v})});vw.muiName="Input";function zK(t){return Qe("MuiInputLabel",t)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const YK=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ye(r)}`,o],asterisk:[a&&"asterisk"]},u=Ze(c,zK,e);return{...e,...u}},qK=Ee(IK,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Yf.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(pt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),XK=I.forwardRef(function(e,n){const r=Je({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:c,...u}=r,h=Gd();let f=o;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const p=Hd({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),g={...r,disableAnimation:i,formControl:h,shrink:f,size:p.size,variant:p.variant,required:p.required,focused:p.focused},v=YK(g);return b.jsx(qK,{"data-shrink":f,ref:n,className:Ce(v.root,c),...u,ownerState:g,classes:v})});function QK(t){return Qe("MuiLink",t)}const ZK=st("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),JK=({theme:t,ownerState:e})=>{const n=e.color,r=Ja(t,`palette.${n}.main`,!1)||Ja(t,`palette.${n}`,!1)||e.color,i=Ja(t,`palette.${n}.mainChannel`)||Ja(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Dt(r,.4)},A2={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},ez=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${ye(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Ze(s,QK,e)},tz=Ee(ce,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${ye(n.underline)}`],n.component==="button"&&e.button]}})(pt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Wr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:Dt(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Dt(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:Dt(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${ZK.focusVisible}`]:{outline:"auto"}}}]}))),w2=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiLink"}),i=Zr(),{className:s,color:o="primary",component:a="a",onBlur:c,onFocus:u,TypographyClasses:h,underline:f="always",variant:p="inherit",sx:g,...v}=r,[y,E]=I.useState(!1),S=_=>{Td(_.target)||E(!1),c&&c(_)},w=_=>{Td(_.target)&&E(!0),u&&u(_)},T={...r,color:o,component:a,focusVisible:y,underline:f,variant:p},C=ez(T);return b.jsx(tz,{color:o,className:Ce(C.root,s),classes:h,component:a,onBlur:S,onFocus:w,ref:n,ownerState:T,variant:p,...v,sx:[...A2[o]===void 0?[{color:o}]:[],...Array.isArray(g)?g:[g]],style:{...v.style,...f==="always"&&o!=="inherit"&&!A2[o]&&{"--Link-underlineColor":JK({theme:i,ownerState:T})}}})}),Zi=I.createContext({});function nz(t){return Qe("MuiList",t)}st("MuiList",["root","padding","dense","subheader"]);const rz=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ze({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},nz,e)},iz=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),hd=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:c=!1,subheader:u,...h}=r,f=I.useMemo(()=>({dense:a}),[a]),p={...r,component:o,dense:a,disablePadding:c},g=rz(p);return b.jsx(Zi.Provider,{value:f,children:b.jsxs(iz,{as:o,className:Ce(g.root,s),ref:n,ownerState:p,...h,children:[u,i]})})});function sz(t){return Qe("MuiListItem",t)}st("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function oz(t){return Qe("MuiListItemButton",t)}const Ru=st("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),az=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},lz=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:a}=t,u=Ze({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},oz,n);return{...n,...u}},cz=Ee(ol,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:az})(pt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ru.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ru.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ru.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ru.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ru.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),uz=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:c=!1,disableGutters:u=!1,divider:h=!1,focusVisibleClassName:f,selected:p=!1,className:g,...v}=r,y=I.useContext(Zi),E=I.useMemo(()=>({dense:c||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,c,u]),S=I.useRef(null);mi(()=>{s&&S.current&&S.current.focus()},[s]);const w={...r,alignItems:i,dense:E.dense,disableGutters:u,divider:h,selected:p},T=lz(w),C=mn(S,n);return b.jsx(Zi.Provider,{value:E,children:b.jsx(cz,{ref:C,href:v.href||v.to,component:(v.href||v.to)&&o==="div"?"button":o,focusVisibleClassName:Ce(T.focusVisible,f),ownerState:w,className:Ce(T.root,g),...v,classes:T,children:a})})});function dz(t){return Qe("MuiListItemSecondaryAction",t)}st("MuiListItemSecondaryAction",["root","disableGutters"]);const hz=t=>{const{disableGutters:e,classes:n}=t;return Ze({root:["root",e&&"disableGutters"]},dz,n)},fz=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),d3=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=r,o=I.useContext(Zi),a={...r,disableGutters:o.disableGutters},c=hz(a);return b.jsx(fz,{className:Ce(c.root,i),ownerState:a,ref:n,...s})});d3.muiName="ListItemSecondaryAction";const pz=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},mz=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:s,divider:o,hasSecondaryAction:a}=t;return Ze({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},sz,n)},gz=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:pz})(pt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Ru.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),vz=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Es=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:o,component:a,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:f,...p}={},dense:g=!1,disableGutters:v=!1,disablePadding:y=!1,divider:E=!1,secondaryAction:S,slotProps:w={},slots:T={},...C}=r,_=I.useContext(Zi),L=I.useMemo(()=>({dense:g||_.dense||!1,alignItems:i,disableGutters:v}),[i,_.dense,g,v]),D=I.useRef(null),P=I.Children.toArray(s),N=P.length&&k0(P[P.length-1],["ListItemSecondaryAction"]),k={...r,alignItems:i,dense:L.dense,disableGutters:v,disablePadding:y,divider:E,hasSecondaryAction:N},$=mz(k),z=mn(D,n),j=T.root||c.Root||gz,q=w.root||u.root||{},G={className:Ce($.root,q.className,o),...C};let H=a||"li";return N?(H=!G.component&&!a?"div":H,h==="li"&&(H==="li"?H="div":G.component==="li"&&(G.component="div")),b.jsx(Zi.Provider,{value:L,children:b.jsxs(vz,{as:h,className:Ce($.container,f),ref:z,ownerState:k,...p,children:[b.jsx(j,{...q,...!yp(j)&&{as:H,ownerState:{...k,...q.ownerState}},...G,children:P}),P.pop()]})})):b.jsx(Zi.Provider,{value:L,children:b.jsxs(j,{...q,as:H,ref:z,...!yp(j)&&{ownerState:{...k,...q.ownerState}},...G,children:[P,S&&b.jsx(d3,{children:S})]})})});function yz(t){return Qe("MuiListItemAvatar",t)}st("MuiListItemAvatar",["root","alignItemsFlexStart"]);const bz=t=>{const{alignItems:e,classes:n}=t;return Ze({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},yz,n)},Ez=Ee("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}),h3=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItemAvatar"}),{className:i,...s}=r,o=I.useContext(Zi),a={...r,alignItems:o.alignItems},c=bz(a);return b.jsx(Ez,{className:Ce(c.root,i),ownerState:a,ref:n,...s})});function xz(t){return Qe("MuiListItemIcon",t)}const _2=st("MuiListItemIcon",["root","alignItemsFlexStart"]),Sz=t=>{const{alignItems:e,classes:n}=t;return Ze({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},xz,n)},Tz=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(pt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Oa=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,o=I.useContext(Zi),a={...r,alignItems:o.alignItems},c=Sz(a);return b.jsx(Tz,{className:Ce(c.root,i),ownerState:a,ref:n,...s})});function Az(t){return Qe("MuiListItemText",t)}const Ju=st("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),wz=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return Ze({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Az,e)},_z=Ee("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ju.primary}`]:e.primary},{[`& .${Ju.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${ZI.root}:where(& .${Ju.primary})`]:{display:"block"},[`.${ZI.root}:where(& .${Ju.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),xs=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:f,slots:p={},slotProps:g={},...v}=r,{dense:y}=I.useContext(Zi);let E=c??i,S=h;const w={...r,disableTypography:o,inset:a,primary:!!E,secondary:!!S,dense:y},T=wz(w),C={slots:p,slotProps:{primary:u,secondary:f,...g}},[_,L]=kn("primary",{className:T.primary,elementType:ce,externalForwardedProps:C,ownerState:w}),[D,P]=kn("secondary",{className:T.secondary,elementType:ce,externalForwardedProps:C,ownerState:w});return E!=null&&E.type!==ce&&!o&&(E=b.jsx(_,{variant:y?"body2":"body1",component:L!=null&&L.variant?void 0:"span",...L,children:E})),S!=null&&S.type!==ce&&!o&&(S=b.jsx(D,{variant:"body2",color:"textSecondary",...P,children:S})),b.jsxs(_z,{className:Ce(T.root,s),ownerState:w,ref:n,...v,children:[E,S]})});function zx(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function C2(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function f3(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Gh(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!f3(a,s)||c)a=i(t,a,n);else return a.focus(),!0}return!1}const Cz=I.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:f="selectedMenu",...p}=e,g=I.useRef(null),v=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});mi(()=>{i&&g.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:C})=>{const _=!g.current.style.width;if(T.clientHeight<g.current.clientHeight&&_){const L=`${TO(Ci(T))}px`;g.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=L,g.current.style.width=`calc(100% + ${L})`}return g.current}}),[]);const y=T=>{const C=g.current,_=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const D=Lr(C).activeElement;if(_==="ArrowDown")T.preventDefault(),Gh(C,D,u,c,zx);else if(_==="ArrowUp")T.preventDefault(),Gh(C,D,u,c,C2);else if(_==="Home")T.preventDefault(),Gh(C,null,u,c,zx);else if(_==="End")T.preventDefault(),Gh(C,null,u,c,C2);else if(_.length===1){const P=v.current,N=_.toLowerCase(),k=performance.now();P.keys.length>0&&(k-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&N!==P.keys[0]&&(P.repeating=!1)),P.lastTime=k,P.keys.push(N);const $=D&&!P.repeating&&f3(D,P);P.previousKeyMatched&&($||Gh(C,D,!1,c,zx,P))?T.preventDefault():P.previousKeyMatched=!1}h&&h(T)},E=mn(g,n);let S=-1;I.Children.forEach(o,(T,C)=>{if(!I.isValidElement(T)){S===C&&(S+=1,S>=o.length&&(S=-1));return}T.props.disabled||(f==="selectedMenu"&&T.props.selected||S===-1)&&(S=C),S===C&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(S+=1,S>=o.length&&(S=-1))});const w=I.Children.map(o,(T,C)=>{if(C===S){const _={};return s&&(_.autoFocus=!0),T.props.tabIndex===void 0&&f==="selectedMenu"&&(_.tabIndex=0),I.cloneElement(T,_)}return T});return b.jsx(hd,{role:"menu",ref:E,className:a,onKeyDown:y,tabIndex:i?0:-1,...p,children:w})});function kz(t){return Qe("MuiPopover",t)}st("MuiPopover",["root","paper"]);function k2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function R2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function I2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Yx(t){return typeof t=="function"?t():t}const Rz=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},kz,e)},Iz=Ee(o3,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),p3=Ee(lr,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Lz=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:u,className:h,container:f,elevation:p=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:E={},slotProps:S={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:T=ay,transitionDuration:C="auto",TransitionProps:{onEntering:_,...L}={},disableScrollLock:D=!1,...P}=r,N=(S==null?void 0:S.paper)??y,k=I.useRef(),$={...r,anchorOrigin:o,anchorReference:c,elevation:p,marginThreshold:g,externalPaperSlotProps:N,transformOrigin:w,TransitionComponent:T,transitionDuration:C,TransitionProps:L},z=Rz($),j=I.useCallback(()=>{if(c==="anchorPosition")return a;const Pe=Yx(s),Be=(Pe&&Pe.nodeType===1?Pe:Lr(k.current).body).getBoundingClientRect();return{top:Be.top+k2(Be,o.vertical),left:Be.left+R2(Be,o.horizontal)}},[s,o.horizontal,o.vertical,a,c]),q=I.useCallback(Pe=>({vertical:k2(Pe,w.vertical),horizontal:R2(Pe,w.horizontal)}),[w.horizontal,w.vertical]),G=I.useCallback(Pe=>{const et={width:Pe.offsetWidth,height:Pe.offsetHeight},Be=q(et);if(c==="none")return{top:null,left:null,transformOrigin:I2(Be)};const mt=j();let We=mt.top-Be.vertical,gt=mt.left-Be.horizontal;const $t=We+et.height,Ye=gt+et.width,ht=Ci(Yx(s)),Ft=ht.innerHeight-g,yt=ht.innerWidth-g;if(g!==null&&We<g){const Oe=We-g;We-=Oe,Be.vertical+=Oe}else if(g!==null&&$t>Ft){const Oe=$t-Ft;We-=Oe,Be.vertical+=Oe}if(g!==null&&gt<g){const Oe=gt-g;gt-=Oe,Be.horizontal+=Oe}else if(Ye>yt){const Oe=Ye-yt;gt-=Oe,Be.horizontal+=Oe}return{top:`${Math.round(We)}px`,left:`${Math.round(gt)}px`,transformOrigin:I2(Be)}},[s,c,j,q,g]),[H,Q]=I.useState(v),W=I.useCallback(()=>{const Pe=k.current;if(!Pe)return;const et=G(Pe);et.top!==null&&Pe.style.setProperty("top",et.top),et.left!==null&&(Pe.style.left=et.left),Pe.style.transformOrigin=et.transformOrigin,Q(!0)},[G]);I.useEffect(()=>(D&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[s,D,W]);const V=(Pe,et)=>{_&&_(Pe,et),W()},K=()=>{Q(!1)};I.useEffect(()=>{v&&W()}),I.useImperativeHandle(i,()=>v?{updatePosition:()=>{W()}}:null,[v,W]),I.useEffect(()=>{if(!v)return;const Pe=rm(()=>{W()}),et=Ci(s);return et.addEventListener("resize",Pe),()=>{Pe.clear(),et.removeEventListener("resize",Pe)}},[s,v,W]);let B=C;C==="auto"&&!T.muiSupportAuto&&(B=void 0);const Z=f||(s?Lr(Yx(s)).body:void 0),ue={slots:E,slotProps:{...S,paper:N}},[fe,me]=kn("paper",{elementType:p3,externalForwardedProps:ue,additionalProps:{elevation:p,className:Ce(z.paper,N==null?void 0:N.className),style:H?N.style:{...N.style,opacity:0}},ownerState:$}),[he,{slotProps:Te,..._e}]=kn("root",{elementType:Iz,externalForwardedProps:ue,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Z,open:v},ownerState:$,className:Ce(z.root,h)}),Ie=mn(k,me.ref);return b.jsx(he,{..._e,...!yp(he)&&{slotProps:Te,disableScrollLock:D},...P,ref:n,children:b.jsx(T,{appear:!0,in:v,onEntering:V,onExited:K,timeout:B,...L,children:b.jsx(fe,{...me,ref:Ie,children:u})})})});function Dz(t){return Qe("MuiMenu",t)}st("MuiMenu",["root","paper","list"]);const Pz={vertical:"top",horizontal:"right"},Mz={vertical:"top",horizontal:"left"},Oz=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},Dz,e)},Nz=Ee(Lz,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$z=Ee(p3,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Fz=Ee(Cz,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),yw=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:v,...y}={},variant:E="selectedMenu",slots:S={},slotProps:w={},...T}=r,C=im(),_={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:c,onEntering:v,PaperProps:f,transitionDuration:g,TransitionProps:y,variant:E},L=Oz(_),D=i&&!a&&h,P=I.useRef(null),N=(H,Q)=>{P.current&&P.current.adjustStyleForScrollbar(H,{direction:C?"rtl":"ltr"}),v&&v(H,Q)},k=H=>{H.key==="Tab"&&(H.preventDefault(),u&&u(H,"tabKeyDown"))};let $=-1;I.Children.map(s,(H,Q)=>{I.isValidElement(H)&&(H.props.disabled||(E==="selectedMenu"&&H.props.selected||$===-1)&&($=Q))});const z=S.paper??$z,j=w.paper??f,q=ia({elementType:S.root,externalSlotProps:w.root,ownerState:_,className:[L.root,o]}),G=ia({elementType:z,externalSlotProps:j,ownerState:_,className:L.paper});return b.jsx(Nz,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Pz:Mz,slots:{paper:z,root:S.root},slotProps:{root:q,paper:G},open:h,ref:n,transitionDuration:g,TransitionProps:{onEntering:N,...y},ownerState:_,...T,classes:p,children:b.jsx(Fz,{onKeyDown:k,actions:P,autoFocus:i&&($===-1||a),autoFocusItem:D,variant:E,...c,className:Ce(L.list,c.className),children:s})})});function Bz(t){return Qe("MuiMenuItem",t)}const Kh=st("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Uz=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},jz=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,c=Ze({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Bz,o);return{...o,...c}},Vz=Ee(ol,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Uz})(pt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Kh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Kh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Kh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Kh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Kh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${E2.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${E2.inset}`]:{marginLeft:52},[`& .${Ju.root}`]:{marginTop:0,marginBottom:0},[`& .${Ju.inset}`]:{paddingLeft:36},[`& .${_2.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${_2.root} svg`]:{fontSize:"1.25rem"}}}]}))),pc=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:f,className:p,...g}=r,v=I.useContext(Zi),y=I.useMemo(()=>({dense:o||v.dense||!1,disableGutters:c}),[v.dense,o,c]),E=I.useRef(null);mi(()=>{i&&E.current&&E.current.focus()},[i]);const S={...r,dense:y.dense,divider:a,disableGutters:c},w=jz(r),T=mn(E,n);let C;return r.disabled||(C=f!==void 0?f:-1),b.jsx(Zi.Provider,{value:y,children:b.jsx(Vz,{ref:T,role:h,tabIndex:C,component:s,focusVisibleClassName:Ce(w.focusVisible,u),className:Ce(w.root,p),...g,ownerState:S,classes:w})})});function Wz(t){return Qe("MuiNativeSelect",t)}const bw=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Hz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ye(n)}`,s&&"iconOpen",r&&"disabled"]};return Ze(a,Wz,e)},m3=Ee("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${bw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Gz=Ee(m3,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ii,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${bw.multiple}`]:e.multiple}]}})({}),g3=Ee("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${bw.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Kz=Ee(g3,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ye(n.variant)}`],n.open&&e.iconOpen]}})({}),zz=I.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:c="standard",...u}=e,h={...e,disabled:i,variant:c,error:s},f=Hz(h);return b.jsxs(I.Fragment,{children:[b.jsx(Gz,{ownerState:h,className:Ce(f.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:b.jsx(Kz,{as:o,ownerState:h,className:f.icon})]})});var L2;const Yz=Ee("fieldset",{shouldForwardProp:Ii})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),qz=Ee("legend",{shouldForwardProp:Ii})(pt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Xz(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",c={...t,notched:s,withLabel:a};return b.jsx(Yz,{"aria-hidden":!0,className:r,ownerState:c,...o,children:b.jsx(qz,{ownerState:c,children:a?b.jsx("span",{children:i}):L2||(L2=b.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Qz=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$H,e);return{...e,...r}},Zz=Ee(yb,{shouldForwardProp:t=>Ii(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gb})(pt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Us.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Us.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Us.focused} .${Us.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Wr()).map(([n])=>({props:{color:n},style:{[`&.${Us.focused} .${Us.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Us.error} .${Us.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Us.disabled} .${Us.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Jz=Ee(Xz,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(pt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),eY=Ee(bb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vb})(pt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Ew=I.forwardRef(function(e,n){var r;const i=Je({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:c,multiline:u=!1,notched:h,slots:f={},type:p="text",...g}=i,v=Qz(i),y=Gd(),E=Hd({props:i,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:y,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:u,size:E.size,type:p},w=f.root??s.Root??Zz,T=f.input??s.Input??eY;return b.jsx(mw,{slots:{root:w,input:T},renderSuffix:C=>b.jsx(Jz,{ownerState:S,className:v.notchedOutline,label:c!=null&&c!==""&&E.required?r||(r=b.jsxs(I.Fragment,{children:[c,"","*"]})):c,notched:typeof h<"u"?h:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:p,...g,classes:{...v,notchedOutline:null}})});Ew.muiName="Input";function v3(t){return Qe("MuiSelect",t)}const zh=st("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var D2;const tY=Ee(m3,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${zh.select}`]:e.select},{[`&.${zh.select}`]:e[n.variant]},{[`&.${zh.error}`]:e.error},{[`&.${zh.multiple}`]:e.multiple}]}})({[`&.${zh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nY=Ee(g3,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ye(n.variant)}`],n.open&&e.iconOpen]}})({}),rY=Ee("input",{shouldForwardProp:t=>jO(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function P2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function iY(t){return t==null||typeof t=="string"&&!t.trim()}const sY=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ye(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,v3,e)},oY=I.forwardRef(function(e,n){var Lt;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:p,error:g=!1,IconComponent:v,inputRef:y,labelId:E,MenuProps:S={},multiple:w,name:T,onBlur:C,onChange:_,onClose:L,onFocus:D,onOpen:P,open:N,readOnly:k,renderValue:$,required:z,SelectDisplayProps:j={},tabIndex:q,type:G,value:H,variant:Q="standard",...W}=e,[V,K]=fS({controlled:H,default:h,name:"Select"}),[B,Z]=fS({controlled:N,default:u,name:"Select"}),ue=I.useRef(null),fe=I.useRef(null),[me,he]=I.useState(null),{current:Te}=I.useRef(N!=null),[_e,Ie]=I.useState(),Pe=mn(n,y),et=I.useCallback(pe=>{fe.current=pe,pe&&he(pe)},[]),Be=me==null?void 0:me.parentNode;I.useImperativeHandle(Pe,()=>({focus:()=>{fe.current.focus()},node:ue.current,value:V}),[V]),I.useEffect(()=>{u&&B&&me&&!Te&&(Ie(o?null:Be.clientWidth),fe.current.focus())},[me,o]),I.useEffect(()=>{s&&fe.current.focus()},[s]),I.useEffect(()=>{if(!E)return;const pe=Lr(fe.current).getElementById(E);if(pe){const we=()=>{getSelection().isCollapsed&&fe.current.focus()};return pe.addEventListener("click",we),()=>{pe.removeEventListener("click",we)}}},[E]);const mt=(pe,we)=>{pe?P&&P(we):L&&L(we),Te||(Ie(o?null:Be.clientWidth),Z(pe))},We=pe=>{pe.button===0&&(pe.preventDefault(),fe.current.focus(),mt(!0,pe))},gt=pe=>{mt(!1,pe)},$t=I.Children.toArray(a),Ye=pe=>{const we=$t.find(qe=>qe.props.value===pe.target.value);we!==void 0&&(K(we.props.value),_&&_(pe,we))},ht=pe=>we=>{let qe;if(we.currentTarget.hasAttribute("tabindex")){if(w){qe=Array.isArray(V)?V.slice():[];const ct=V.indexOf(pe.props.value);ct===-1?qe.push(pe.props.value):qe.splice(ct,1)}else qe=pe.props.value;if(pe.props.onClick&&pe.props.onClick(we),V!==qe&&(K(qe),_)){const ct=we.nativeEvent||we,jt=new ct.constructor(ct.type,ct);Object.defineProperty(jt,"target",{writable:!0,value:{value:qe,name:T}}),_(jt,pe)}w||mt(!1,we)}},Ft=pe=>{k||[" ","ArrowUp","ArrowDown","Enter"].includes(pe.key)&&(pe.preventDefault(),mt(!0,pe))},yt=me!==null&&B,Oe=pe=>{!yt&&C&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:V,name:T}}),C(pe))};delete W["aria-invalid"];let Le,Tn;const Ht=[];let Fn=!1;(oy({value:V})||p)&&($?Le=$(V):Fn=!0);const Wn=$t.map(pe=>{if(!I.isValidElement(pe))return null;let we;if(w){if(!Array.isArray(V))throw new Error(Ao(2));we=V.some(qe=>P2(qe,pe.props.value)),we&&Fn&&Ht.push(pe.props.children)}else we=P2(V,pe.props.value),we&&Fn&&(Tn=pe.props.children);return I.cloneElement(pe,{"aria-selected":we?"true":"false",onClick:ht(pe),onKeyUp:qe=>{qe.key===" "&&qe.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(qe)},role:"option",selected:we,value:void 0,"data-value":pe.props.value})});Fn&&(w?Ht.length===0?Le=null:Le=Ht.reduce((pe,we,qe)=>(pe.push(we),qe<Ht.length-1&&pe.push(", "),pe),[]):Le=Tn);let Ct=_e;!o&&Te&&me&&(Ct=Be.clientWidth);let kt;typeof q<"u"?kt=q:kt=f?null:0;const Rt=j.id||(T?`mui-component-select-${T}`:void 0),bt={...e,variant:Q,value:V,open:yt,error:g},Re=sY(bt),qt={...S.PaperProps,...(Lt=S.slotProps)==null?void 0:Lt.paper},Et=Vd();return b.jsxs(I.Fragment,{children:[b.jsx(tY,{as:"div",ref:et,tabIndex:kt,role:"combobox","aria-controls":yt?Et:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":yt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[E,Rt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":z?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:Ft,onMouseDown:f||k?null:We,onBlur:Oe,onFocus:D,...j,ownerState:bt,className:Ce(j.className,Re.select,c),id:Rt,children:iY(Le)?D2||(D2=b.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Le}),b.jsx(rY,{"aria-invalid":g,value:Array.isArray(V)?V.join(","):V,name:T,ref:ue,"aria-hidden":!0,onChange:Ye,tabIndex:-1,disabled:f,className:Re.nativeInput,autoFocus:s,required:z,...W,ownerState:bt}),b.jsx(nY,{as:v,className:Re.icon,ownerState:bt}),b.jsx(yw,{id:`menu-${T||""}`,anchorEl:Be,open:yt,onClose:gt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,MenuListProps:{"aria-labelledby":E,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Et,...S.MenuListProps},slotProps:{...S.slotProps,paper:{...qt,style:{minWidth:Ct,...qt!=null?qt.style:null}}},children:Wn})]})}),aY=t=>{const{classes:e}=t,r=Ze({root:["root"]},v3,e);return{...e,...r}},xw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ii(t)&&t!=="variant",slot:"Root"},lY=Ee(vw,xw)(""),cY=Ee(Ew,xw)(""),uY=Ee(gw,xw)(""),y3=I.forwardRef(function(e,n){const r=Je({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=BH,id:f,input:p,inputProps:g,label:v,labelId:y,MenuProps:E,multiple:S=!1,native:w=!1,onClose:T,onOpen:C,open:_,renderValue:L,SelectDisplayProps:D,variant:P="outlined",...N}=r,k=w?zz:oY,$=Gd(),z=Hd({props:r,muiFormControl:$,states:["variant","error"]}),j=z.variant||P,q={...r,variant:j,classes:o},G=aY(q),{root:H,...Q}=G,W=p||{standard:b.jsx(lY,{ownerState:q}),outlined:b.jsx(cY,{label:v,ownerState:q}),filled:b.jsx(uY,{ownerState:q})}[j],V=mn(n,hl(W));return b.jsx(I.Fragment,{children:I.cloneElement(W,{inputComponent:k,inputProps:{children:s,error:z.error,IconComponent:h,variant:j,type:void 0,multiple:S,...w?{id:f}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:y,MenuProps:E,onClose:T,onOpen:C,open:_,renderValue:L,SelectDisplayProps:{id:f,...D}},...g,classes:g?xr(Q,g.classes):Q,...p?p.props.inputProps:{}},...(S&&w||u)&&j==="outlined"?{notched:!0}:{},ref:V,className:Ce(W.props.className,a,G.root),...!p&&{variant:j},...N})})});y3.muiName="Select";function dY(t){return Qe("MuiTooltip",t)}const Mn=st("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function hY(t){return Math.round(t*1e5)/1e5}const fY=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${ye(s.split("-")[0])}`],arrow:["arrow"]};return Ze(o,dY,e)},pY=Ee(t3,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(pt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Mn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Mn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Mn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Mn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Mn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Mn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Mn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Mn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),mY=Ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ye(n.placement.split("-")[0])}`]]}})(pt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Dt(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Mn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Mn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Mn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Mn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${hY(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Mn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Mn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Mn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Mn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Mn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Mn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Mn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Mn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Mn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Mn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),gY=Ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(pt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Dt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Ng=!1;const M2=new fb;let Yh={x:0,y:0};function $g(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const vY=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:o,components:a={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:p=!1,disableTouchListener:g=!1,enterDelay:v=100,enterNextDelay:y=0,enterTouchDelay:E=700,followCursor:S=!1,id:w,leaveDelay:T=0,leaveTouchDelay:C=1500,onClose:_,onOpen:L,open:D,placement:P="bottom",PopperComponent:N,PopperProps:k={},slotProps:$={},slots:z={},title:j,TransitionComponent:q,TransitionProps:G,...H}=r,Q=I.isValidElement(s)?s:b.jsx("span",{children:s}),W=Zr(),V=im(),[K,B]=I.useState(),[Z,ue]=I.useState(null),fe=I.useRef(!1),me=p||S,he=hc(),Te=hc(),_e=hc(),Ie=hc(),[Pe,et]=fS({controlled:D,default:!1,name:"Tooltip",state:"open"});let Be=Pe;const mt=Vd(w),We=I.useRef(),gt=Xi(()=>{We.current!==void 0&&(document.body.style.WebkitUserSelect=We.current,We.current=void 0),Ie.clear()});I.useEffect(()=>gt,[gt]);const $t=vt=>{M2.clear(),Ng=!0,et(!0),L&&!Be&&L(vt)},Ye=Xi(vt=>{M2.start(800+T,()=>{Ng=!1}),et(!1),_&&Be&&_(vt),he.start(W.transitions.duration.shortest,()=>{fe.current=!1})}),ht=vt=>{fe.current&&vt.type!=="touchstart"||(K&&K.removeAttribute("title"),Te.clear(),_e.clear(),v||Ng&&y?Te.start(Ng?y:v,()=>{$t(vt)}):$t(vt))},Ft=vt=>{Te.clear(),_e.start(T,()=>{Ye(vt)})},[,yt]=I.useState(!1),Oe=vt=>{Td(vt.target)||(yt(!1),Ft(vt))},Le=vt=>{K||B(vt.currentTarget),Td(vt.target)&&(yt(!0),ht(vt))},Tn=vt=>{fe.current=!0;const zr=Q.props;zr.onTouchStart&&zr.onTouchStart(vt)},Ht=vt=>{Tn(vt),_e.clear(),he.clear(),gt(),We.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ie.start(E,()=>{document.body.style.WebkitUserSelect=We.current,ht(vt)})},Fn=vt=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(vt),gt(),_e.start(C,()=>{Ye(vt)})};I.useEffect(()=>{if(!Be)return;function vt(zr){zr.key==="Escape"&&Ye(zr)}return document.addEventListener("keydown",vt),()=>{document.removeEventListener("keydown",vt)}},[Ye,Be]);const Wn=mn(hl(Q),B,n);!j&&j!==0&&(Be=!1);const Ct=I.useRef(),kt=vt=>{const zr=Q.props;zr.onMouseMove&&zr.onMouseMove(vt),Yh={x:vt.clientX,y:vt.clientY},Ct.current&&Ct.current.update()},Rt={},bt=typeof j=="string";u?(Rt.title=!Be&&bt&&!f?j:null,Rt["aria-describedby"]=Be?mt:null):(Rt["aria-label"]=bt?j:null,Rt["aria-labelledby"]=Be&&!bt?mt:null);const Re={...Rt,...H,...Q.props,className:Ce(H.className,Q.props.className),onTouchStart:Tn,ref:Wn,...S?{onMouseMove:kt}:{}},qt={};g||(Re.onTouchStart=Ht,Re.onTouchEnd=Fn),f||(Re.onMouseOver=$g(ht,Re.onMouseOver),Re.onMouseLeave=$g(Ft,Re.onMouseLeave),me||(qt.onMouseOver=ht,qt.onMouseLeave=Ft)),h||(Re.onFocus=$g(Le,Re.onFocus),Re.onBlur=$g(Oe,Re.onBlur),me||(qt.onFocus=Le,qt.onBlur=Oe));const Et={...r,isRtl:V,arrow:i,disableInteractive:me,placement:P,PopperComponentProp:N,touch:fe.current},Lt=typeof $.popper=="function"?$.popper(Et):$.popper,pe=I.useMemo(()=>{var zr,th;let vt=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return(zr=k.popperOptions)!=null&&zr.modifiers&&(vt=vt.concat(k.popperOptions.modifiers)),(th=Lt==null?void 0:Lt.popperOptions)!=null&&th.modifiers&&(vt=vt.concat(Lt.popperOptions.modifiers)),{...k.popperOptions,...Lt==null?void 0:Lt.popperOptions,modifiers:vt}},[Z,k.popperOptions,Lt==null?void 0:Lt.popperOptions]),we=fY(Et),qe=typeof $.transition=="function"?$.transition(Et):$.transition,ct={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...z},slotProps:{arrow:$.arrow??c.arrow,popper:{...k,...Lt??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...G,...qe??c.transition}}},[jt,Dr]=kn("popper",{elementType:pY,externalForwardedProps:ct,ownerState:Et,className:Ce(we.popper,k==null?void 0:k.className)}),[Pr,ei]=kn("transition",{elementType:ay,externalForwardedProps:ct,ownerState:Et}),[ml,fa]=kn("tooltip",{elementType:mY,className:we.tooltip,externalForwardedProps:ct,ownerState:Et}),[vm,ym]=kn("arrow",{elementType:gY,className:we.arrow,externalForwardedProps:ct,ownerState:Et,ref:ue});return b.jsxs(I.Fragment,{children:[I.cloneElement(Q,Re),b.jsx(jt,{as:N??t3,placement:P,anchorEl:S?{getBoundingClientRect:()=>({top:Yh.y,left:Yh.x,right:Yh.x,bottom:Yh.y,width:0,height:0})}:K,popperRef:Ct,open:K?Be:!1,id:mt,transition:!0,...qt,...Dr,popperOptions:pe,children:({TransitionProps:vt})=>b.jsx(Pr,{timeout:W.transitions.duration.shorter,...vt,...ei,children:b.jsxs(ml,{...fa,children:[j,i?b.jsx(vm,{...ym}):null]})})})]})}),Ds=Aj({createStyledComponent:Ee("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Je({props:t,name:"MuiStack"})});function yY(t){return Qe("MuiTab",t)}const Bi=st("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),bY=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:o,selected:a,disabled:c}=t,u={root:["root",s&&o&&"labelIcon",`textColor${ye(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return Ze(u,yY,e)},EY=Ee(ol,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${ye(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Bi.iconWrapper}`]:e.iconWrapper},{[`& .${Bi.icon}`]:e.icon}]}})(pt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Bi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Bi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Bi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Bi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Bi.selected}`]:{opacity:1},[`&.${Bi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Bi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${Bi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Bi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),qx=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:c,iconPosition:u="top",indicator:h,label:f,onChange:p,onClick:g,onFocus:v,selected:y,selectionFollowsFocus:E,textColor:S="inherit",value:w,wrapped:T=!1,...C}=r,_={...r,disabled:s,disableFocusRipple:o,selected:y,icon:!!c,iconPosition:u,label:!!f,fullWidth:a,textColor:S,wrapped:T},L=bY(_),D=c&&f&&I.isValidElement(c)?I.cloneElement(c,{className:Ce(L.icon,c.props.className)}):c,P=k=>{!y&&p&&p(k,w),g&&g(k)},N=k=>{E&&!y&&p&&p(k,w),v&&v(k)};return b.jsxs(EY,{focusRipple:!o,className:Ce(L.root,i),ref:n,role:"tab","aria-selected":y,disabled:s,onClick:P,onFocus:N,ownerState:_,tabIndex:y?0:-1,...C,children:[u==="top"||u==="start"?b.jsxs(I.Fragment,{children:[D,f]}):b.jsxs(I.Fragment,{children:[f,D]}),h]})});function xY(t){return Qe("MuiToolbar",t)}st("MuiToolbar",["root","gutters","regular","dense"]);const SY=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ze({root:["root",!n&&"gutters",r]},xY,e)},TY=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(pt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),AY=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular",...c}=r,u={...r,component:s,disableGutters:o,variant:a},h=SY(u);return b.jsx(TY,{as:s,className:Ce(h.root,i),ref:n,ownerState:u,...c})}),wY=gn(b.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),_Y=gn(b.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function CY(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function kY(t,e,n,r={},i=()=>{}){const{ease:s=CY,duration:o=300}=r;let a=null;const c=e[t];let u=!1;const h=()=>{u=!0},f=p=>{if(u){i(new Error("Animation cancelled"));return}a===null&&(a=p);const g=Math.min(1,(p-a)/o);if(e[t]=s(g)*(n-c)+c,g>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return c===n?(i(new Error("Element already at target position")),h):(requestAnimationFrame(f),h)}const RY={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function IY(t){const{onChange:e,...n}=t,r=I.useRef(),i=I.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return mi(()=>{const o=rm(()=>{const c=r.current;s(),c!==r.current&&e(r.current)}),a=Ci(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[e]),I.useEffect(()=>{s(),e(r.current)},[e]),b.jsx("div",{style:RY,...n,ref:i})}function LY(t){return Qe("MuiTabScrollButton",t)}const DY=st("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),PY=t=>{const{classes:e,orientation:n,disabled:r}=t;return Ze({root:["root",n,r&&"disabled"]},LY,e)},MY=Ee(ol,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${DY.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),OY=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:o={},direction:a,orientation:c,disabled:u,...h}=r,f=im(),p={isRtl:f,...r},g=PY(p),v=s.StartScrollButtonIcon??wY,y=s.EndScrollButtonIcon??_Y,E=ia({elementType:v,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),S=ia({elementType:y,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return b.jsx(MY,{component:"div",className:Ce(g.root,i),ref:n,role:null,ownerState:p,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?b.jsx(v,{...E}):b.jsx(y,{...S})})});function NY(t){return Qe("MuiTabs",t)}const Xx=st("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),O2=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,N2=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Fg=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},$Y=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:c}=t;return Ze({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},NY,c)},FY=Ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Xx.scrollButtons}`]:e.scrollButtons},{[`& .${Xx.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(pt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Xx.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),BY=Ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),UY=Ee("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),jY=Ee("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(pt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),VY=Ee(IY)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$2={},WY=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTabs"}),i=Zr(),s=im(),{"aria-label":o,"aria-labelledby":a,action:c,centered:u=!1,children:h,className:f,component:p="div",allowScrollButtonsMobile:g=!1,indicatorColor:v="primary",onChange:y,orientation:E="horizontal",ScrollButtonComponent:S=OY,scrollButtons:w="auto",selectionFollowsFocus:T,slots:C={},slotProps:_={},TabIndicatorProps:L={},TabScrollButtonProps:D={},textColor:P="primary",value:N,variant:k="standard",visibleScrollbar:$=!1,...z}=r,j=k==="scrollable",q=E==="vertical",G=q?"scrollTop":"scrollLeft",H=q?"top":"left",Q=q?"bottom":"right",W=q?"clientHeight":"clientWidth",V=q?"height":"width",K={...r,component:p,allowScrollButtonsMobile:g,indicatorColor:v,orientation:E,vertical:q,scrollButtons:w,textColor:P,variant:k,visibleScrollbar:$,fixed:!j,hideScrollbar:j&&!$,scrollableX:j&&!q,scrollableY:j&&q,centered:u&&!j,scrollButtonsHideMobile:!g},B=$Y(K),Z=ia({elementType:C.StartScrollButtonIcon,externalSlotProps:_.startScrollButtonIcon,ownerState:K}),ue=ia({elementType:C.EndScrollButtonIcon,externalSlotProps:_.endScrollButtonIcon,ownerState:K}),[fe,me]=I.useState(!1),[he,Te]=I.useState($2),[_e,Ie]=I.useState(!1),[Pe,et]=I.useState(!1),[Be,mt]=I.useState(!1),[We,gt]=I.useState({overflow:"hidden",scrollbarWidth:0}),$t=new Map,Ye=I.useRef(null),ht=I.useRef(null),Ft=()=>{const pe=Ye.current;let we;if(pe){const ct=pe.getBoundingClientRect();we={clientWidth:pe.clientWidth,scrollLeft:pe.scrollLeft,scrollTop:pe.scrollTop,scrollWidth:pe.scrollWidth,top:ct.top,bottom:ct.bottom,left:ct.left,right:ct.right}}let qe;if(pe&&N!==!1){const ct=ht.current.children;if(ct.length>0){const jt=ct[$t.get(N)];qe=jt?jt.getBoundingClientRect():null}}return{tabsMeta:we,tabMeta:qe}},yt=Xi(()=>{const{tabsMeta:pe,tabMeta:we}=Ft();let qe=0,ct;q?(ct="top",we&&pe&&(qe=we.top-pe.top+pe.scrollTop)):(ct=s?"right":"left",we&&pe&&(qe=(s?-1:1)*(we[ct]-pe[ct]+pe.scrollLeft)));const jt={[ct]:qe,[V]:we?we[V]:0};if(typeof he[ct]!="number"||typeof he[V]!="number")Te(jt);else{const Dr=Math.abs(he[ct]-jt[ct]),Pr=Math.abs(he[V]-jt[V]);(Dr>=1||Pr>=1)&&Te(jt)}}),Oe=(pe,{animation:we=!0}={})=>{we?kY(G,Ye.current,pe,{duration:i.transitions.duration.standard}):Ye.current[G]=pe},Le=pe=>{let we=Ye.current[G];q?we+=pe:we+=pe*(s?-1:1),Oe(we)},Tn=()=>{const pe=Ye.current[W];let we=0;const qe=Array.from(ht.current.children);for(let ct=0;ct<qe.length;ct+=1){const jt=qe[ct];if(we+jt[W]>pe){ct===0&&(we=pe);break}we+=jt[W]}return we},Ht=()=>{Le(-1*Tn())},Fn=()=>{Le(Tn())},Wn=I.useCallback(pe=>{gt({overflow:null,scrollbarWidth:pe})},[]),Ct=()=>{const pe={};pe.scrollbarSizeListener=j?b.jsx(VY,{onChange:Wn,className:Ce(B.scrollableX,B.hideScrollbar)}):null;const qe=j&&(w==="auto"&&(_e||Pe)||w===!0);return pe.scrollButtonStart=qe?b.jsx(S,{slots:{StartScrollButtonIcon:C.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Z},orientation:E,direction:s?"right":"left",onClick:Ht,disabled:!_e,...D,className:Ce(B.scrollButtons,D.className)}):null,pe.scrollButtonEnd=qe?b.jsx(S,{slots:{EndScrollButtonIcon:C.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ue},orientation:E,direction:s?"left":"right",onClick:Fn,disabled:!Pe,...D,className:Ce(B.scrollButtons,D.className)}):null,pe},kt=Xi(pe=>{const{tabsMeta:we,tabMeta:qe}=Ft();if(!(!qe||!we)){if(qe[H]<we[H]){const ct=we[G]+(qe[H]-we[H]);Oe(ct,{animation:pe})}else if(qe[Q]>we[Q]){const ct=we[G]+(qe[Q]-we[Q]);Oe(ct,{animation:pe})}}}),Rt=Xi(()=>{j&&w!==!1&&mt(!Be)});I.useEffect(()=>{const pe=rm(()=>{Ye.current&&yt()});let we;const qe=Dr=>{Dr.forEach(Pr=>{Pr.removedNodes.forEach(ei=>{we==null||we.unobserve(ei)}),Pr.addedNodes.forEach(ei=>{we==null||we.observe(ei)})}),pe(),Rt()},ct=Ci(Ye.current);ct.addEventListener("resize",pe);let jt;return typeof ResizeObserver<"u"&&(we=new ResizeObserver(pe),Array.from(ht.current.children).forEach(Dr=>{we.observe(Dr)})),typeof MutationObserver<"u"&&(jt=new MutationObserver(qe),jt.observe(ht.current,{childList:!0})),()=>{pe.clear(),ct.removeEventListener("resize",pe),jt==null||jt.disconnect(),we==null||we.disconnect()}},[yt,Rt]),I.useEffect(()=>{const pe=Array.from(ht.current.children),we=pe.length;if(typeof IntersectionObserver<"u"&&we>0&&j&&w!==!1){const qe=pe[0],ct=pe[we-1],jt={root:Ye.current,threshold:.99},Dr=fa=>{Ie(!fa[0].isIntersecting)},Pr=new IntersectionObserver(Dr,jt);Pr.observe(qe);const ei=fa=>{et(!fa[0].isIntersecting)},ml=new IntersectionObserver(ei,jt);return ml.observe(ct),()=>{Pr.disconnect(),ml.disconnect()}}},[j,w,Be,h==null?void 0:h.length]),I.useEffect(()=>{me(!0)},[]),I.useEffect(()=>{yt()}),I.useEffect(()=>{kt($2!==he)},[kt,he]),I.useImperativeHandle(c,()=>({updateIndicator:yt,updateScrollButtons:Rt}),[yt,Rt]);const bt=b.jsx(jY,{...L,className:Ce(B.indicator,L.className),ownerState:K,style:{...he,...L.style}});let Re=0;const qt=I.Children.map(h,pe=>{if(!I.isValidElement(pe))return null;const we=pe.props.value===void 0?Re:pe.props.value;$t.set(we,Re);const qe=we===N;return Re+=1,I.cloneElement(pe,{fullWidth:k==="fullWidth",indicator:qe&&!fe&&bt,selected:qe,selectionFollowsFocus:T,onChange:y,textColor:P,value:we,...Re===1&&N===!1&&!pe.props.tabIndex?{tabIndex:0}:{}})}),Et=pe=>{const we=ht.current,qe=Lr(we).activeElement;if(qe.getAttribute("role")!=="tab")return;let jt=E==="horizontal"?"ArrowLeft":"ArrowUp",Dr=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&s&&(jt="ArrowRight",Dr="ArrowLeft"),pe.key){case jt:pe.preventDefault(),Fg(we,qe,N2);break;case Dr:pe.preventDefault(),Fg(we,qe,O2);break;case"Home":pe.preventDefault(),Fg(we,null,O2);break;case"End":pe.preventDefault(),Fg(we,null,N2);break}},Lt=Ct();return b.jsxs(FY,{className:Ce(B.root,f),ownerState:K,ref:n,as:p,...z,children:[Lt.scrollButtonStart,Lt.scrollbarSizeListener,b.jsxs(BY,{className:B.scroller,ownerState:K,style:{overflow:We.overflow,[q?`margin${s?"Left":"Right"}`:"marginBottom"]:$?void 0:-We.scrollbarWidth},ref:Ye,children:[b.jsx(UY,{"aria-label":o,"aria-labelledby":a,"aria-orientation":E==="vertical"?"vertical":null,className:B.flexContainer,ownerState:K,onKeyDown:Et,ref:ht,role:"tablist",children:qt}),fe&&bt]}),Lt.scrollButtonEnd]})});function HY(t){return Qe("MuiTextField",t)}st("MuiTextField",["root"]);const GY={standard:vw,filled:gw,outlined:Ew},KY=t=>{const{classes:e}=t;return Ze({root:["root"]},HY,e)},zY=Ee(SK,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Rs=I.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:c="primary",defaultValue:u,disabled:h=!1,error:f=!1,FormHelperTextProps:p,fullWidth:g=!1,helperText:v,id:y,InputLabelProps:E,inputProps:S,InputProps:w,inputRef:T,label:C,maxRows:_,minRows:L,multiline:D=!1,name:P,onBlur:N,onChange:k,onFocus:$,placeholder:z,required:j=!1,rows:q,select:G=!1,SelectProps:H,slots:Q={},slotProps:W={},type:V,value:K,variant:B="outlined",...Z}=r,ue={...r,autoFocus:s,color:c,disabled:h,error:f,fullWidth:g,multiline:D,required:j,select:G,variant:B},fe=KY(ue),me=Vd(y),he=v&&me?`${me}-helper-text`:void 0,Te=C&&me?`${me}-label`:void 0,_e=GY[B],Ie={slots:Q,slotProps:{input:w,inputLabel:E,htmlInput:S,formHelperText:p,select:H,...W}},Pe={},et=Ie.slotProps.inputLabel;B==="outlined"&&(et&&typeof et.shrink<"u"&&(Pe.notched=et.shrink),Pe.label=C),G&&((!H||!H.native)&&(Pe.id=void 0),Pe["aria-describedby"]=void 0);const[Be,mt]=kn("input",{elementType:_e,externalForwardedProps:Ie,additionalProps:Pe,ownerState:ue}),[We,gt]=kn("inputLabel",{elementType:XK,externalForwardedProps:Ie,ownerState:ue}),[$t,Ye]=kn("htmlInput",{elementType:"input",externalForwardedProps:Ie,ownerState:ue}),[ht,Ft]=kn("formHelperText",{elementType:c3,externalForwardedProps:Ie,ownerState:ue}),[yt,Oe]=kn("select",{elementType:y3,externalForwardedProps:Ie,ownerState:ue}),Le=b.jsx(Be,{"aria-describedby":he,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:g,multiline:D,name:P,rows:q,maxRows:_,minRows:L,type:V,value:K,id:me,inputRef:T,onBlur:N,onChange:k,onFocus:$,placeholder:z,inputProps:Ye,slots:{input:Q.htmlInput?$t:void 0},...mt});return b.jsxs(zY,{className:Ce(fe.root,a),disabled:h,error:f,fullWidth:g,ref:n,required:j,color:c,variant:B,ownerState:ue,...Z,children:[C!=null&&C!==""&&b.jsx(We,{htmlFor:me,id:Te,...gt,children:C}),G?b.jsx(yt,{"aria-describedby":he,id:me,labelId:Te,value:K,input:Le,...Oe,children:o}):Le,v&&b.jsx(ht,{id:he,...Ft,children:v})]})}),YY={typography:{fontFamily:"Roboto, Inter, sans-serif",h1:{fontSize:"2.5rem",fontWeight:900},h2:{fontSize:"2rem",fontWeight:900},h3:{fontSize:"1.75rem",fontWeight:900},h4:{fontSize:"1rem",fontWeight:900},body1:{fontSize:"1rem",lineHeight:1.6},body2:{fontSize:"0.875rem",lineHeight:1.5}},shape:{borderRadius:.35},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}},qY={...YY,palette:{mode:"light",primary:{main:"#333333",light:"#818CF8",dark:"#666666"},secondary:{main:"#10B981",light:"#34D399",dark:"#059669"},error:{main:Bl[500]},background:{default:"#F9FAFB",paper:"#FFFFFF"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:900,borderRadius:2}}},MuiCard:{styleOverrides:{root:{boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:2}}}}},Sw=t=>iV(pb(qY));var qh={},F2;function XY(){if(F2)return qh;F2=1,Object.defineProperty(qh,"__esModule",{value:!0}),qh.parse=o,qh.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const v=new s,y=p.length;if(y<2)return v;const E=(g==null?void 0:g.decode)||h;let S=0;do{const w=p.indexOf("=",S);if(w===-1)break;const T=p.indexOf(";",S),C=T===-1?y:T;if(w>C){S=p.lastIndexOf(";",w-1)+1;continue}const _=a(p,S,w),L=c(p,w,_),D=p.slice(_,L);if(v[D]===void 0){let P=a(p,w+1,C),N=c(p,C,P);const k=E(p.slice(P,N));v[D]=k}S=C+1}while(S<y);return v}function a(p,g,v){do{const y=p.charCodeAt(g);if(y!==32&&y!==9)return g}while(++g<v);return v}function c(p,g,v){for(;g>v;){const y=p.charCodeAt(--g);if(y!==32&&y!==9)return g+1}return v}function u(p,g,v){const y=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=y(g);if(!e.test(E))throw new TypeError(`argument val is invalid: ${g}`);let S=p+"="+E;if(!v)return S;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);S+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);S+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);S+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);S+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(S+="; HttpOnly"),v.secure&&(S+="; Secure"),v.partitioned&&(S+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return S}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return qh}XY();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B2="popstate";function QY(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return kS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xp(i)}return JY(e,n,null,t)}function In(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _o(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZY(){return Math.random().toString(36).substring(2,10)}function U2(t,e){return{usr:t.state,key:t.key,idx:e}}function kS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Kd(e):e,state:n,key:e&&e.key||r||ZY()}}function xp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function JY(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let E=h(),S=E==null?null:E-u;u=E,c&&c({action:a,location:y.location,delta:S})}function p(E,S){a="PUSH";let w=kS(y.location,E,S);u=h()+1;let T=U2(w,u),C=y.createHref(w);try{o.pushState(T,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(C)}s&&c&&c({action:a,location:y.location,delta:1})}function g(E,S){a="REPLACE";let w=kS(y.location,E,S);u=h();let T=U2(w,u),C=y.createHref(w);o.replaceState(T,"",C),s&&c&&c({action:a,location:y.location,delta:0})}function v(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:xp(E);return w=w.replace(/ $/,"%20"),In(S,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,S)}let y={get action(){return a},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(B2,f),c=E,()=>{i.removeEventListener(B2,f),c=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let S=v(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(E){return o.go(E)}};return y}function b3(t,e,n="/"){return eq(t,e,n,!1)}function eq(t,e,n,r){let i=typeof e=="string"?Kd(e):e,s=al(i.pathname||"/",n);if(s==null)return null;let o=E3(t);tq(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=hq(s);a=uq(o[c],u,r)}return a}function E3(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(In(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ta([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(In(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),E3(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:lq(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of x3(s.path))i(s,o,c)}),e}function x3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=x3(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function tq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nq=/^:[\w-]+$/,rq=3,iq=2,sq=1,oq=10,aq=-2,j2=t=>t==="*";function lq(t,e){let n=t.split("/"),r=n.length;return n.some(j2)&&(r+=aq),e&&(r+=iq),n.filter(i=>!j2(i)).reduce((i,s)=>i+(nq.test(s)?rq:s===""?sq:oq),r)}function cq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uq(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ta([s,f.pathname]),pathnameBase:gq(ta([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ta([s,f.pathnameBase]))}return o}function ly(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function dq(t,e=!1,n=!0){_o(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _o(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kd(t):t;return{pathname:n?n.startsWith("/")?n:pq(n,e):e,search:vq(r),hash:yq(i)}}function pq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S3(t){let e=mq(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function T3(t,e,n,r=!1){let i;typeof t=="string"?i=Kd(t):(i={...t},In(!i.pathname||!i.pathname.includes("?"),Qx("?","pathname","search",i)),In(!i.pathname||!i.pathname.includes("#"),Qx("#","pathname","hash",i)),In(!i.search||!i.search.includes("#"),Qx("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=fq(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var ta=t=>t.join("/").replace(/\/\/+/g,"/"),gq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var A3=["POST","PUT","PATCH","DELETE"];new Set(A3);var Eq=["GET",...A3];new Set(Eq);var zd=I.createContext(null);zd.displayName="DataRouter";var Eb=I.createContext(null);Eb.displayName="DataRouterState";var w3=I.createContext({isTransitioning:!1});w3.displayName="ViewTransition";var xq=I.createContext(new Map);xq.displayName="Fetchers";var Sq=I.createContext(null);Sq.displayName="Await";var ko=I.createContext(null);ko.displayName="Navigation";var lm=I.createContext(null);lm.displayName="Location";var la=I.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var Tw=I.createContext(null);Tw.displayName="RouteError";function Tq(t,{relative:e}={}){In(cm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(ko),{hash:i,pathname:s,search:o}=um(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:ta([n,s])),r.createHref({pathname:a,search:o,hash:i})}function cm(){return I.useContext(lm)!=null}function Vc(){return In(cm(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(lm).location}var _3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C3(t){I.useContext(ko).static||I.useLayoutEffect(t)}function Aq(){let{isDataRoute:t}=I.useContext(la);return t?$q():wq()}function wq(){In(cm(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(zd),{basename:e,navigator:n}=I.useContext(ko),{matches:r}=I.useContext(la),{pathname:i}=Vc(),s=JSON.stringify(S3(r)),o=I.useRef(!1);return C3(()=>{o.current=!0}),I.useCallback((c,u={})=>{if(_o(o.current,_3),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=T3(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ta([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}I.createContext(null);function um(t,{relative:e}={}){let{matches:n}=I.useContext(la),{pathname:r}=Vc(),i=JSON.stringify(S3(n));return I.useMemo(()=>T3(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _q(t,e){return k3(t,e)}function k3(t,e,n,r){var w;In(cm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=I.useContext(ko),{matches:o}=I.useContext(la),a=o[o.length-1],c=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let T=f&&f.path||"";R3(u,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Vc(),g;if(e){let T=typeof e=="string"?Kd(e):e;In(h==="/"||((w=T.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),g=T}else g=p;let v=g.pathname||"/",y=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=!s&&n&&n.matches&&n.matches.length>0?n.matches:b3(t,{pathname:y});_o(f||E!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),_o(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Lq(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:ta([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:ta([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&S?I.createElement(lm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function Cq(){let t=Nq(),e=bq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}var kq=I.createElement(Cq,null),Rq=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(la.Provider,{value:this.props.routeContext},I.createElement(Tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iq({routeContext:t,match:e,children:n}){let r=I.useContext(zd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(la.Provider,{value:t},n)}function Lq(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);In(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:h,errors:f}=n,p=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,h)=>{let f,p=!1,g=null,v=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||kq,o&&(a<0&&h===0?(R3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):a===h&&(p=!0,v=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,h+1)),E=()=>{let S;return f?S=g:p?S=v:u.route.Component?S=I.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=c,I.createElement(Iq,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:S})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?I.createElement(Rq,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):E()},null)}function Aw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dq(t){let e=I.useContext(zd);return In(e,Aw(t)),e}function Pq(t){let e=I.useContext(Eb);return In(e,Aw(t)),e}function Mq(t){let e=I.useContext(la);return In(e,Aw(t)),e}function ww(t){let e=Mq(t),n=e.matches[e.matches.length-1];return In(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Oq(){return ww("useRouteId")}function Nq(){var r;let t=I.useContext(Tw),e=Pq("useRouteError"),n=ww("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function $q(){let{router:t}=Dq("useNavigate"),e=ww("useNavigate"),n=I.useRef(!1);return C3(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{_o(n.current,_3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var V2={};function R3(t,e,n){!e&&!V2[t]&&(V2[t]=!0,_o(!1,n))}I.memo(Fq);function Fq({routes:t,future:e,state:n}){return k3(t,void 0,n,e)}function I3(t){In(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bq({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){In(!cm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Kd(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=n,g=I.useMemo(()=>{let v=al(c,o);return v==null?null:{location:{pathname:v,search:u,hash:h,state:f,key:p},navigationType:r}},[o,c,u,h,f,p,r]);return _o(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:I.createElement(ko.Provider,{value:a},I.createElement(lm.Provider,{children:e,value:g}))}function Uq({children:t,location:e}){return _q(RS(t),e)}function RS(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,RS(r.props.children,s));return}In(r.type===I3,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),In(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=RS(r.props.children,s)),n.push(o)}),n}var L0="get",D0="application/x-www-form-urlencoded";function xb(t){return t!=null&&typeof t.tagName=="string"}function jq(t){return xb(t)&&t.tagName.toLowerCase()==="button"}function Vq(t){return xb(t)&&t.tagName.toLowerCase()==="form"}function Wq(t){return xb(t)&&t.tagName.toLowerCase()==="input"}function Hq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gq(t,e){return t.button===0&&(!e||e==="_self")&&!Hq(t)}var Bg=null;function Kq(){if(Bg===null)try{new FormData(document.createElement("form"),0),Bg=!1}catch{Bg=!0}return Bg}var zq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zx(t){return t!=null&&!zq.has(t)?(_o(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${D0}"`),null):t}function Yq(t,e){let n,r,i,s,o;if(Vq(t)){let a=t.getAttribute("action");r=a?al(a,e):null,n=t.getAttribute("method")||L0,i=Zx(t.getAttribute("enctype"))||D0,s=new FormData(t)}else if(jq(t)||Wq(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?al(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||L0,i=Zx(t.getAttribute("formenctype"))||Zx(a.getAttribute("enctype"))||D0,s=new FormData(a,t),!Kq()){let{name:u,type:h,value:f}=t;if(h==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(xb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=L0,r=null,i=D0,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function _w(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function qq(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Qq(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await qq(s,n);return o.links?o.links():[]}return[]}));return tX(r.flat(1).filter(Xq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function W2(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Zq(t,e){return Jq(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Jq(t){return[...new Set(t)]}function eX(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tX(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(eX(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function nX(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rX(){let t=I.useContext(zd);return _w(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iX(){let t=I.useContext(Eb);return _w(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cw=I.createContext(void 0);Cw.displayName="FrameworkContext";function L3(){let t=I.useContext(Cw);return _w(t,"You must render this element inside a <HydratedRouter> element"),t}function sX(t,e){let n=I.useContext(Cw),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,p=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=S=>{S.forEach(w=>{o(w.isIntersecting)})},E=new IntersectionObserver(y,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[t]),I.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Xh(a,g),onBlur:Xh(c,v),onMouseEnter:Xh(u,g),onMouseLeave:Xh(h,v),onTouchStart:Xh(f,g)}]:[!1,p,{}]}function Xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oX({page:t,...e}){let{router:n}=rX(),r=I.useMemo(()=>b3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(lX,{page:t,matches:r,...e}):null}function aX(t){let{manifest:e,routeModules:n}=L3(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return Qq(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function lX({page:t,matches:e,...n}){let r=Vc(),{manifest:i,routeModules:s}=L3(),{loaderData:o,matches:a}=iX(),c=I.useMemo(()=>W2(t,e,a,i,r,"data"),[t,e,a,i,r]),u=I.useMemo(()=>W2(t,e,a,i,r,"assets"),[t,e,a,i,r]),h=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(E=>{var w;let S=i.routes[E.route.id];!S||!S.hasLoader||(!c.some(T=>T.route.id===E.route.id)&&E.route.id in o&&((w=s[E.route.id])!=null&&w.shouldRevalidate)||S.hasClientLoader?v=!0:g.add(E.route.id))}),g.size===0)return[];let y=nX(t);return v&&g.size>0&&y.searchParams.set("_routes",e.filter(E=>g.has(E.route.id)).map(E=>E.route.id).join(",")),[y.pathname+y.search]},[o,r,i,c,e,t,s]),f=I.useMemo(()=>Zq(u,i),[u,i]),p=aX(u);return I.createElement(I.Fragment,null,h.map(g=>I.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>I.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:v})=>I.createElement("link",{key:g,...v})))}function cX(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D3&&(window.__reactRouterVersion="7.1.5")}catch{}function uX({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=QY({window:n,v5Compat:!0}));let i=r.current,[s,o]=I.useState({action:i.action,location:i.location}),a=I.useCallback(c=>{I.startTransition(()=>o(c))},[o]);return I.useLayoutEffect(()=>i.listen(a),[i,a]),I.createElement(Bq,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var P3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M3=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f,...p},g){let{basename:v}=I.useContext(ko),y=typeof u=="string"&&P3.test(u),E,S=!1;if(typeof u=="string"&&y&&(E=u,D3))try{let N=new URL(window.location.href),k=u.startsWith("//")?new URL(N.protocol+u):new URL(u),$=al(k.pathname,v);k.origin===N.origin&&$!=null?u=$+k.search+k.hash:S=!0}catch{_o(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Tq(u,{relative:i}),[T,C,_]=sX(r,p),L=pX(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:f});function D(N){e&&e(N),N.defaultPrevented||L(N)}let P=I.createElement("a",{...p,..._,href:E||w,onClick:S||s?e:D,ref:cX(g,C),target:c,"data-discover":!y&&n==="render"?"true":void 0});return T&&!y?I.createElement(I.Fragment,null,P,I.createElement(oX,{page:w})):P});M3.displayName="Link";var dX=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},h){let f=um(o,{relative:u.relative}),p=Vc(),g=I.useContext(Eb),{navigator:v,basename:y}=I.useContext(ko),E=g!=null&&bX(f)&&a===!0,S=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=p.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(w=w.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&y&&(T=al(T,y)||T);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let _=w===S||!i&&w.startsWith(S)&&w.charAt(C)==="/",L=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),D={isActive:_,isPending:L,isTransitioning:E},P=_?e:void 0,N;typeof r=="function"?N=r(D):N=[r,_?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(D):s;return I.createElement(M3,{...u,"aria-current":P,className:N,ref:h,style:k,to:o,viewTransition:a},typeof c=="function"?c(D):c)});dX.displayName="NavLink";var hX=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=L0,action:a,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...p},g)=>{let v=vX(),y=yX(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&P3.test(a),w=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let C=T.nativeEvent.submitter,_=(C==null?void 0:C.getAttribute("formmethod"))||o;v(C||T.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:f})};return I.createElement("form",{ref:g,method:E,action:y,onSubmit:r?c:w,...p,"data-discover":!S&&t==="render"?"true":void 0})});hX.displayName="Form";function fX(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O3(t){let e=I.useContext(zd);return In(e,fX(t)),e}function pX(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Aq(),c=Vc(),u=um(t,{relative:s});return I.useCallback(h=>{if(Gq(h,e)){h.preventDefault();let f=n!==void 0?n:xp(c)===xp(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,e,t,i,s,o])}var mX=0,gX=()=>`__${String(++mX)}__`;function vX(){let{router:t}=O3("useSubmit"),{basename:e}=I.useContext(ko),n=Oq();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=Yq(r,e);if(i.navigate===!1){let h=i.fetcherKey||gX();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function yX(t,{relative:e}={}){let{basename:n}=I.useContext(ko),r=I.useContext(la);In(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...um(t||".",{relative:e})},o=Vc();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ta([n,s.pathname])),xp(s)}function bX(t,e={}){let n=I.useContext(w3);In(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O3("useViewTransitionState"),i=um(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=al(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=al(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ly(i.pathname,o)!=null||ly(i.pathname,s)!=null}new TextEncoder;const H2=t=>{let e;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(g=>g(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(r,i,a);return a},EX=t=>t?H2(t):H2,xX=t=>t;function SX(t,e=xX){const n=br.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return br.useDebugValue(n),n}const TX=t=>{const e=EX(t),n=r=>SX(e,r);return Object.assign(n,e),n},AX=t=>TX,wX=t=>({activeTab:"feed",showAICoach:!1,dashboardOpen:!1,profileOpen:!1,settingsOpen:!1,showMediaDialog:!1,showAnalysisDialog:!1,showImprovementsDialog:!1,showTeamFeedbackDialog:!1,showCompetitionDialog:!1,isVersionsDialogOpen:!1,isLoading:!1,error:null,submissionDashboardOpen:!1,submissionFormOpen:!1,setSubmissionDashboardOpen:e=>t({submissionDashboardOpen:e}),setSubmissionFormOpen:e=>t({submissionFormOpen:e}),setActiveTab:e=>t({activeTab:e}),toggleAICoach:()=>t(e=>({showAICoach:!e.showAICoach})),setDashboardOpen:e=>t({dashboardOpen:e}),setProfileOpen:e=>t({profileOpen:e}),setSettingsOpen:e=>t({settingsOpen:e}),setShowMediaDialog:e=>t({showMediaDialog:e}),setShowAnalysisDialog:e=>t({showAnalysisDialog:e}),setShowImprovementsDialog:e=>t({showImprovementsDialog:e}),setShowTeamFeedbackDialog:e=>t({showTeamFeedbackDialog:e}),setShowCompetitionDialog:e=>t({showCompetitionDialog:e}),setVersionsDialogOpen:e=>t({isVersionsDialogOpen:e}),setLoading:e=>t({isLoading:e}),setError:e=>t({error:e})}),Ug={pitch1:{id:"pitch1",title:"RadiantHue Initial Pitch",description:"Beauty industry startup pitch focusing on inclusivity",playbackId:"v3Y602TiLPaUfsZN9VfumowhaC3IWCA200tCMWvg2AkPo",score:75,transcript:"Hi, I'm Harper Lewis, founder of Radiant Hue...",videoUrl:"https://stream.mux.com/v3Y602TiLPaUfsZN9VfumowhaC3IWCA200tCMWvg2AkPo/high.mp4",isPortrait:!1,metrics:{clarity:78,engagement:72,pacing:80,structure:70},createdAt:"2025-02-19T10:00:00Z",updatedAt:"2025-02-19T10:00:00Z",timestamp:"2025-02-19T10:00:00Z",aiCoachSummary:"Good initial pitch with clear value proposition. Consider improving pacing.",likes:5,comments:[],history:[],isPublic:!0,isDeleted:!1,isFlagged:!1,isReviewed:!0}};class _X{async getCompetitions(){return Promise.resolve(CX)}async getPitchesMock(){return Promise.resolve(Ug)}async analyzePitch(e){return Promise.resolve({id:`analysis_${e}`,pitchId:e,metrics:{clarity:85,engagement:78,pacing:92,structure:88},transcript:"Sample pitch transcript...",aiSummary:"AI-generated summary of the pitch...",createdAt:new Date().toISOString()})}async updatePitch(e,n){const r=Ug[e],i={...r,...n,id:e,updatedAt:new Date().toISOString(),metrics:{...r==null?void 0:r.metrics,...n.metrics}};return Ug[e]=i,Promise.resolve(i)}async createPitch(e){const n=`pitch_${Date.now()}`,r=new Date().toISOString(),i={id:n,title:e.title||"Untitled Pitch",description:e.description||"",playbackId:e.playbackId||"",score:0,transcript:"",videoUrl:e.videoUrl||"",isPortrait:e.isPortrait||!1,metrics:{clarity:0,engagement:0,pacing:0,structure:0},createdAt:r,updatedAt:r,aiCoachSummary:"",likes:0,comments:[],history:[],isPublic:!1,isDeleted:!1,isFlagged:!1,isReviewed:!1,timestamp:r,...e};return Ug[n]=i,Promise.resolve(i)}async getCurrentUser(){return Promise.resolve({id:"user1",name:"Harper Lewis",email:"harper@example.com",avatar:"/api/placeholder/32/32"})}}const CX=[{id:"1",title:"Weekly Pitch Challenge",description:"Compete in this week's exciting competition!",startDate:"2025-02-20T00:00:00Z",endDate:"2025-02-27T00:00:00Z",prize:"$500",status:"active",participants:25,submissions:[],name:"Weekly Challenge",date:"2025-02-20"}],G2=new _X,kX=(t,e)=>({pitches:{},selectedPitch:null,activePitchVersion:0,pitchAnalyses:{},fetchPitches:async()=>{try{const n=await G2.getPitchesMock();t({pitches:n})}catch(n){console.error("Error fetching pitches:",n)}},fetchPitchAnalysis:async n=>{try{const r=await G2.analyzePitch(n);t(i=>{var s,o,a,c;return{pitchAnalyses:{...i.pitchAnalyses,[n]:{...r,analysis:r.aiSummary||"No analysis available",score:((((s=r.metrics)==null?void 0:s.clarity)||0)+(((o=r.metrics)==null?void 0:o.engagement)||0)+(((a=r.metrics)==null?void 0:a.pacing)||0)+(((c=r.metrics)==null?void 0:c.structure)||0))/4}}}})}catch(r){console.error(`Error fetching pitch analysis for ${n}:`,r)}},updatePitch:async(n,r)=>{try{const s={...e().pitches};s[n]&&(s[n]={...s[n],...r}),t({pitches:s})}catch(i){console.error(`Error updating pitch ${n}:`,i)}},addPitch:n=>t(r=>({pitches:{...r.pitches,[n.id]:n}})),selectPitch:n=>{if(!n){t({selectedPitch:null});return}const i=e().pitches[n];if(!i){console.error(`Pitch ID ${n} not found.`);return}t({selectedPitch:i})},setActivePitchVersion:n=>t({activePitchVersion:n})}),RX=(t,e)=>({messages:[],coachMessages:[],setMessages:n=>t({messages:n}),addMessage:n=>t(r=>({messages:[...r.messages,n]})),setCoachMessages:n=>t({coachMessages:n}),addCoachMessage:n=>t(r=>({coachMessages:[...r.coachMessages,n]})),getMessagesForPitch:n=>e().messages.filter(i=>i.pitchId===n)}),IX=(t,e)=>({submissions:{},selectedSubmission:null,submissionDetailOpen:!1,submissionSuccessOpen:!1,submissionFormOpen:!1,submissionDashboardOpen:!1,fetchSubmissions:async n=>{try{const i=[].reduce((s,o)=>(s[o.id]=o,s),{});t({submissions:i})}catch(r){console.error("Error fetching submissions:",r)}},submitToCompetition:async(n,r)=>{try{const i={id:Date.now().toString(),competitionId:n,name:r.title,competitionName:"Competition Name",description:r.description,date:new Date().toISOString(),status:"submitted",teamSize:r.team.length,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),video:{url:r.videoPreview||"",thumbnailUrl:r.videoPreview,duration:0},documents:[],team:r.team};return t(s=>({submissions:{...s.submissions,[i.id]:i},selectedSubmission:i,submissionSuccessOpen:!0})),Promise.resolve()}catch(i){throw console.error("Error submitting to competition:",i),i}},updateSubmission:async(n,r)=>{try{const i=e();if(!i.submissions[n])throw new Error(`Submission ${n} not found`);const s={...i.submissions[n],...r,updatedAt:new Date().toISOString()};return t(o=>{var a;return{submissions:{...o.submissions,[n]:s},selectedSubmission:((a=o.selectedSubmission)==null?void 0:a.id)===n?s:o.selectedSubmission}}),Promise.resolve()}catch(i){throw console.error(`Error updating submission ${n}:`,i),i}},deleteSubmission:async n=>{var r;try{const i=e(),{[n]:s,...o}=i.submissions;return t({submissions:o,selectedSubmission:((r=i.selectedSubmission)==null?void 0:r.id)===n?null:i.selectedSubmission}),Promise.resolve()}catch(i){throw console.error(`Error deleting submission ${n}:`,i),i}},setSelectedSubmission:n=>t({selectedSubmission:n}),setSubmissionDetailOpen:n=>t({submissionDetailOpen:n}),setSubmissionSuccessOpen:n=>t({submissionSuccessOpen:n}),setSubmissionFormOpen:n=>t({submissionFormOpen:n}),setSubmissionDashboardOpen:n=>t({submissionDashboardOpen:n})}),Yd=AX()((...t)=>({...wX(...t),...kX(...t),...RX(...t),...IX(...t)})),LX="pitch_versions",DX=()=>{const t=localStorage.getItem(LX),e=t?JSON.parse(t):[];return console.log(" Retrieved Pitch Versions from Storage:",e),e},PX=()=>{const t=DX(),e=t.length>1?t[t.length-2]:null;return console.log(" Last Pitch Version Retrieved:",e),e};function MX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Zo(){try{return crypto.randomUUID()}catch{return MX()}}const OX=(t,e,n,r)=>{console.log(" VideoProcessor - Processing video:",{fileUrl:t,isPortrait:e}),new Date().toLocaleTimeString(),PX();const i=Date.now().toString();new Date().toISOString(),n({id:Zo(),sender:"coach",timestamp:new Date,pitchId:i,content:"Thank you! Give me a minute while I analyze your video...",text:"Thank you! Give me a minute while I analyze your video...",fromAI:!0}),setTimeout(()=>{n({id:Zo(),sender:"coach",parentId:i,timestamp:new Date,quickReplies:["See Analysis","Upload New Version","Get Team Feedback"],pitchId:i,content:`Here's a quick summary of your video:
Duration: 2 min 15 sec
Clarity: Well-spoken
Pacing: Slightly rushed
Engagement: Good energy

Would you like help improving your pitch?`,text:`Here's a quick summary of your video:
Duration: 2 min 15 sec
Clarity: Well-spoken
Pacing: Slightly rushed
Engagement: Good energy

Would you like help improving your pitch?`,fromAI:!0})},4500)},N3=({fileUrl:t,isPortrait:e,setMessages:n,isVersionUpload:r})=>{console.log(" VideoUploadHandler - Received video:",{fileUrl:t,isPortrait:e});const i={id:Zo(),sender:"user",content:t,timestamp:new Date,pitchId:Date.now().toString(),fromAI:!1,isVideo:!0};n(i),OX(t,e,n)},NX=()=>{const[t,e]=I.useState(null),{addMessage:n,setDashboardOpen:r,setProfileOpen:i,setSettingsOpen:s,setShowMediaDialog:o,setShowCompetitionDialog:a,setVersionsDialogOpen:c,profileOpen:u,settingsOpen:h,showMediaDialog:f,showCompetitionDialog:p,isVersionsDialogOpen:g,submissionDashboardOpen:v,setSubmissionDashboardOpen:y}=Yd(),E=I.useCallback(_=>{e(_.currentTarget)},[]),S=I.useCallback(()=>{e(null)},[]),w=I.useCallback((_,L)=>{console.log(" AppShell - Handling video upload",{fileUrl:_,isPortrait:L}),N3({fileUrl:_,isPortrait:L,setMessages:n,isVersionUpload:!1}),o(!1)},[n,o]),T=I.useCallback(_=>{switch(_){case"openMediaDialog":o(!0);break;case"openCompetitionHub":a(!0);break;case"openDashboard":a(!1),r(!0);break;case"openProfile":i(!0);break;case"openPitchVersions":c(!0);break}},[o,a,r,i,c]),C=I.useCallback(_=>{_==="competition"?(y(!1),a(!0)):(a(!1),y(!0))},[r,a]);return{dialogs:{submissionDashboard:{isOpen:v,setOpen:y},dashboard:{isOpen:v,setOpen:y},profile:{isOpen:u,setOpen:i},settings:{isOpen:h,setOpen:s},media:{isOpen:f,setOpen:o},competition:{isOpen:p,setOpen:a},versions:{isOpen:g,setOpen:c}},addMessage:n,handleSendVideo:w,handleProfileClick:E,handleMenuClose:S,handleCommand:T,handleCompetitionNavigation:C,anchorEl:t}},$X="data:image/svg+xml,%3csvg%20width='57'%20height='59'%20viewBox='0%200%2057%2059'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cellipse%20opacity='0.3'%20cx='31'%20cy='50'%20rx='13'%20ry='2'%20fill='url(%23paint0_radial_516_89)'/%3e%3crect%20x='10'%20y='9'%20width='40'%20height='40'%20rx='20'%20fill='%238CD0FF'/%3e%3crect%20x='10'%20y='9'%20width='40'%20height='40'%20rx='20'%20fill='url(%23paint1_radial_516_89)'%20fill-opacity='0.3'%20style='mix-blend-mode:multiply'/%3e%3cellipse%20cx='25.5'%20cy='25.4963'%20rx='13.5'%20ry='14.5'%20fill='url(%23paint2_radial_516_89)'%20style='mix-blend-mode:lighten'/%3e%3cg%20filter='url(%23filter0_d_516_89)'%3e%3cpath%20d='M33.08%2026.624C33.016%2026.192%2032.872%2025.8%2032.648%2025.448C32.424%2025.08%2032.144%2024.76%2031.808%2024.488C31.472%2024.216%2031.088%2024.008%2030.656%2023.864C30.24%2023.704%2029.8%2023.624%2029.336%2023.624C28.488%2023.624%2027.768%2023.792%2027.176%2024.128C26.584%2024.448%2026.104%2024.888%2025.736%2025.448C25.368%2025.992%2025.096%2026.616%2024.92%2027.32C24.76%2028.024%2024.68%2028.752%2024.68%2029.504C24.68%2030.224%2024.76%2030.928%2024.92%2031.616C25.096%2032.288%2025.368%2032.896%2025.736%2033.44C26.104%2033.984%2026.584%2034.424%2027.176%2034.76C27.768%2035.08%2028.488%2035.24%2029.336%2035.24C30.488%2035.24%2031.384%2034.888%2032.024%2034.184C32.68%2033.48%2033.08%2032.552%2033.224%2031.4H36.872C36.776%2032.472%2036.528%2033.44%2036.128%2034.304C35.728%2035.168%2035.2%2035.904%2034.544%2036.512C33.888%2037.12%2033.12%2037.584%2032.24%2037.904C31.36%2038.224%2030.392%2038.384%2029.336%2038.384C28.024%2038.384%2026.84%2038.16%2025.784%2037.712C24.744%2037.248%2023.864%2036.616%2023.144%2035.816C22.424%2035.016%2021.872%2034.08%2021.488%2033.008C21.104%2031.92%2020.912%2030.752%2020.912%2029.504C20.912%2028.224%2021.104%2027.04%2021.488%2025.952C21.872%2024.848%2022.424%2023.888%2023.144%2023.072C23.864%2022.256%2024.744%2021.616%2025.784%2021.152C26.84%2020.688%2028.024%2020.456%2029.336%2020.456C30.28%2020.456%2031.168%2020.592%2032%2020.864C32.848%2021.136%2033.6%2021.536%2034.256%2022.064C34.928%2022.576%2035.48%2023.216%2035.912%2023.984C36.344%2024.752%2036.616%2025.632%2036.728%2026.624H33.08Z'%20fill='%231F5F89'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_516_89'%20x='0.912109'%20y='0.455994'%20width='55.96'%20height='57.928'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset/%3e%3cfeGaussianBlur%20stdDeviation='10'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%201%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_516_89'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_516_89'%20result='shape'/%3e%3c/filter%3e%3cradialGradient%20id='paint0_radial_516_89'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(31%2050)%20rotate(90)%20scale(2%2013)'%3e%3cstop%20stop-opacity='0.9'/%3e%3cstop%20offset='0.528864'%20stop-opacity='0.424022'/%3e%3cstop%20offset='0.778864'%20stop-opacity='0.199022'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint1_radial_516_89'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(29%2027.9963)%20rotate(-163.009)%20scale(18.8215)'%3e%3cstop%20stop-color='%23005996'/%3e%3cstop%20offset='0.617647'%20stop-color='%23AFCBDE'/%3e%3cstop%20offset='1'%20stop-color='%23005996'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint2_radial_516_89'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(25.5%2025.4963)%20rotate(90)%20scale(14.5%2013.5)'%3e%3cstop%20stop-color='white'%20stop-opacity='0.9'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e",FX=({message:t,onQuickReply:e})=>{const n=t.sender==="coach",r=i=>i.startsWith("blob:");return b.jsxs(ie,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-end",gap:1.5,mb:6,maxWidth:"100%"},children:[b.jsx(Qr,{sx:{bgcolor:n?"transparent":"#0090f2",width:40,height:40,fontSize:n?"inherit":"1rem",fontWeight:n?"inherit":900,p:n?0:void 0,"& svg":{width:"100%",height:"100%"}},children:n?b.jsx("img",{src:$X,alt:"Coach Avatar"}):"HL"}),b.jsxs(ie,{sx:{position:"relative",maxWidth:"85%",bgcolor:n?"#efefef":"#002b49",borderRadius:48,p:2,"&::before":{content:'""',position:"absolute",left:-10,bottom:8,width:0,height:0,borderStyle:"solid",borderWidth:"6px 14px 6px 0",borderColor:`transparent ${n?"#efefef":"#002b49"} transparent transparent`}},children:[r(t.content)?b.jsx(ie,{sx:{width:"100%",maxWidth:"560px",marginBottom:2},children:b.jsxs("video",{controls:!0,style:{width:"100%",borderRadius:"8px"},children:[b.jsx("source",{src:t.content,type:"video/mp4"}),"Your browser does not support video playback."]})}):b.jsx(ce,{variant:"body1",sx:{color:n?"#333":"#fff",whiteSpace:"pre-wrap"},children:t.content}),n&&t.quickReplies&&t.quickReplies.length>0&&b.jsx(ie,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:2},children:t.quickReplies.map((i,s)=>b.jsx(St,{variant:"contained",size:"small",onClick:()=>e==null?void 0:e(i),sx:{borderRadius:12,bgcolor:"#0090f2",color:"#fff","&:hover":{bgcolor:"#002b49",color:"white"}},children:i},s))}),b.jsx(ce,{variant:"caption",sx:{position:"absolute",bottom:-20,left:8,color:"text.secondary"},children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},is=gn(b.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),BX=()=>{const[t]=I.useState(!1);return b.jsx("div",{className:"w-full h-full relative",children:b.jsxs("svg",{viewBox:"0 0 120 120",className:"w-full h-full",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"avatarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[b.jsx("stop",{offset:"0%",style:{stopColor:"#4F46E5",stopOpacity:1}}),b.jsx("stop",{offset:"100%",style:{stopColor:"#0090fc",stopOpacity:1}})]}),b.jsxs("radialGradient",{id:"sphereHighlight",cx:"30%",cy:"30%",r:"70%",children:[b.jsx("stop",{offset:"0%",style:{stopColor:"white",stopOpacity:.4}}),b.jsx("stop",{offset:"50%",style:{stopColor:"white",stopOpacity:.1}}),b.jsx("stop",{offset:"100%",style:{stopColor:"white",stopOpacity:0}})]}),b.jsxs("linearGradient",{id:"edgeHighlight",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",style:{stopColor:"white",stopOpacity:.2}}),b.jsx("stop",{offset:"15%",style:{stopColor:"white",stopOpacity:0}}),b.jsx("stop",{offset:"85%",style:{stopColor:"white",stopOpacity:0}}),b.jsx("stop",{offset:"100%",style:{stopColor:"white",stopOpacity:.2}})]}),b.jsx("filter",{id:"shadowBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:b.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3"})}),b.jsxs("filter",{id:"glow",children:[b.jsx("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),b.jsxs("feMerge",{children:[b.jsx("feMergeNode",{in:"coloredBlur"}),b.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),b.jsxs("g",{transform:"translate(0, -1)",children:[b.jsx("ellipse",{cx:"45",cy:"92",rx:"28",ry:"6",fill:"black",opacity:"0.32",filter:"url(#shadowBlur)"}),b.jsxs("g",{children:[b.jsx("circle",{cx:"45",cy:"45",r:"43",fill:"url(#avatarGradient)",className:`transition-all duration-1000 ${t?"opacity-90":"opacity-100"}`}),b.jsxs("circle",{cx:"95",cy:"50",r:"8",fill:"#f9d800",opacity:"0.5",className:"animate-pulse",children:[b.jsx("circle",{cx:"45",cy:"45",r:"45",fill:"url(#sphereHighlight)"}),b.jsx("circle",{cx:"45",cy:"45",r:"45",fill:"url(#edgeHighlight)"}),b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 45 45",to:"360 45 45",dur:"15s",repeatCount:"indefinite"})]}),b.jsxs("g",{children:[b.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 45 45",to:"360 45 45",dur:"7s",repeatCount:"indefinite"}),b.jsx("circle",{cx:"50",cy:"50",r:"2.4",fill:"#16d335",filter:"url(#glow)",className:"animate-pulse",style:{animationDuration:"3s"}}),[0,120,240].map((e,n)=>b.jsxs("g",{children:[b.jsx("line",{x1:"50",y1:"50 ",x2:"50",y2:"20",stroke:"#16d335",strokeWidth:".5",opacity:"0.5",transform:`rotate(${e} 50 50)`}),b.jsx("circle",{cx:"50",cy:"20",r:n===0?5:n===1?3:8,fill:"#16d335",transform:`rotate(${e} 50 50)`,className:"animate-pulse",style:{animationDuration:`${.5+n}s`},children:b.jsx("animate",{attributeName:"opacity",values:`${n%2===0?"0.7;0.3;0.9":"0.1;0.5;0.7"}`,dur:`${1+n}s`,repeatCount:"indefinite"})})]},n))]})]})]})]})})},UX=()=>({clarity:Math.floor(Math.random()*31)+60,engagement:Math.floor(Math.random()*31)+60,pacing:Math.floor(Math.random()*31)+60,structure:Math.floor(Math.random()*31)+60,suggestions:["Reduce filler words like 'uh' and 'um' to improve clarity.","Slow down key points for better pacing.","Use more engaging hooks to capture the audience early.","Ensure a strong closing statement for impact."]}),jX=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!0);return I.useEffect(()=>{console.log(" AI Analysis component mounted.");const i=()=>{console.log(" Scroll event triggered in PitchAIAnalysis! Expanding AI Analysis...")};return window.addEventListener("scrollToAnalysis",i),()=>{console.log(" Removed scrollToAnalysis event listener from PitchAIAnalysis."),window.removeEventListener("scrollToAnalysis",i)}},[]),I.useEffect(()=>{r(!0),setTimeout(()=>{e(UX()),r(!1)},4e3)},[]),b.jsx(ie,{sx:{p:2},children:n?b.jsx("div",{style:{width:"64px",height:"64px"},children:b.jsx(BX,{})}):t?b.jsxs(ie,{id:"analysis-section",sx:{display:"block"},children:[b.jsxs(ce,{variant:"body1",children:[b.jsx("strong",{children:"Clarity:"})," ",t.clarity,"%"]}),b.jsxs(ce,{variant:"body1",children:[b.jsx("strong",{children:"Engagement:"})," ",t.engagement,"%"]}),b.jsxs(ce,{variant:"body1",children:[b.jsx("strong",{children:"Pacing:"})," ",t.pacing,"%"]}),b.jsxs(ce,{variant:"body1",children:[b.jsx("strong",{children:"Structure:"})," ",t.structure,"%"]}),b.jsx(ce,{variant:"h4",sx:{mt:2},children:"Coach suggestions:"}),b.jsx("ol",{children:t==null?void 0:t.suggestions.map((i,s)=>b.jsx("li",{children:b.jsx(ce,{variant:"body2",sx:{mt:1},children:i})},s))})]}):null})},VX=({transcript:t})=>b.jsx(lr,{elevation:0,sx:{p:2,maxWidth:600,overflow:"hidden"},children:t.map((e,n)=>b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"caption",color:"text.secondary",children:e.timecode}),b.jsx(ie,{sx:{display:"flex",flexWrap:"wrap",whiteSpace:"normal"},children:e.text.split(" ").map((r,i)=>{var o;const s=(o=e.highlights)==null?void 0:o.find(a=>a.word===r);return s?b.jsx(vY,{title:s.suggestion,arrow:!0,children:b.jsx(ce,{component:"span",sx:{fontWeight:"bold",color:s.type==="filler"?"red":"blue",mx:.5,cursor:"help",textDecoration:"underline",whiteSpace:"normal"},children:r})},i):b.jsx(ce,{component:"span",sx:{mx:.5,whiteSpace:"normal"},children:r},i)})})]},n))}),WX=[{timecode:"00:00",text:"Welcome everyone, to the ummm most exciting business competition on the Internet.",highlights:[{type:"filler",word:"ummm",suggestion:"(remove for clarity)"}]},{timecode:"00:05",text:"This is Long Jump, where big ideas take the leap of faith and land into the world of opportunity."},{timecode:"00:10",text:"You can call me Coach, your guide through this ummm incredible journey of innovation, creativity, and entrepreneurial spirit.",highlights:[{type:"filler",word:"ummm",suggestion:"(replace with pause)"}]},{timecode:"00:15",text:"Submit a 1 to 3-minute video pitch of ummm your product or business idea.",highlights:[{type:"filler",word:"ummm",suggestion:"(remove for clarity)"}]},{timecode:"00:20",text:"First impressions matter. Judges will look for originality, potential impact, and that special spark that sets your idea apart.",highlights:[{type:"improvement",word:"Judges will",suggestion:"Judges will be evaluating"}]},{timecode:"00:25",text:"The stakes are high. The winner ummm of Long Jump takes home $25,000.",highlights:[{type:"filler",word:"ummm",suggestion:"(remove for confidence)"}]},{timecode:"00:28",text:"That's $50,000 in total prizes up for grabs. Make your pitch count."}],HX=({open:t,onClose:e})=>b.jsxs(Kr,{open:t,onClose:e,fullWidth:!0,maxWidth:"md",children:[b.jsxs(gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Detailed Analysis & Transcript",b.jsx(At,{onClick:e,sx:{ml:"auto"},children:b.jsx(is,{})})]}),b.jsxs(Jr,{children:[b.jsx(ie,{sx:{mb:2},children:b.jsx(jX,{})}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"h6",children:"Harper, heres your detailed feedback:"}),b.jsx(ce,{variant:"body1",sx:{mt:1},children:"Your pitch for Radiant Hue has improved in clarity and focus. You effectively highlight the use of ethically sourced natural ingredients and inclusivity, which strengthens your unique selling proposition."}),b.jsx(ce,{variant:"body1",sx:{mt:1},children:"However, areas needing improvement remain. The previous analysis suggested adding an engaging question, which was not incorporated. Additionally, filler words like 'uh' and 'you know' reduce the professional tone."}),b.jsx(ce,{variant:"body1",sx:{mt:1},children:"Your speaking rate of **153 words per minute** is within the recommended range, and the video duration of **43.37 seconds** is appropriate. Improving engagement and confidence will enhance your pitch's impact."})]}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"h6",children:"Technical Analysis"}),b.jsx(ce,{variant:"body1",children:" **Visual Quality:** Clean background, good lighting, and professional attire.  **Eye Contact:** Varied, but maintaining more consistent focus on the camera would help.  **Body Language:** Neutral; adding more expressive gestures can enhance engagement.  **Filler Words:** 'Uh' and 'you know' detract from professionalismminimizing these will strengthen your delivery."})]}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"h6",children:"Suggestions"}),b.jsx(ce,{variant:"body1",children:" **Engage the Audience:** Introduce a question or interactive element.  **Reduce Filler Words:** Minimize 'uh' and 'you know' for a more polished delivery.  **Enhance Confidence:** Project a more professional and assured tone.  **Consistent Eye Contact:** Maintaining steady camera focus will increase audience engagement.  **Express Enthusiasm:** Use varied facial expressions and body language to emphasize key points."})]}),b.jsxs(ie,{sx:{mt:2},children:[b.jsx(ce,{variant:"h6",children:"Transcript with Coaching Notes"}),b.jsx(VX,{transcript:WX})]}),b.jsx(ie,{sx:{textAlign:"right",mt:3},children:b.jsx(St,{variant:"contained",onClick:e,children:"Close"})})]})]}),GX=({open:t,onClose:e,improvementsText:n})=>b.jsxs(Kr,{open:t,onClose:e,fullWidth:!0,maxWidth:"md",children:[b.jsx(gi,{children:"Coach's Feedback on Your Revision"}),b.jsxs(Jr,{children:[b.jsx(ie,{sx:{mb:2},children:b.jsx(ce,{variant:"body1",children:n})}),b.jsx(ie,{sx:{textAlign:"right",mt:3},children:b.jsx(St,{variant:"contained",onClick:e,children:"Close"})})]})]});/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>I.createElement("svg",{ref:c,...zX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$3("lucide",i),...a},[...o.map(([u,h])=>I.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=(t,e)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(YX,{ref:s,iconNode:e,className:$3(`lucide-${KX(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],XX=ca("ArrowUp",qX);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZX=ca("Check",QX);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],F3=ca("CirclePlus",JX);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tQ=ca("Copy",eQ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rQ=ca("EllipsisVertical",nQ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],sQ=ca("Heart",iQ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],aQ=ca("MessageCircle",oQ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],cQ=ca("ThumbsUp",lQ);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B3=ca("X",uQ),dQ=[{id:"1",name:"Sarah Chen",role:"Co-founder",email:"sarah@example.com"},{id:"2",name:"Michael Patel",role:"Designer",email:"michael@example.com"},{id:"3",name:"Alex Kim",role:"Developer",email:"alex@example.com"}],U3=({open:t,onClose:e})=>{const[n,r]=I.useState(!1),[i,s]=I.useState(""),[o,a]=I.useState(dQ),[c,u]=I.useState(null),[h,f]=I.useState(null),p=async()=>{try{r(!0),setTimeout(()=>r(!1),2e3)}catch(E){console.error("Failed to copy:",E)}},g=()=>{i.trim()&&(a([...o,{id:Zo(),name:i,role:"Pending"}]),s(""))},v=(E,S)=>{u(E.currentTarget),f(S)},y=()=>{u(null),f(null)};return b.jsxs(Kr,{open:t,onClose:e,fullScreen:!0,sx:{height:"95vh",display:"flex",margin:2,flexDirection:"column"},children:[b.jsxs(gi,{sx:{flexShrink:0},children:["Contacts",b.jsx(At,{onClick:e,sx:{position:"absolute",right:8,top:8},children:b.jsx(B3,{size:20})})]}),b.jsx(Jr,{sx:{flexGrow:1,overflowY:"auto"},children:b.jsxs(ie,{sx:{maxHeight:"100%",overflowY:"auto",p:2,mt:2},children:[b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:.5,mb:2},children:[b.jsx(At,{onClick:p,children:n?b.jsx(ZX,{size:20}):b.jsx(tQ,{size:20})}),b.jsx(ce,{variant:"body2",sx:{color:"#8e50ab"},children:"Copy to share and invite contacts"})]}),b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[b.jsx(ie,{children:b.jsx(ce,{variant:"caption",color:"text.secondary",children:"Add a contact now, or share the link below to invite them to give feedback"})}),b.jsxs(ie,{sx:{display:"flex",gap:1,mt:1,mb:2},children:[b.jsx(Rs,{fullWidth:!0,size:"small",placeholder:"Enter email, LinkedIn ID, or Discord username",value:i,onChange:E=>s(E.target.value)}),b.jsx(At,{color:"primary",onClick:g,children:b.jsx(F3,{size:20})})]}),b.jsx(Fc,{sx:{pt:1,mb:2}})]}),b.jsx(ce,{variant:"subtitle2",gutterBottom:!0,children:"Team Members"}),b.jsx(hd,{children:o.map(E=>b.jsxs(Es,{secondaryAction:b.jsx(At,{onClick:S=>v(S,E),children:b.jsx(rQ,{size:20})}),children:[b.jsx(h3,{children:b.jsx(Qr,{children:E.name.split(" ").map(S=>S[0]).join("")})}),b.jsx(xs,{primary:E.name,secondary:`${E.role}  ${E.email}`})]},E.id))})]})}),b.jsxs(yw,{anchorEl:c,open:!!c,onClose:y,children:[b.jsx(pc,{onClick:()=>console.log("Edit User",h),children:"Make collaborator"}),b.jsx(pc,{onClick:()=>console.log("Delete User",h),children:"Edit"}),b.jsx(pc,{onClick:()=>console.log("Delete User",h),children:"Remove"})]})]})},j3=gn(b.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),qd=gn(b.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),IS=gn(b.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),hQ=gn(b.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),fQ=gn(b.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),pQ=gn(b.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),mQ=gn(b.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),K2=gn(b.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),gQ=gn(b.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),cy=gn(b.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),qf=gn(b.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),z2=gn(b.jsx("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),V3=gn(b.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),vQ=gn(b.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),LS=gn(b.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),yQ=gn(b.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),kw=gn(b.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),DS=gn(b.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),bQ=gn(b.jsx("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder"),EQ=gn(b.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3z"}),"VideoCall"),xQ=({competition:t,onClick:e,onView:n,onEnter:r,onPreview:i,onViewLeaderboard:s,onViewSubmission:o,hasSubmitted:a=!1})=>{const{title:c,dates:u,prizes:h,maxTeamSize:f=4,status:p}=t,g=v=>{v.stopPropagation(),n?n(t):e?e():console.log("No handler provided for competition:",t.id)};return b.jsx(yo,{variant:"outlined",onClick:e,sx:{cursor:e?"pointer":"default",transition:"transform 0.2s, box-shadow 0.2s","&:hover":e?{transform:"translateY(-4px)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}:{}},children:b.jsxs(ea,{children:[b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[b.jsxs(ie,{display:"flex",gap:2,children:[b.jsx(ie,{bgcolor:"primary.light",borderRadius:"50%",p:1,display:"flex",alignItems:"center",children:b.jsx(qf,{color:"primary"})}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"h6",gutterBottom:!0,children:c}),b.jsx(Ds,{direction:"row",spacing:2,alignItems:"center",children:b.jsxs(ie,{display:"flex",alignItems:"center",gap:.5,children:[b.jsx(IS,{fontSize:"small",color:"action"}),b.jsxs(ce,{variant:"body2",color:"text.secondary",children:[(u==null?void 0:u.start)||"TBD","  ",(u==null?void 0:u.end)||"TBD"]})]})})]})]}),b.jsx(Wd,{label:p.charAt(0).toUpperCase()+p.slice(1),color:p==="ongoing"?"primary":"default",size:"small"})]}),b.jsx(ie,{mt:2,children:b.jsxs(Ds,{spacing:1,children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(qf,{fontSize:"small",color:"action"}),b.jsxs(ce,{variant:"body2",children:["Grand prize: ",(h==null?void 0:h.grandPrize)||"TBD"]})]}),b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(V3,{fontSize:"small",color:"action"}),b.jsxs(ce,{variant:"body2",children:["Max team size: ",f]})]})]})}),b.jsx(ie,{mt:3,children:b.jsx(St,{variant:"contained",fullWidth:!0,onClick:g,children:"View Competition"})})]})})};var SQ=Object.create,W3=Object.defineProperty,TQ=Object.getOwnPropertyDescriptor,AQ=Object.getOwnPropertyNames,wQ=Object.getPrototypeOf,_Q=Object.prototype.hasOwnProperty,H3=function(t,e){return function(){return t&&(e=t(t=0)),e}},vi=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},CQ=function(t,e,n,r){if(e&&typeof e=="object"||typeof e=="function")for(var i=AQ(e),s=0,o=i.length,a;s<o;s++)a=i[s],!_Q.call(t,a)&&a!==n&&W3(t,a,{get:(function(c){return e[c]}).bind(null,a),enumerable:!(r=TQ(e,a))||r.enumerable});return t},Li=function(t,e,n){return n=t!=null?SQ(wQ(t)):{},CQ(!t||!t.__esModule?W3(n,"default",{value:t,enumerable:!0}):n,t)},Ps=vi(function(t,e){var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n={},e.exports=n});function Wc(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):Wc(t,e)}var Hc=H3(function(){Hc()});function G3(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}var K3=H3(function(){}),z3=vi(function(t,e){var n=Array.prototype.slice;e.exports=r;function r(i,s){for(("length"in i)||(i=[i]),i=n.call(i);i.length;){var o=i.shift(),a=s(o);if(a)return a;o.childNodes&&o.childNodes.length&&(i=n.call(o.childNodes).concat(i))}}}),kQ=vi(function(t,e){Hc(),e.exports=n;function n(r,i){if(!Wc(this,n))return new n(r,i);this.data=r,this.nodeValue=r,this.length=r.length,this.ownerDocument=i||null}n.prototype.nodeType=8,n.prototype.nodeName="#comment",n.prototype.toString=function(){return"[object Comment]"}}),RQ=vi(function(t,e){Hc(),e.exports=n;function n(r,i){if(!Wc(this,n))return new n(r);this.data=r||"",this.length=this.data.length,this.ownerDocument=i||null}n.prototype.type="DOMTextNode",n.prototype.nodeType=3,n.prototype.nodeName="#text",n.prototype.toString=function(){return this.data},n.prototype.replaceData=function(r,i,s){var o=this.data,a=o.substring(0,r),c=o.substring(r+i,o.length);this.data=a+s+c,this.length=this.data.length}}),Y3=vi(function(t,e){e.exports=n;function n(r){var i=this,s=r.type;r.target||(r.target=i),i.listeners||(i.listeners={});var o=i.listeners[s];if(o)return o.forEach(function(a){r.currentTarget=i,typeof a=="function"?a(r):a.handleEvent(r)});i.parentNode&&i.parentNode.dispatchEvent(r)}}),q3=vi(function(t,e){e.exports=n;function n(r,i){var s=this;s.listeners||(s.listeners={}),s.listeners[r]||(s.listeners[r]=[]),s.listeners[r].indexOf(i)===-1&&s.listeners[r].push(i)}}),X3=vi(function(t,e){e.exports=n;function n(r,i){var s=this;if(s.listeners&&s.listeners[r]){var o=s.listeners[r],a=o.indexOf(i);a!==-1&&o.splice(a,1)}}}),IQ=vi(function(t,e){K3(),e.exports=r;var n=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(p){switch(p.nodeType){case 3:return h(p.data);case 8:return"<!--"+p.data+"-->";default:return i(p)}}function i(p){var g=[],v=p.tagName;return p.namespaceURI==="http://www.w3.org/1999/xhtml"&&(v=v.toLowerCase()),g.push("<"+v+u(p)+a(p)),n.indexOf(v)>-1?g.push(" />"):(g.push(">"),p.childNodes.length?g.push.apply(g,p.childNodes.map(r)):p.textContent||p.innerText?g.push(h(p.textContent||p.innerText)):p.innerHTML&&g.push(p.innerHTML),g.push("</"+v+">")),g.join("")}function s(p,g){var v=G3(p[g]);return g==="style"&&Object.keys(p.style).length>0?!0:p.hasOwnProperty(g)&&(v==="string"||v==="boolean"||v==="number")&&g!=="nodeName"&&g!=="className"&&g!=="tagName"&&g!=="textContent"&&g!=="innerText"&&g!=="namespaceURI"&&g!=="innerHTML"}function o(p){if(typeof p=="string")return p;var g="";return Object.keys(p).forEach(function(v){var y=p[v];v=v.replace(/[A-Z]/g,function(E){return"-"+E.toLowerCase()}),g+=v+":"+y+";"}),g}function a(p){var g=p.dataset,v=[];for(var y in g)v.push({name:"data-"+y,value:g[y]});return v.length?c(v):""}function c(p){var g=[];return p.forEach(function(v){var y=v.name,E=v.value;y==="style"&&(E=o(E)),g.push(y+'="'+f(E)+'"')}),g.length?" "+g.join(" "):""}function u(p){var g=[];for(var v in p)s(p,v)&&g.push({name:v,value:p[v]});for(var y in p._attributes)for(var E in p._attributes[y]){var S=p._attributes[y][E],w=(S.prefix?S.prefix+":":"")+E;g.push({name:w,value:S.value})}return p.className&&g.push({name:"class",value:p.className}),g.length?c(g):""}function h(p){var g="";return typeof p=="string"?g=p:p&&(g=p.toString()),g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(p){return h(p).replace(/"/g,"&quot;")}}),Q3=vi(function(t,e){Hc();var n=z3(),r=Y3(),i=q3(),s=X3(),o=IQ(),a="http://www.w3.org/1999/xhtml";e.exports=c;function c(u,h,f){if(!Wc(this,c))return new c(u);var p=f===void 0?a:f||null;this.tagName=p===a?String(u).toUpperCase():u,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=h||null,this.namespaceURI=p,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}c.prototype.type="DOMElement",c.prototype.nodeType=1,c.prototype.appendChild=function(u){return u.parentNode&&u.parentNode.removeChild(u),this.childNodes.push(u),u.parentNode=this,u},c.prototype.replaceChild=function(u,h){u.parentNode&&u.parentNode.removeChild(u);var f=this.childNodes.indexOf(h);return h.parentNode=null,this.childNodes[f]=u,u.parentNode=this,h},c.prototype.removeChild=function(u){var h=this.childNodes.indexOf(u);return this.childNodes.splice(h,1),u.parentNode=null,u},c.prototype.insertBefore=function(u,h){u.parentNode&&u.parentNode.removeChild(u);var f=h==null?-1:this.childNodes.indexOf(h);return f>-1?this.childNodes.splice(f,0,u):this.childNodes.push(u),u.parentNode=this,u},c.prototype.setAttributeNS=function(u,h,f){var p=null,g=h,v=h.indexOf(":");if(v>-1&&(p=h.substr(0,v),g=h.substr(v+1)),this.tagName==="INPUT"&&h==="type")this.type=f;else{var y=this._attributes[u]||(this._attributes[u]={});y[g]={value:f,prefix:p}}},c.prototype.getAttributeNS=function(u,h){var f=this._attributes[u],p=f&&f[h]&&f[h].value;return this.tagName==="INPUT"&&h==="type"?this.type:typeof p!="string"?null:p},c.prototype.removeAttributeNS=function(u,h){var f=this._attributes[u];f&&delete f[h]},c.prototype.hasAttributeNS=function(u,h){var f=this._attributes[u];return!!f&&h in f},c.prototype.setAttribute=function(u,h){return this.setAttributeNS(null,u,h)},c.prototype.getAttribute=function(u){return this.getAttributeNS(null,u)},c.prototype.removeAttribute=function(u){return this.removeAttributeNS(null,u)},c.prototype.hasAttribute=function(u){return this.hasAttributeNS(null,u)},c.prototype.removeEventListener=s,c.prototype.addEventListener=i,c.prototype.dispatchEvent=r,c.prototype.focus=function(){},c.prototype.toString=function(){return o(this)},c.prototype.getElementsByClassName=function(u){var h=u.split(" "),f=[];return n(this,function(p){if(p.nodeType===1){var g=p.className||"",v=g.split(" ");h.every(function(y){return v.indexOf(y)!==-1})&&f.push(p)}}),f},c.prototype.getElementsByTagName=function(u){u=u.toLowerCase();var h=[];return n(this.childNodes,function(f){f.nodeType===1&&(u==="*"||f.tagName.toLowerCase()===u)&&h.push(f)}),h},c.prototype.contains=function(u){return n(this,function(h){return u===h})||!1}}),LQ=vi(function(t,e){Hc();var n=Q3();e.exports=r;function r(i){if(!Wc(this,r))return new r;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}r.prototype.type="DocumentFragment",r.prototype.nodeType=11,r.prototype.nodeName="#document-fragment",r.prototype.appendChild=n.prototype.appendChild,r.prototype.replaceChild=n.prototype.replaceChild,r.prototype.removeChild=n.prototype.removeChild,r.prototype.toString=function(){return this.childNodes.map(function(i){return String(i)}).join("")}}),DQ=vi(function(t,e){e.exports=n;function n(r){}n.prototype.initEvent=function(r,i,s){this.type=r,this.bubbles=i,this.cancelable=s},n.prototype.preventDefault=function(){}}),PQ=vi(function(t,e){Hc();var n=z3(),r=kQ(),i=RQ(),s=Q3(),o=LQ(),a=DQ(),c=Y3(),u=q3(),h=X3();e.exports=f;function f(){if(!Wc(this,f))return new f;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var p=f.prototype;p.createTextNode=function(g){return new i(g,this)},p.createElementNS=function(g,v){var y=g===null?null:String(g);return new s(v,this,y)},p.createElement=function(g){return new s(g,this)},p.createDocumentFragment=function(){return new o(this)},p.createEvent=function(g){return new a(g)},p.createComment=function(g){return new r(g,this)},p.getElementById=function(g){g=String(g);var v=n(this.childNodes,function(y){if(String(y.id)===g)return y});return v||null},p.getElementsByClassName=s.prototype.getElementsByClassName,p.getElementsByTagName=s.prototype.getElementsByTagName,p.contains=s.prototype.contains,p.removeEventListener=h,p.addEventListener=u,p.dispatchEvent=c}),MQ=vi(function(t,e){var n=PQ();e.exports=new n}),Z3=vi(function(t,e){var n=typeof global<"u"?global:typeof window<"u"?window:{},r=MQ(),i;typeof document<"u"?i=document:(i=n["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=r)),e.exports=i});function OQ(t){if(Array.isArray(t))return t}function NQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function $Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J3(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function oa(t,e){return OQ(t)||NQ(t,e)||J3(t,e)||$Q()}var Xf=Li(Ps()),Y2=Li(Ps()),FQ=Li(Ps()),BQ={now:function(){var t=FQ.default.performance,e=t&&t.timing,n=e&&e.navigationStart,r=typeof n=="number"&&typeof t.now=="function"?n+t.now():Date.now();return Math.round(r)}},Zn=BQ,Sp=function(){var t,e,n;if(typeof((t=Y2.default.crypto)===null||t===void 0?void 0:t.getRandomValues)=="function"){n=new Uint8Array(32),Y2.default.crypto.getRandomValues(n);for(var r=0;r<32;r++)n[r]=n[r]%16}else{n=[];for(var i=0;i<32;i++)n[i]=Math.random()*16|0}var s=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var u=c==="x"?n[s]:n[s]&3|8;return s++,u.toString(16)});var o=Zn.now(),a=o==null?void 0:o.toString(16).substring(3);return a?e.substring(0,28)+a:e},eN=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},fs=function(t){if(t&&typeof t.nodeName<"u")return t.muxId||(t.muxId=eN()),t.muxId;var e;try{e=document.querySelector(t)}catch{}return e&&!e.muxId&&(e.muxId=t),(e==null?void 0:e.muxId)||t},uy=function(t){var e;t&&typeof t.nodeName<"u"?(e=t,t=fs(e)):e=document.querySelector(t);var n=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,t,n]};function UQ(t){if(Array.isArray(t))return PS(t)}function jQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ps(t){return UQ(t)||jQ(t)||J3(t)||VQ()}var dc={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},WQ=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n,r,i,s,o,a=[console,t],c=(n=console.trace).bind.apply(n,ps(a)),u=(r=console.info).bind.apply(r,ps(a)),h=(i=console.debug).bind.apply(i,ps(a)),f=(s=console.warn).bind.apply(s,ps(a)),p=(o=console.error).bind.apply(o,ps(a)),g=e;return{trace:function(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];if(!(g>dc.TRACE))return c.apply(void 0,ps(y))},debug:function(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];if(!(g>dc.DEBUG))return h.apply(void 0,ps(y))},info:function(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];if(!(g>dc.INFO))return u.apply(void 0,ps(y))},warn:function(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];if(!(g>dc.WARN))return f.apply(void 0,ps(y))},error:function(){for(var v=arguments.length,y=new Array(v),E=0;E<v;E++)y[E]=arguments[E];if(!(g>dc.ERROR))return p.apply(void 0,ps(y))},get level(){return g},set level(v){v!==this.level&&(g=v??e)}}},ln=WQ("[mux]"),Jx=Li(Ps());function MS(){var t=Jx.default.doNotTrack||Jx.default.navigator&&Jx.default.navigator.doNotTrack;return t==="1"}function dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Hc();function Tr(t,e){if(!Wc(t,e))throw new TypeError("Cannot call a class as a function")}function HQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e,n){return e&&HQ(t.prototype,e),t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rd(t)}function GQ(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Rd(t),t!==null););return t}function P0(t,e,n){return typeof Reflect<"u"&&Reflect.get?P0=Reflect.get:P0=function(r,i,s){var o=GQ(r,i);if(o){var a=Object.getOwnPropertyDescriptor(o,i);return a.get?a.get.call(s||r):a.value}},P0(t,e,n||t)}function OS(t,e){return OS=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},OS(t,e)}function KQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OS(t,e)}function zQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}K3();function YQ(t,e){return e&&(G3(e)==="object"||typeof e=="function")?e:dt(t)}function qQ(t){var e=zQ();return function(){var n=Rd(t),r;if(e){var i=Rd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return YQ(this,r)}}var As=function(t){return Tp(t)[0]},Tp=function(t){if(typeof t!="string"||t==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=t.match(e)||[],r=n[4],i;return r&&(i=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,i]},e1=Li(Ps()),XQ={exists:function(){var t=e1.default.performance,e=t&&t.timing;return e!==void 0},domContentLoadedEventEnd:function(){var t=e1.default.performance,e=t&&t.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var t=e1.default.performance,e=t&&t.timing;return e&&e.navigationStart}},dy=XQ;function Xn(t,e,n){n=n===void 0?1:n,t[e]=t[e]||0,t[e]+=n}function hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ke(t,i,n[i])})}return t}function QQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}function Rw(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):QQ(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}var ZQ=["x-cdn","content-type"],tN=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],JQ=ZQ.concat(tN);function Iw(t){t=t||"";var e={},n=t.trim().split(/[\r\n]+/);return n.forEach(function(r){if(r){var i=r.split(": "),s=i.shift();s&&(JQ.indexOf(s.toLowerCase())>=0||s.toLowerCase().indexOf("x-litix-")===0)&&(e[s]=i.join(": "))}}),e}function fy(t){if(t){var e=tN.find(function(n){return t[n]!==void 0});return e?t[e]:void 0}}var eZ=function(t){var e={};for(var n in t){var r=t[n],i=r["DATA-ID"].search("io.litix.data.");if(i!==-1){var s=r["DATA-ID"].replace("io.litix.data.","");e[s]=r.VALUE}}return e},nN=eZ,jg=function(t){if(!t)return{};var e=dy.navigationStart(),n=t.loading,r=n?n.start:t.trequest,i=n?n.first:t.tfirst,s=n?n.end:t.tload;return{bytesLoaded:t.total,requestStart:Math.round(e+r),responseStart:Math.round(e+i),responseEnd:Math.round(e+s)}},Qh=function(t){if(!(!t||typeof t.getAllResponseHeaders!="function"))return Iw(t.getAllResponseHeaders())},tZ=function(t,e,n){var r=arguments.length>4?arguments[4]:void 0,i=t.log,s=t.utils.secondsToMs,o=function(E){var S=parseInt(r.version),w;return S===1&&E.programDateTime!==null&&(w=E.programDateTime),S===0&&E.pdt!==null&&(w=E.pdt),w};if(!dy.exists()){i.warn("performance timing not supported. Not tracking HLS.js.");return}var a=function(E,S){return t.emit(e,E,S)},c=function(E,S){var w=S.levels,T=S.audioTracks,C=S.url,_=S.stats,L=S.networkDetails,D=S.sessionData,P={},N={};w.forEach(function(G,H){P[H]={width:G.width,height:G.height,bitrate:G.bitrate,attrs:G.attrs}}),T.forEach(function(G,H){N[H]={name:G.name,language:G.lang,bitrate:G.bitrate}});var k=jg(_),$=k.bytesLoaded,z=k.requestStart,j=k.responseStart,q=k.responseEnd;a("requestcompleted",Rw(hy({},nN(D)),{request_event_type:E,request_bytes_loaded:$,request_start:z,request_response_start:j,request_response_end:q,request_type:"manifest",request_hostname:As(C),request_response_headers:Qh(L),request_rendition_lists:{media:P,audio:N,video:{}}}))};n.on(r.Events.MANIFEST_LOADED,c);var u=function(E,S){var w=S.details,T=S.level,C=S.networkDetails,_=S.stats,L=jg(_),D=L.bytesLoaded,P=L.requestStart,N=L.responseStart,k=L.responseEnd,$=w.fragments[w.fragments.length-1],z=o($)+s($.duration);a("requestcompleted",{request_event_type:E,request_bytes_loaded:D,request_start:P,request_response_start:N,request_response_end:k,request_current_level:T,request_type:"manifest",request_hostname:As(w.url),request_response_headers:Qh(C),video_holdback:w.holdBack&&s(w.holdBack),video_part_holdback:w.partHoldBack&&s(w.partHoldBack),video_part_target_duration:w.partTarget&&s(w.partTarget),video_target_duration:w.targetduration&&s(w.targetduration),video_source_is_live:w.live,player_manifest_newest_program_time:isNaN(z)?void 0:z})};n.on(r.Events.LEVEL_LOADED,u);var h=function(E,S){var w=S.details,T=S.networkDetails,C=S.stats,_=jg(C),L=_.bytesLoaded,D=_.requestStart,P=_.responseStart,N=_.responseEnd;a("requestcompleted",{request_event_type:E,request_bytes_loaded:L,request_start:D,request_response_start:P,request_response_end:N,request_type:"manifest",request_hostname:As(w.url),request_response_headers:Qh(T)})};n.on(r.Events.AUDIO_TRACK_LOADED,h);var f=function(E,S){var w=S.stats,T=S.networkDetails,C=S.frag;w=w||C.stats;var _=jg(w),L=_.bytesLoaded,D=_.requestStart,P=_.responseStart,N=_.responseEnd,k=T?Qh(T):void 0,$={request_event_type:E,request_bytes_loaded:L,request_start:D,request_response_start:P,request_response_end:N,request_hostname:T?As(T.responseURL):void 0,request_id:k?fy(k):void 0,request_response_headers:k,request_media_duration:C.duration,request_url:T==null?void 0:T.responseURL};C.type==="main"?($.request_type="media",$.request_current_level=C.level,$.request_video_width=(n.levels[C.level]||{}).width,$.request_video_height=(n.levels[C.level]||{}).height,$.request_labeled_bitrate=(n.levels[C.level]||{}).bitrate):$.request_type=C.type,a("requestcompleted",$)};n.on(r.Events.FRAG_LOADED,f);var p=function(E,S){var w=S.frag,T=w.start,C=o(w),_={currentFragmentPDT:C,currentFragmentStart:s(T)};a("fragmentchange",_)};n.on(r.Events.FRAG_CHANGED,p);var g=function(E,S){var w=S.type,T=S.details,C=S.response,_=S.fatal,L=S.frag,D=S.networkDetails,P=(L==null?void 0:L.url)||S.url||"",N=D?Qh(D):void 0;if((T===r.ErrorDetails.MANIFEST_LOAD_ERROR||T===r.ErrorDetails.MANIFEST_LOAD_TIMEOUT||T===r.ErrorDetails.FRAG_LOAD_ERROR||T===r.ErrorDetails.FRAG_LOAD_TIMEOUT||T===r.ErrorDetails.LEVEL_LOAD_ERROR||T===r.ErrorDetails.LEVEL_LOAD_TIMEOUT||T===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||T===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||T===r.ErrorDetails.SUBTITLE_LOAD_ERROR||T===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||T===r.ErrorDetails.KEY_LOAD_ERROR||T===r.ErrorDetails.KEY_LOAD_TIMEOUT)&&a("requestfailed",{request_error:T,request_url:P,request_hostname:As(P),request_id:N?fy(N):void 0,request_type:T===r.ErrorDetails.FRAG_LOAD_ERROR||T===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":T===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||T===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":T===r.ErrorDetails.SUBTITLE_LOAD_ERROR||T===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":T===r.ErrorDetails.KEY_LOAD_ERROR||T===r.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:C==null?void 0:C.code,request_error_text:C==null?void 0:C.text}),_){var k,$="".concat(P?"url: ".concat(P,`
`):"")+"".concat(C&&(C.code||C.text)?"response: ".concat(C.code,", ").concat(C.text,`
`):"")+"".concat(S.reason?"failure reason: ".concat(S.reason,`
`):"")+"".concat(S.level?"level: ".concat(S.level,`
`):"")+"".concat(S.parent?"parent stream controller: ".concat(S.parent,`
`):"")+"".concat(S.buffer?"buffer length: ".concat(S.buffer,`
`):"")+"".concat(S.error?"error: ".concat(S.error,`
`):"")+"".concat(S.event?"event: ".concat(S.event,`
`):"")+"".concat(S.err?"error message: ".concat((k=S.err)===null||k===void 0?void 0:k.message,`
`):"");a("error",{player_error_code:w,player_error_message:T,player_error_context:$})}};n.on(r.Events.ERROR,g);var v=function(E,S){var w=S.frag,T=w&&w._url||"";a("requestcanceled",{request_event_type:E,request_url:T,request_type:"media",request_hostname:As(T)})};n.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,v);var y=function(E,S){var w=S.level,T=n.levels[w];if(T&&T.attrs&&T.attrs.BANDWIDTH){var C=T.attrs.BANDWIDTH,_,L=parseFloat(T.attrs["FRAME-RATE"]);isNaN(L)||(_=L),C?a("renditionchange",{video_source_fps:_,video_source_bitrate:C,video_source_width:T.width,video_source_height:T.height,video_source_rendition_name:T.name,video_source_codec:T==null?void 0:T.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};n.on(r.Events.LEVEL_SWITCHED,y),n._stopMuxMonitor=function(){n.off(r.Events.MANIFEST_LOADED,c),n.off(r.Events.LEVEL_LOADED,u),n.off(r.Events.AUDIO_TRACK_LOADED,h),n.off(r.Events.FRAG_LOADED,f),n.off(r.Events.FRAG_CHANGED,p),n.off(r.Events.ERROR,g),n.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,v),n.off(r.Events.LEVEL_SWITCHED,y),n.off(r.Events.DESTROYING,n._stopMuxMonitor),delete n._stopMuxMonitor},n.on(r.Events.DESTROYING,n._stopMuxMonitor)},nZ=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},q2=function(t,e){if(!t||!t.requestEndDate)return{};var n=As(t.url),r=t.url,i=t.bytesLoaded,s=new Date(t.requestStartDate).getTime(),o=new Date(t.firstByteDate).getTime(),a=new Date(t.requestEndDate).getTime(),c=isNaN(t.duration)?0:t.duration,u=typeof e.getMetricsFor=="function"?e.getMetricsFor(t.mediaType).HttpList:e.getDashMetrics().getHttpRequests(t.mediaType),h;u.length>0&&(h=Iw(u[u.length-1]._responseHeaders||""));var f=h?fy(h):void 0;return{requestStart:s,requestResponseStart:o,requestResponseEnd:a,requestBytesLoaded:i,requestResponseHeaders:h,requestMediaDuration:c,requestHostname:n,requestUrl:r,requestId:f}},rZ=function(t,e){var n=e.getQualityFor(t),r=e.getCurrentTrackFor(t).bitrateList;return r?{currentLevel:n,renditionWidth:r[n].width||null,renditionHeight:r[n].height||null,renditionBitrate:r[n].bandwidth}:{}},iZ=function(t){var e;return(e=t.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},sZ=function(t){try{var e,n,r=(n=t.getVersion)===null||n===void 0||(e=n.call(t))===null||e===void 0?void 0:e.split(".").map(function(i){return parseInt(i)})[0];return r}catch{return!1}},oZ=function(t,e,n){var r=t.log;if(!n||!n.on){r.warn("Invalid dash.js player reference. Monitoring blocked.");return}var i=sZ(n),s=function(w,T){return t.emit(e,w,T)},o=function(w){var T=w.type,C=w.data,_=(C||{}).url;s("requestcompleted",{request_event_type:T,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:As(_),request_url:_})};n.on("manifestLoaded",o);var a={},c=function(w){if(typeof w.getRequests!="function")return null;var T=w.getRequests({state:"executed"});return T.length===0?null:T[T.length-1]},u=function(w){var T=w.type,C=w.fragmentModel,_=w.chunk,L=c(C);h({type:T,request:L,chunk:_})},h=function(w){var T=w.type,C=w.chunk,_=w.request,L=(C||{}).mediaInfo,D=L||{},P=D.type,N=D.bitrateList;N=N||[];var k={};N.forEach(function(K,B){k[B]={},k[B].width=K.width,k[B].height=K.height,k[B].bitrate=K.bandwidth,k[B].attrs={}}),P==="video"?a.video=k:P==="audio"?a.audio=k:a.media=k;var $=q2(_,n),z=$.requestStart,j=$.requestResponseStart,q=$.requestResponseEnd,G=$.requestResponseHeaders,H=$.requestMediaDuration,Q=$.requestHostname,W=$.requestUrl,V=$.requestId;s("requestcompleted",{request_event_type:T,request_start:z,request_response_start:j,request_response_end:q,request_bytes_loaded:-1,request_type:P+"_init",request_response_headers:G,request_hostname:Q,request_id:V,request_url:W,request_media_duration:H,request_rendition_lists:a})};i>=4?n.on("initFragmentLoaded",h):n.on("initFragmentLoaded",u);var f=function(w){var T=w.type,C=w.fragmentModel,_=w.chunk,L=c(C);p({type:T,request:L,chunk:_})},p=function(w){var T=w.type,C=w.chunk,_=w.request,L=C||{},D=L.mediaInfo,P=L.start,N=D||{},k=N.type,$=q2(_,n),z=$.requestStart,j=$.requestResponseStart,q=$.requestResponseEnd,G=$.requestBytesLoaded,H=$.requestResponseHeaders,Q=$.requestMediaDuration,W=$.requestHostname,V=$.requestUrl,K=$.requestId,B=rZ(k,n),Z=B.currentLevel,ue=B.renditionWidth,fe=B.renditionHeight,me=B.renditionBitrate;s("requestcompleted",{request_event_type:T,request_start:z,request_response_start:j,request_response_end:q,request_bytes_loaded:G,request_type:k,request_response_headers:H,request_hostname:W,request_id:K,request_url:V,request_media_start_time:P,request_media_duration:Q,request_current_level:Z,request_labeled_bitrate:me,request_video_width:ue,request_video_height:fe})};i>=4?n.on("mediaFragmentLoaded",p):n.on("mediaFragmentLoaded",f);var g={video:void 0,audio:void 0,totalBitrate:void 0},v=function(){if(g.video&&typeof g.video.bitrate=="number"){if(!(g.video.width&&g.video.height)){r.warn("have bitrate info for video but missing width/height");return}var w=g.video.bitrate;if(g.audio&&typeof g.audio.bitrate=="number"&&(w+=g.audio.bitrate),w!==g.totalBitrate)return g.totalBitrate=w,{video_source_bitrate:w,video_source_height:g.video.height,video_source_width:g.video.width,video_source_codec:iZ(g.video.codec)}}},y=function(w,T,C){if(typeof w.newQuality!="number"){r.warn("missing evt.newQuality in qualityChangeRendered event",w);return}var _=w.mediaType;if(_==="audio"||_==="video"){var L=n.getBitrateInfoListFor(_).find(function(P){var N=P.qualityIndex;return N===w.newQuality});if(!(L&&typeof L.bitrate=="number")){r.warn("missing bitrate info for ".concat(_));return}g[_]=Rw(hy({},L),{codec:n.getCurrentTrackFor(_).codec});var D=v();D&&s("renditionchange",D)}};n.on("qualityChangeRendered",y);var E=function(w){var T=w.request,C=w.mediaType;T=T||{},s("requestcanceled",{request_event_type:T.type+"_"+T.action,request_url:T.url,request_type:C,request_hostname:As(T.url)})};n.on("fragmentLoadingAbandoned",E);var S=function(w){var T=w.error,C,_,L=(T==null||(C=T.data)===null||C===void 0?void 0:C.request)||{},D=(T==null||(_=T.data)===null||_===void 0?void 0:_.response)||{};(T==null?void 0:T.code)===27&&s("requestfailed",{request_error:L.type+"_"+L.action,request_url:L.url,request_hostname:As(L.url),request_type:L.mediaType,request_error_code:D.status,request_error_text:D.statusText});var P="".concat(L!=null&&L.url?"url: ".concat(L.url,`
`):"")+"".concat(D!=null&&D.status||D!=null&&D.statusText?"response: ".concat(D==null?void 0:D.status,", ").concat(D==null?void 0:D.statusText,`
`):"");s("error",{player_error_code:T==null?void 0:T.code,player_error_message:T==null?void 0:T.message,player_error_context:P})};n.on("error",S),n._stopMuxMonitor=function(){n.off("manifestLoaded",o),n.off("initFragmentLoaded",h),n.off("mediaFragmentLoaded",p),n.off("qualityChangeRendered",y),n.off("error",S),n.off("fragmentLoadingAbandoned",E),delete n._stopMuxMonitor}},aZ=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},X2=0,lZ=function(){function t(){Tr(this,t),ke(this,"_listeners",void 0)}return Ro(t,[{key:"on",value:function(e,n,r){return n._eventEmitterGuid=n._eventEmitterGuid||++X2,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(n=n.bind(r)),this._listeners[e].push(n),n}},{key:"off",value:function(e,n){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(i,s){i._eventEmitterGuid===n._eventEmitterGuid&&r.splice(s,1)})}},{key:"one",value:function(e,n,r){var i=this;n._eventEmitterGuid=n._eventEmitterGuid||++X2;var s=function(){i.off(e,s),n.apply(r||this,arguments)};s._eventEmitterGuid=n._eventEmitterGuid,this.on(e,s)}},{key:"emit",value:function(e,n){var r=this;if(this._listeners){n=n||{};var i=this._listeners["before*"]||[],s=this._listeners[e]||[],o=this._listeners["after"+e]||[],a=function(c,u){c=c.slice(),c.forEach(function(h){h.call(r,{type:e},u)})};a(i,n),a(s,n),a(o,n)}}}]),t}(),cZ=lZ,t1=Li(Ps()),uZ=function(){function t(e){var n=this;Tr(this,t),ke(this,"_playbackHeartbeatInterval",void 0),ke(this,"_playheadShouldBeProgressing",void 0),ke(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){n._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?n._stopPlaybackHeartbeatInterval():n._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){n._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(r,i){n._playbackHeartbeatInterval!==null&&(t1.default.clearInterval(n._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:i.viewer_time}),n._playbackHeartbeatInterval=null)})}return Ro(t,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=t1.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(t1.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),t}(),dZ=uZ,hZ=function t(e){var n=this;Tr(this,t),ke(this,"viewErrored",void 0),e.on("viewinit",function(){n.viewErrored=!1}),e.on("error",function(r,i){try{var s=e.errorTranslator({player_error_code:i.player_error_code,player_error_message:i.player_error_message,player_error_context:i.player_error_context,player_error_severity:i.player_error_severity,player_error_business_exception:i.player_error_business_exception});s&&(e.data.player_error_code=s.player_error_code||i.player_error_code,e.data.player_error_message=s.player_error_message||i.player_error_message,e.data.player_error_context=s.player_error_context||i.player_error_context,e.data.player_error_severity=s.player_error_severity||i.player_error_severity,e.data.player_error_business_exception=s.player_error_business_exception||i.player_error_business_exception,n.viewErrored=!0)}catch(o){e.mux.log.warn("Exception in error translator callback.",o),n.viewErrored=!0}}),e.on("aftererror",function(){var r,i,s,o,a;(r=e.data)===null||r===void 0||delete r.player_error_code,(i=e.data)===null||i===void 0||delete i.player_error_message,(s=e.data)===null||s===void 0||delete s.player_error_context,(o=e.data)===null||o===void 0||delete o.player_error_severity,(a=e.data)===null||a===void 0||delete a.player_error_business_exception})},fZ=hZ,pZ=function(){function t(e){Tr(this,t),ke(this,"_watchTimeTrackerLastCheckedTime",void 0),ke(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return Ro(t,[{key:"_updateWatchTime",value:function(e,n){var r=n.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=r),Xn(this.pm.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:"_clearWatchTimeState",value:function(e,n){this._updateWatchTime(e,n),this._watchTimeTrackerLastCheckedTime=null}}]),t}(),mZ=pZ,gZ=function(){function t(e){var n=this;Tr(this,t),ke(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),ke(this,"_lastTime",void 0),ke(this,"_isAdPlaying",void 0),ke(this,"_callbackUpdatePlaybackTime",void 0),ke(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=Zn.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var r=this._startPlaybackTimeTracking.bind(this);e.on("playing",r),e.on("adplaying",r),e.on("seeked",r);var i=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",i),e.on("seeking",i),e.on("adplaying",function(){n._isAdPlaying=!0}),e.on("adended",function(){n._isAdPlaying=!1}),e.on("adpause",function(){n._isAdPlaying=!1}),e.on("adbreakstart",function(){n._isAdPlaying=!1}),e.on("adbreakend",function(){n._isAdPlaying=!1}),e.on("adplay",function(){n._isAdPlaying=!1}),e.on("viewinit",function(){n._playbackTimeTrackerLastPlayheadPosition=-1,n._lastTime=Zn.now(),n._isAdPlaying=!1,n._callbackUpdatePlaybackTime=null})}return Ro(t,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,n=Zn.now(),r=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?r=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(r=n-this._lastTime),r>0&&r<=1e3&&Xn(this.pm.data,"view_content_playback_time",r),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=n}}]),t}(),vZ=gZ,yZ=function(){function t(e){Tr(this,t),ke(this,"pm",void 0),this.pm=e;var n=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",n),e.on("playbackheartbeatend",n),e.on("timeupdate",n),e.on("destroy",function(){e.off("timeupdate",n)})}return Ro(t,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,n){var r=this,i=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(n&&n.player_playhead_time)this.pm.data.player_playhead_time=n.player_playhead_time,i(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var s=this.pm.getPlayheadTime();typeof s<"u"&&(this.pm.data.player_playhead_time=s,i(),this._updateMaxPlayheadPosition())}}}]),t}(),bZ=yZ,Q2=5*60*1e3,EZ=function t(e){if(Tr(this,t),!e.disableRebufferTracking){var n,r=function(s,o){i(o),n=void 0},i=function(s){if(n){var o=s.viewer_time-n;Xn(e.data,"view_rebuffer_duration",o),n=s.viewer_time,e.data.view_rebuffer_duration>Q2&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(Q2,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(s,o){return i(o)}),e.on("rebufferstart",function(s,o){n||(Xn(e.data,"view_rebuffer_count",1),n=o.viewer_time,e.one("rebufferend",r))}),e.on("viewinit",function(){n=void 0,e.off("rebufferend",r)})}},xZ=EZ,SZ=function(){function t(e){var n=this;Tr(this,t),ke(this,"_lastCheckedTime",void 0),ke(this,"_lastPlayheadTime",void 0),ke(this,"_lastPlayheadTimeUpdatedTime",void 0),ke(this,"_rebuffering",void 0),ke(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){n._cleanupRebufferTracker(null,{viewer_time:Zn.now()})}))}return Ro(t,[{key:"_checkIfRebuffering",value:function(e,n){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,n);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(n.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,n,!0);return}var r=n.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=n.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:n.viewer_time});else{if(this._lastCheckedTime===null)return;var i=this.pm.data.player_playhead_time-this._lastPlayheadTime,s=n.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&i>0&&s-i>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+s-i}))}r?this._prepareRebufferTrackerState(n.viewer_time):this._clearRebufferTrackerState()}}]),t}(),TZ=SZ,AZ=function(){function t(e){var n=this;Tr(this,t),ke(this,"NAVIGATION_START",void 0),ke(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var r=e.data,i=r.view_id;if(!r.view_program_changed){var s=function(o,a){var c=a.viewer_time;(o.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||o.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||n._inPrerollPosition()))&&n.calculateTimeToFirstFrame(c||Zn.now(),i)};e.one("playing",s),e.one("adplaying",s),e.one("viewend",function(){e.off("playing",s),e.off("adplaying",s)})}})}return Ro(t,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,n){n===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),t}(),wZ=AZ,_Z=function t(e){var n=this;Tr(this,t),ke(this,"_lastPlayerHeight",void 0),ke(this,"_lastPlayerWidth",void 0),ke(this,"_lastPlayheadPosition",void 0),ke(this,"_lastSourceHeight",void 0),ke(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){n._lastPlayheadPosition=-1});var r=["pause","rebufferstart","seeking","error","adbreakstart","hb"],i=["playing","hb"];r.forEach(function(s){e.on(s,function(){if(n._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&n._lastPlayerWidth>=0&&n._lastSourceWidth>0&&n._lastPlayerHeight>=0&&n._lastSourceHeight>0){var o=e.data.player_playhead_time-n._lastPlayheadPosition;if(o<0){n._lastPlayheadPosition=-1;return}var a=Math.min(n._lastPlayerWidth/n._lastSourceWidth,n._lastPlayerHeight/n._lastSourceHeight),c=Math.max(0,a-1),u=Math.max(0,1-a);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,c),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,u),Xn(e.data,"view_total_content_playback_time",o),Xn(e.data,"view_total_upscaling",c*o),Xn(e.data,"view_total_downscaling",u*o)}n._lastPlayheadPosition=-1})}),i.forEach(function(s){e.on(s,function(){n._lastPlayheadPosition=e.data.player_playhead_time,n._lastPlayerWidth=e.data.player_width,n._lastPlayerHeight=e.data.player_height,n._lastSourceWidth=e.data.video_source_width,n._lastSourceHeight=e.data.video_source_height})})},CZ=_Z,kZ=2e3,RZ=function t(e){var n=this;Tr(this,t),ke(this,"isSeeking",void 0),this.isSeeking=!1;var r=-1,i=function(){var s=Zn.now(),o=(e.data.viewer_time||s)-(r||s);Xn(e.data,"view_seek_duration",o),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,o),n.isSeeking=!1,r=-1};e.on("seeking",function(s,o){if(Object.assign(e.data,o),n.isSeeking&&o.viewer_time-r<=kZ){r=o.viewer_time;return}n.isSeeking&&i(),n.isSeeking=!0,r=o.viewer_time,Xn(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){i()}),e.on("viewend",function(){n.isSeeking&&(i(),e.send("seeked")),n.isSeeking=!1,r=-1})},IZ=RZ,Z2=function(t,e){t.push(e),t.sort(function(n,r){return n.viewer_time-r.viewer_time})},LZ=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],DZ=function(){function t(e){var n=this;Tr(this,t),ke(this,"_adHasPlayed",void 0),ke(this,"_adRequests",void 0),ke(this,"_adResponses",void 0),ke(this,"_currentAdRequestNumber",void 0),ke(this,"_currentAdResponseNumber",void 0),ke(this,"_prerollPlayTime",void 0),ke(this,"_wouldBeNewAdPlay",void 0),ke(this,"isAdBreak",void 0),ke(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){n.isAdBreak=!1,n._currentAdRequestNumber=0,n._currentAdResponseNumber=0,n._adRequests=[],n._adResponses=[],n._adHasPlayed=!1,n._wouldBeNewAdPlay=!0,n._prerollPlayTime=void 0}),LZ.forEach(function(i){return e.on(i,n._updateAdData.bind(n))});var r=function(){n.isAdBreak=!1};e.on("adbreakstart",function(){n.isAdBreak=!0}),e.on("play",r),e.on("playing",r),e.on("viewend",r),e.on("adrequest",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdRequestNumber++},s),Z2(n._adRequests,s),Xn(e.data,"view_ad_request_count"),n.inPrerollPosition()&&(e.data.view_preroll_requested=!0,n._adHasPlayed||Xn(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdResponseNumber++},s),Z2(n._adResponses,s);var o=n.findAdRequest(s.ad_request_id);o&&Xn(e.data,"view_ad_request_time",Math.max(0,s.viewer_time-o.viewer_time))}),e.on("adplay",function(i,s){n._adHasPlayed=!0,n._wouldBeNewAdPlay&&(n._wouldBeNewAdPlay=!1,Xn(e.data,"view_ad_played_count")),n.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,n._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,s.viewer_time-n._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,s.viewer_time-e.data.view_start)),n._prerollPlayTime=s.viewer_time)}),e.on("adplaying",function(i,s){n.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof n._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=s.viewer_time-n._prerollPlayTime,e.data.view_startup_preroll_load_time=s.viewer_time-n._prerollPlayTime)}),e.on("adclicked",function(i,s){n._wouldBeNewAdPlay||Xn(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(i,s){n._wouldBeNewAdPlay||Xn(e.data,"view_ad_skipped_count")}),e.on("adended",function(){n._wouldBeNewAdPlay=!0}),e.on("aderror",function(){n._wouldBeNewAdPlay=!0})}return Ro(t,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var n=0;n<this._adRequests.length;n++)if(this._adRequests[n].ad_request_id===e)return this._adRequests[n]}},{key:"_updateAdData",value:function(e,n){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&n.ad_tag_url){var r=oa(Tp(n.ad_tag_url),2),i=r[0],s=r[1];this.pm.data.view_preroll_ad_tag_domain=s,this.pm.data.view_preroll_ad_tag_hostname=i}if(!this.pm.data.view_preroll_ad_asset_hostname&&n.ad_asset_url){var o=oa(Tp(n.ad_asset_url),2),a=o[0],c=o[1];this.pm.data.view_preroll_ad_asset_domain=c,this.pm.data.view_preroll_ad_asset_hostname=a}}this.pm.data.ad_asset_url=n==null?void 0:n.ad_asset_url,this.pm.data.ad_tag_url=n==null?void 0:n.ad_tag_url,this.pm.data.ad_creative_id=n==null?void 0:n.ad_creative_id,this.pm.data.ad_id=n==null?void 0:n.ad_id,this.pm.data.ad_universal_id=n==null?void 0:n.ad_universal_id}}]),t}(),PZ=DZ,J2=Li(Ps()),MZ=function t(e){Tr(this,t);var n,r,i=function(){e.disableRebufferTracking||(Xn(e.data,"view_waiting_rebuffer_count",1),n=Zn.now(),r=J2.default.setInterval(function(){if(n){var u=Zn.now();Xn(e.data,"view_waiting_rebuffer_duration",u-n),n=u}},250))},s=function(){e.disableRebufferTracking||n&&(Xn(e.data,"view_waiting_rebuffer_duration",Zn.now()-n),n=!1,J2.default.clearInterval(r))},o=!1,a=function(){o=!0},c=function(){o=!1,s()};e.on("waiting",function(){o&&i()}),e.on("playing",function(){s(),a()}),e.on("pause",c),e.on("seeking",c)},OZ=MZ,NZ=function t(e){var n=this;Tr(this,t),ke(this,"lastWallClockTime",void 0);var r=function(){n.lastWallClockTime=Zn.now(),e.on("before*",i)},i=function(s){var o=Zn.now(),a=n.lastWallClockTime;n.lastWallClockTime=o,o-a>3e4&&(e.emit("devicesleep",{viewer_time:a}),Object.assign(e.data,{viewer_time:a}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:o}),Object.assign(e.data,{viewer_time:o}),e.send("devicewake"))};e.one("playbackheartbeat",r),e.on("playbackheartbeatend",function(){e.off("before*",i),e.one("playbackheartbeat",r)})},$Z=NZ,n1=Li(Ps()),rN=function(t){return t()}(function(){var t=function(){for(var n=0,r={};n<arguments.length;n++){var i=arguments[n];for(var s in i)r[s]=i[s]}return r};function e(n){function r(i,s,o){var a;if(typeof document<"u"){if(arguments.length>1){if(o=t({path:"/"},r.defaults,o),typeof o.expires=="number"){var c=new Date;c.setMilliseconds(c.getMilliseconds()+o.expires*864e5),o.expires=c}try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch{}return n.write?s=n.write(s,i):s=encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[\(\)]/g,escape),document.cookie=[i,"=",s,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}i||(a={});for(var u=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),g=p.slice(1).join("=");g.charAt(0)==='"'&&(g=g.slice(1,-1));try{var v=p[0].replace(h,decodeURIComponent);if(g=n.read?n.read(g,v):n(g,v)||g.replace(h,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch{}if(i===v){a=g;break}i||(a[v]=g)}catch{}}return a}}return r.set=r,r.get=function(i){return r.call(r,i)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(i,s){r(i,"",t(s,{expires:-1}))},r.withConverter=e,r}return e(function(){})}),iN="muxData",FZ=function(t){return Object.entries(t).map(function(e){var n=oa(e,2),r=n[0],i=n[1];return"".concat(r,"=").concat(i)}).join("&")},BZ=function(t){return t.split("&").reduce(function(e,n){var r=oa(n.split("="),2),i=r[0],s=r[1],o=+s,a=s&&o==s?o:s;return e[i]=a,e},{})},sN=function(){var t;try{t=BZ(rN.get(iN)||"")}catch{t={}}return t},oN=function(t){try{rN.set(iN,FZ(t),{expires:365})}catch{}},UZ=function(){var t=sN();return t.mux_viewer_id=t.mux_viewer_id||Sp(),t.msn=t.msn||Math.random(),oN(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},jZ=function(){var t=sN(),e=Zn.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=Sp(),t.sst=e),t.sex=e+25*60*1e3,oN(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}};function VZ(t,e){var n=e.beaconCollectionDomain,r=e.beaconDomain;if(n)return"https://"+n;t=t||"inferred";var i=r||"litix.io";return t.match(/^[a-z0-9]+$/)?"https://"+t+"."+i:"https://img.litix.io/a.gif"}var WZ=Li(Ps()),aN=function(){var t;switch(lN()){case"cellular":t="cellular";break;case"ethernet":t="wired";break;case"wifi":t="wifi";break;case void 0:break;default:t="other"}return t},lN=function(){var t=WZ.default.navigator,e=t&&(t.connection||t.mozConnection||t.webkitConnection);return e&&e.type};aN.getConnectionFromAPI=lN;var HZ=aN,GZ={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},KZ=cN(GZ),zZ={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},eL=cN(zZ);function cN(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function NS(t){var e={},n={};return Object.keys(t).forEach(function(r){var i=!1;if(t.hasOwnProperty(r)&&t[r]!==void 0){var s=r.split("_"),o=s[0],a=KZ[o];a||(ln.info("Data key word `"+s[0]+"` not expected in "+r),a=o+"_"),s.splice(1).forEach(function(c){c==="url"&&(i=!0),eL[c]?a+=eL[c]:Number(c)&&Math.floor(Number(c))===Number(c)?a+=c:(ln.info("Data key word `"+c+"` not expected in "+r),a+="_"+c+"_")}),i?n[a]=t[r]:e[a]=t[r]}}),Object.assign(e,n)}var mc=Li(Ps()),YZ=Li(Z3()),qZ={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},XZ=56*1024,QZ=["hb","requestcompleted","requestfailed","requestcanceled"],ZZ="https://img.litix.io",ua=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=t||ZZ,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},qZ,e)};ua.prototype.queueEvent=function(t,e){var n=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||t==="eventrateexceeded"?(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};ua.prototype.flushEvents=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(t&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};ua.prototype.destroy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),mc.default.clearTimeout(this._sendTimeout)};ua.prototype._clearBeaconQueue=function(){var t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(t);t>0&&Object.assign(e[e.length-1],NS({mux_view_message:"event queue truncated"}));var n=this._createPayload(e);uN(this._beaconUrl,n,!0,function(){})};ua.prototype._sendBeaconQueue=function(){var t=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var n=this._createPayload(e),r=Zn.now();uN(this._beaconUrl,n,!1,function(i,s){s?(t._eventQueue=e.concat(t._eventQueue),t._failureCount+=1,ln.info("Error sending beacon: "+s)):t._failureCount=0,t._roundTripTime=Zn.now()-r,t._postInFlight=!1,t._resendAfterPost&&(t._resendAfterPost=!1,t._eventQueue.length>0&&t._sendBeaconQueue())})};ua.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return t=t*Math.random(),(1+t)*this._options.baseTimeBetweenBeacons};ua.prototype._startBeaconSending=function(){var t=this;mc.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=mc.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))};ua.prototype._createPayload=function(t){var e=this,n={transmission_timestamp:Math.round(Zn.now())};this._roundTripTime&&(n.rtt_ms=Math.round(this._roundTripTime));var r,i,s,o=function(){r=JSON.stringify({metadata:n,events:i||t}),s=r.length/1024},a=function(){return s<=e._options.maxPayloadKBSize};return o(),a()||(ln.info("Payload size is too big ("+s+" kb). Removing unnecessary events."),i=t.filter(function(c){return QZ.indexOf(c.e)===-1}),o()),a()||(ln.info("Payload size still too big ("+s+" kb). Cropping fields.."),i.forEach(function(c){for(var u in c){var h=c[u],f=50*1024;typeof h=="string"&&h.length>f&&(c[u]=h.substring(0,f))}}),o()),r};var JZ=typeof YZ.default.exitPictureInPicture=="function"?function(t){return t.length<=XZ}:function(t){return!1},uN=function(t,e,n,r){if(n&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(t,e)){r();return}if(mc.default.fetch){mc.default.fetch(t,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:JZ(e)}).then(function(s){return r(null,s.ok?null:"Error")}).catch(function(s){return r(null,s)});return}if(mc.default.XMLHttpRequest){var i=new mc.default.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4)return r(null,i.status!==200?"error":void 0)},i.open("POST",t),i.setRequestHeader("Content-Type","text/plain"),i.send(e);return}r()},eJ=ua,tJ=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception"],nJ=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],rJ=["ad_id","ad_creative_id","ad_universal_id"],iJ=["viewstart","error","ended","viewend"],sJ=10*60*1e3,oJ=function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Tr(this,t);var i,s,o,a,c,u,h,f,p,g,v,y;ke(this,"mux",void 0),ke(this,"envKey",void 0),ke(this,"options",void 0),ke(this,"eventQueue",void 0),ke(this,"sampleRate",void 0),ke(this,"disableCookies",void 0),ke(this,"respectDoNotTrack",void 0),ke(this,"previousBeaconData",void 0),ke(this,"lastEventTime",void 0),ke(this,"rateLimited",void 0),ke(this,"pageLevelData",void 0),ke(this,"viewerData",void 0),this.mux=e,this.envKey=n,this.options=r,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new eJ(VZ(this.envKey,this.options));var E;this.sampleRate=(E=this.options.sampleRate)!==null&&E!==void 0?E:1;var S;this.disableCookies=(S=this.options.disableCookies)!==null&&S!==void 0?S:!1;var w;this.respectDoNotTrack=(w=this.options.respectDoNotTrack)!==null&&w!==void 0?w:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(i=this.options.platform)===null||i===void 0?void 0:i.name,viewer_application_version:(s=this.options.platform)===null||s===void 0?void 0:s.version,viewer_application_engine:(o=this.options.platform)===null||o===void 0?void 0:o.layout,viewer_device_name:(a=this.options.platform)===null||a===void 0?void 0:a.product,viewer_device_category:"",viewer_device_manufacturer:(c=this.options.platform)===null||c===void 0?void 0:c.manufacturer,viewer_os_family:(h=this.options.platform)===null||h===void 0||(u=h.os)===null||u===void 0?void 0:u.family,viewer_os_architecture:(p=this.options.platform)===null||p===void 0||(f=p.os)===null||f===void 0?void 0:f.architecture,viewer_os_version:(v=this.options.platform)===null||v===void 0||(g=v.os)===null||g===void 0?void 0:g.version,viewer_connection_type:HZ(),page_url:n1.default===null||n1.default===void 0||(y=n1.default.location)===null||y===void 0?void 0:y.href},this.viewerData=this.disableCookies?{}:UZ()}return Ro(t,[{key:"send",value:function(e,n){if(!(!e||!(n!=null&&n.view_id))){if(this.respectDoNotTrack&&MS())return ln.info("Not sending `"+e+"` because Do Not Track is enabled");if(!n||typeof n!="object")return ln.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:jZ(),i=Rw(hy({},this.pageLevelData,n,r,this.viewerData),{event:e,env_key:this.envKey});i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var s,o=((s=i.mux_sample_number)!==null&&s!==void 0?s:0)>=this.sampleRate,a=this._deduplicateBeaconData(e,i),c=NS(a);if(this.lastEventTime=this.mux.utils.now(),o)return ln.info("Not sending event due to sample rate restriction",e,i,c);if(this.envKey||ln.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,i,c),!this.rateLimited){if(ln.info("Sending event",e,i,c),this.rateLimited=!this.eventQueue.queueEvent(e,c),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&e==="hb"?this.eventQueue.flushEvents(!0):iJ.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return i.event="eventrateexceeded",c=NS(i),this.eventQueue.queueEvent(i.event,c),ln.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,n){var r=this,i={},s=n.view_id;if(s==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=sJ)i=hy({},n),s&&(this.previousBeaconData=i),s&&e==="viewend"&&(this.previousBeaconData=null);else{var o=e.indexOf("request")===0;Object.entries(n).forEach(function(a){var c=oa(a,2),u=c[0],h=c[1];r.previousBeaconData&&(h!==r.previousBeaconData[u]||tJ.indexOf(u)>-1||r.objectHasChanged(o,u,h,r.previousBeaconData[u])||r.eventRequiresKey(e,u))&&(i[u]=h,r.previousBeaconData[u]=h)})}return i}},{key:"objectHasChanged",value:function(e,n,r,i){return!e||n.indexOf("request_")!==0?!1:n==="request_response_headers"||typeof r!="object"||typeof i!="object"?!0:Object.keys(r||{}).length!==Object.keys(i||{}).length}},{key:"eventRequiresKey",value:function(e,n){return!!(e==="renditionchange"&&n.indexOf("video_source_")===0||rJ.includes(n)&&nJ.includes(e))}}]),t}(),aJ=function t(e){Tr(this,t);var n=0,r=0,i=0,s=0,o=0,a=0,c=0,u=function(p,g){var v=g.request_start,y=g.request_response_start,E=g.request_response_end,S=g.request_bytes_loaded;s++;var w,T;if(y?(w=y-(v??0),T=(E??0)-y):T=(E??0)-(v??0),T>0&&S&&S>0){var C=S/T*8e3;o++,r+=S,i+=T,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,C),e.data.view_average_request_throughput=r/i*8e3,e.data.view_request_count=s,w>0&&(n+=w,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,w),e.data.view_average_request_latency=n/o)}},h=function(p,g){s++,a++,e.data.view_request_count=s,e.data.view_request_failed_count=a},f=function(p,g){s++,c++,e.data.view_request_count=s,e.data.view_request_canceled_count=c};e.on("requestcompleted",u),e.on("requestfailed",h),e.on("requestcanceled",f)},lJ=aJ,cJ=60*60*1e3,uJ=function t(e){var n=this;Tr(this,t),ke(this,"_lastEventTime",void 0),e.on("before*",function(r,i){var s=i.viewer_time,o=Zn.now(),a=n._lastEventTime;if(n._lastEventTime=o,a&&o-a>cJ){var c=Object.keys(e.data).reduce(function(h,f){return f.indexOf("video_")===0?Object.assign(h,ke({},f,e.data[f])):h},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var u=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:s},c)),e.playbackHeartbeat._playheadShouldBeProgressing=u,e.playbackHeartbeat._playheadShouldBeProgressing&&r.type!=="play"&&r.type!=="adbreakstart"&&(e.emit("play",{viewer_time:s}),r.type!=="playing"&&e.emit("playing",{viewer_time:s}))}})},dJ=uJ,hJ=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],fJ=new Set(["requestcompleted","requestfailed","requestcanceled"]),pJ=function(t){KQ(n,t);var e=qQ(n);function n(r,i,s){Tr(this,n);var o;o=e.call(this),ke(dt(o),"DOM_CONTENT_LOADED_EVENT_END",void 0),ke(dt(o),"NAVIGATION_START",void 0),ke(dt(o),"_destroyed",void 0),ke(dt(o),"_heartBeatTimeout",void 0),ke(dt(o),"adTracker",void 0),ke(dt(o),"dashjs",void 0),ke(dt(o),"data",void 0),ke(dt(o),"disablePlayheadRebufferTracking",void 0),ke(dt(o),"disableRebufferTracking",void 0),ke(dt(o),"errorTracker",void 0),ke(dt(o),"errorTranslator",void 0),ke(dt(o),"emitTranslator",void 0),ke(dt(o),"getAdData",void 0),ke(dt(o),"getPlayheadTime",void 0),ke(dt(o),"getStateData",void 0),ke(dt(o),"stateDataTranslator",void 0),ke(dt(o),"hlsjs",void 0),ke(dt(o),"id",void 0),ke(dt(o),"longResumeTracker",void 0),ke(dt(o),"minimumRebufferDuration",void 0),ke(dt(o),"mux",void 0),ke(dt(o),"playbackEventDispatcher",void 0),ke(dt(o),"playbackHeartbeat",void 0),ke(dt(o),"playbackHeartbeatTime",void 0),ke(dt(o),"playheadTime",void 0),ke(dt(o),"seekingTracker",void 0),ke(dt(o),"sustainedRebufferThreshold",void 0),ke(dt(o),"watchTimeTracker",void 0),ke(dt(o),"currentFragmentPDT",void 0),ke(dt(o),"currentFragmentStart",void 0),o.DOM_CONTENT_LOADED_EVENT_END=dy.domContentLoadedEventEnd(),o.NAVIGATION_START=dy.navigationStart();var a={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(p){return p},emitTranslator:function(){for(var p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return g},stateDataTranslator:function(p){return p}};o.mux=r,o.id=i,s!=null&&s.beaconDomain&&o.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),s=Object.assign(a,s),s.data=s.data||{},s.data.property_key&&(s.data.env_key=s.data.property_key,delete s.data.property_key),ln.level=s.debug?dc.DEBUG:dc.WARN,o.getPlayheadTime=s.getPlayheadTime,o.getStateData=s.getStateData||function(){return{}},o.getAdData=s.getAdData||function(){},o.minimumRebufferDuration=s.minimumRebufferDuration,o.sustainedRebufferThreshold=s.sustainedRebufferThreshold,o.playbackHeartbeatTime=s.playbackHeartbeatTime,o.disableRebufferTracking=s.disableRebufferTracking,o.disableRebufferTracking&&o.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),o.disablePlayheadRebufferTracking=s.disablePlayheadRebufferTracking,o.errorTranslator=s.errorTranslator,o.emitTranslator=s.emitTranslator,o.stateDataTranslator=s.stateDataTranslator,o.playbackEventDispatcher=new oJ(r,s.data.env_key,s),o.data={player_instance_id:Sp(),mux_sample_rate:s.sampleRate,beacon_domain:s.beaconCollectionDomain||s.beaconDomain},o.data.view_sequence_number=1,o.data.player_sequence_number=1;var c=(function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind(dt(o));if(o.on("viewinit",function(p,g){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,g),this._initializeViewData(),this.one("play",c),this.one("adbreakstart",c)}),o.on("videochange",function(p,g){this._resetView(g)}),o.on("programchange",function(p,g){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(g,{view_program_changed:!0})),c(),this.emit("play"),this.emit("playing")}),o.on("fragmentchange",function(p,g){this.currentFragmentPDT=g.currentFragmentPDT,this.currentFragmentStart=g.currentFragmentStart}),o.on("destroy",o.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var u=function(){var p=typeof o.data.view_start<"u";o.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",p&&o.mux.WINDOW_HIDDEN&&(o.data.player_is_paused||o.emit("hb"))};window.addEventListener("visibilitychange",u,!1);var h=function(p){p.persisted||o.destroy()};window.addEventListener("pagehide",h,!1),o.on("destroy",function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",h)})}o.on("playerready",function(p,g){Object.assign(this.data,g)}),hJ.forEach(function(p){o.on(p,function(g,v){p.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,v),this._sanitizeData()}),o.on("after"+p,function(){(p!=="error"||this.errorTracker.viewErrored)&&this.send(p)})}),o.on("viewend",function(p,g){Object.assign(o.data,g)});var f=function(p){var g=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=g-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return o.one("playerready",f),o.longResumeTracker=new dJ(dt(o)),o.errorTracker=new fZ(dt(o)),new $Z(dt(o)),o.seekingTracker=new IZ(dt(o)),o.playheadTime=new bZ(dt(o)),o.playbackHeartbeat=new dZ(dt(o)),new CZ(dt(o)),o.watchTimeTracker=new mZ(dt(o)),new vZ(dt(o)),o.adTracker=new PZ(dt(o)),new TZ(dt(o)),new xZ(dt(o)),new wZ(dt(o)),new OZ(dt(o)),new lJ(dt(o)),s.hlsjs&&o.addHLSJS(s),s.dashjs&&o.addDashJS(s),o.emit("viewinit",s.data),o}return Ro(n,[{key:"emit",value:function(r,i){var s,o=Object.assign({viewer_time:this.mux.utils.now()},i),a=[r,o];if(this.emitTranslator)try{a=this.emitTranslator(r,o)}catch(c){this.mux.log.warn("Exception in emit translator callback.",c)}a!=null&&a.length&&(s=P0(Rd(n.prototype),"emit",this)).call.apply(s,[this].concat(ps(a)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(r){if(this.data.view_id){var i=Object.assign({},this.data),s=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(i.video_source_is_live===void 0&&(i.player_source_duration===1/0||i.video_source_duration===1/0?i.video_source_is_live=!0:(i.player_source_duration>0||i.video_source_duration>0)&&(i.video_source_is_live=!1)),i.video_source_is_live||s.forEach(function(u){i[u]=void 0}),i.video_source_url=i.video_source_url||i.player_source_url,i.video_source_url){var o=oa(Tp(i.video_source_url),2),a=o[0],c=o[1];i.video_source_domain=c,i.video_source_hostname=a}delete i.ad_request_id,this.playbackEventDispatcher.send(r,i),this.data.view_sequence_number++,this.data.player_sequence_number++,fJ.has(r)||this._restartHeartBeat(),r==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(r){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",r)}},{key:"_updateStateData",value:function(){var r=this.getStateData();if(typeof this.stateDataTranslator=="function")try{r=this.stateDataTranslator(r)}catch(i){this.mux.log.warn("Exception in stateDataTranslator translator callback.",i)}Object.assign(this.data,r),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var r=this,i=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];i.forEach(function(o){var a=parseInt(r.data[o],10);r.data[o]=isNaN(a)?void 0:a});var s=["player_source_url","video_source_url"];s.forEach(function(o){if(r.data[o]){var a=r.data[o].toLowerCase();(a.indexOf("data:")===0||a.indexOf("blob:")===0)&&(r.data[o]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var r=this;Object.keys(this.data).forEach(function(i){i.indexOf("video_")===0&&delete r.data[i]})}},{key:"_resetViewData",value:function(){var r=this;Object.keys(this.data).forEach(function(i){i.indexOf("view_")===0&&delete r.data[i]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var r=this,i=this.data.view_id=Sp(),s=function(){i===r.data.view_id&&Xn(r.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",s):s()}},{key:"_restartHeartBeat",value:function(){var r=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){r.data.player_is_paused||r.emit("hb")},1e4)}},{key:"addHLSJS",value:function(r){if(!r.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=r.hlsjs,tZ(this.mux,this.id,r.hlsjs,{},r.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(nZ(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(r){if(!r.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=r.dashjs,oZ(this.mux,this.id,r.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(aZ(this.dashjs),this.dashjs=void 0)}}]),n}(cZ),mJ=pJ,Zh=Li(Z3());function gJ(){return Zh.default&&!!(Zh.default.fullscreenElement||Zh.default.webkitFullscreenElement||Zh.default.mozFullScreenElement||Zh.default.msFullscreenElement)}var vJ=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],yJ={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function bJ(t,e,n){var r=oa(uy(e),3),i=r[0],s=r[1],o=r[2],a=t.log,c=t.utils.getComputedStyle,u=t.utils.secondsToMs,h={automaticErrorTracking:!0};if(i){if(o!=="video"&&o!=="audio")return a.error("The element of `"+s+"` was not a media element.")}else return a.error("No element was found with the `"+s+"` query selector.");i.mux&&(i.mux.destroy(),delete i.mux,a.warn("Already monitoring this video element, replacing existing event listeners"));var f={getPlayheadTime:function(){return u(i.currentTime)},getStateData:function(){var g,v,y,E=((g=(v=this).getPlayheadTime)===null||g===void 0?void 0:g.call(v))||u(i.currentTime),S=this.hlsjs&&this.hlsjs.url,w=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),T={player_is_paused:i.paused,player_width:parseInt(c(i,"width")),player_height:parseInt(c(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:gJ(),video_poster_url:i.poster,video_source_url:S||w||i.currentSrc,video_source_duration:u(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:i==null||(y=i.getVideoPlaybackQuality)===null||y===void 0?void 0:y.call(i).droppedVideoFrames};if(i.getStartDate&&E>0){var C=i.getStartDate();if(C&&typeof C.getTime=="function"&&C.getTime()){var _=C.getTime();if(T.player_program_time=_+E,i.seekable.length>0){var L=_+i.seekable.end(i.seekable.length-1);T.player_live_edge_program_time=L}}}return T}};n=Object.assign(h,n,f),n.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:t.VERSION},n.data),i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(g,v){t.emit(s,g,v)},i.mux.updateData=function(g){i.mux.emit("hb",g)};var p=function(){a.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(g){i.removeEventListener(g,i.mux.listeners[g],!1)}),delete i.mux.listeners,i.mux.destroy=p,i.mux.swapElement=p,i.mux.emit=p,i.mux.addHLSJS=p,i.mux.addDashJS=p,i.mux.removeHLSJS=p,i.mux.removeDashJS=p,i.mux.updateData=p,i.mux.setEmitTranslator=p,i.mux.setStateDataTranslator=p,i.mux.setGetPlayheadTime=p,i.mux.deleted=!0,t.emit(s,"destroy")},i.mux.swapElement=function(g){var v=oa(uy(g),3),y=v[0],E=v[1],S=v[2];if(y){if(S!=="video"&&S!=="audio")return t.log.error("The element of `"+E+"` was not a media element.")}else return t.log.error("No element was found with the `"+E+"` query selector.");y.muxId=i.muxId,delete i.muxId,y.mux=y.mux||{},y.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(y.mux.listeners).forEach(function(w){i.removeEventListener(w,y.mux.listeners[w],!1),y.addEventListener(w,y.mux.listeners[w],!1)}),y.mux.swapElement=i.mux.swapElement,y.mux.destroy=i.mux.destroy,delete i.mux,i=y},i.mux.addHLSJS=function(g){t.addHLSJS(s,g)},i.mux.addDashJS=function(g){t.addDashJS(s,g)},i.mux.removeHLSJS=function(){t.removeHLSJS(s)},i.mux.removeDashJS=function(){t.removeDashJS(s)},i.mux.setEmitTranslator=function(g){t.setEmitTranslator(s,g)},i.mux.setStateDataTranslator=function(g){t.setStateDataTranslator(s,g)},i.mux.setGetPlayheadTime=function(g){g||(g=n.getPlayheadTime),t.setGetPlayheadTime(s,g)},t.init(s,n),t.emit(s,"playerready"),i.paused||(t.emit(s,"play"),i.readyState>2&&t.emit(s,"playing")),i.mux.listeners={},vJ.forEach(function(g){g==="error"&&!n.automaticErrorTracking||(i.mux.listeners[g]=function(){var v={};if(g==="error"){if(!i.error||i.error.code===1)return;v.player_error_code=i.error.code,v.player_error_message=yJ[i.error.code]||i.error.message}t.emit(s,g,v)},i.addEventListener(g,i.mux.listeners[g],!1))})}function EJ(t,e,n,r){var i=r;if(t&&typeof t[e]=="function")try{i=t[e].apply(t,n)}catch(s){ln.info("safeCall error",s)}return i}var Qf=Li(Ps()),Iu;Qf.default&&Qf.default.WeakMap&&(Iu=new WeakMap);function xJ(t,e){if(!t||!e||!Qf.default||typeof Qf.default.getComputedStyle!="function")return"";var n;return Iu&&Iu.has(t)&&(n=Iu.get(t)),n||(n=Qf.default.getComputedStyle(t,null),Iu&&Iu.set(t,n)),n.getPropertyValue(e)}function SJ(t){return Math.floor(t*1e3)}var Dl={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},Sb=function(t){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(t),this.manifest};Sb.prototype.process=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};Sb.prototype.processLine=function(t){var e=t.indexOf(":"),n=_J(t,e),r=n[0],i=n.length===2?Lw(n[1]):void 0;if(r[0]!=="#")this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case Dl.TARGET_DURATION:{if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break}case Dl.PART_INF:{r1(this.manifest,n),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case Dl.SERVER_CONTROL:{r1(this.manifest,n),this.setHoldBack();break}case Dl.INF:{i===0?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break}case Dl.PROGRAM_DATE_TIME:{var s=i,o=new Date(s);this.manifest.dateTimeString||(this.manifest.dateTimeString=s,this.manifest.dateTimeObject=o),this.currentUri.dateTimeString=s,this.currentUri.dateTimeObject=o;break}case Dl.VERSION:{r1(this.manifest,n);break}case Dl.SESSION_DATA:{var a=CJ(n[1]),c=nN(a);Object.assign(this.manifest.sessionData,c)}}};Sb.prototype.setHoldBack=function(){var t=this.manifest,e=t.serverControl,n=t.targetDuration,r=t.partTargetDuration;if(e){var i="holdBack",s="partHoldBack",o=n&&n*3,a=r&&r*2;n&&!e.hasOwnProperty(i)&&(e[i]=o),o&&e[i]<o&&(e[i]=o),r&&!e.hasOwnProperty(s)&&(e[s]=r*3),r&&e[s]<a&&(e[s]=a)}};var r1=function(t,e){var n=dN(e[0].replace("#EXT-X-","")),r;wJ(e[1])?(r={},r=Object.assign(AJ(e[1]),r)):r=Lw(e[1]),t[n]=r},dN=function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},Lw=function(t){if(t.toLowerCase()==="yes"||t.toLowerCase()==="no")return t.toLowerCase()==="yes";var e=t.indexOf(":")!==-1?t:parseFloat(t);return isNaN(e)?t:e},TJ=function(t){var e={},n=t.split("=");if(n.length>1){var r=dN(n[0]);e[r]=Lw(n[1])}return e},AJ=function(t){for(var e=t.split(","),n={},r=0;e.length>r;r++){var i=e[r],s=TJ(i);n=Object.assign(s,n)}return n},wJ=function(t){return t.indexOf("=")>-1},_J=function(t,e){return e===-1?[t]:[t.substring(0,e),t.substring(e+1)]},CJ=function(t){var e={};if(t){var n=t.search(","),r=t.slice(0,n),i=t.slice(n+1),s=[r,i];return s.forEach(function(o,a){for(var c=o.replace(/['"]+/g,"").split("="),u=0;u<c.length;u++)c[u]==="DATA-ID"&&(e["DATA-ID"]=c[1-u]),c[u]==="VALUE"&&(e.VALUE=c[1-u])}),{data:e}}},kJ=Sb,RJ={safeCall:EJ,safeIncrement:Xn,getComputedStyle:xJ,secondsToMs:SJ,assign:Object.assign,headersStringToObject:Iw,cdnHeadersToRequestId:fy,extractHostnameAndDomain:Tp,extractHostname:As,manifestParser:kJ,generateShortID:eN,generateUUID:Sp,now:Zn.now,findMediaElement:uy},IJ=RJ,LJ={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},DJ=LJ,PJ="mux-embed",MJ="5.6.0",OJ="2.1",Gn={},tl=function(t){var e=arguments;typeof t=="string"?tl.hasOwnProperty(t)?Xf.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),tl[t].apply(null,e)},0):ln.warn("`"+t+"` is an unknown task"):typeof t=="function"?Xf.default.setTimeout(function(){t(tl)},0):ln.warn("`"+t+"` is invalid.")},NJ={loaded:Zn.now(),NAME:PJ,VERSION:MJ,API_VERSION:OJ,PLAYER_TRACKED:!1,monitor:function(t,e){return bJ(tl,t,e)},destroyMonitor:function(t){var e=oa(uy(t),1),n=e[0];n&&n.mux&&typeof n.mux.destroy=="function"?n.mux.destroy():ln.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(t,e){var n=fs(t);Gn[n]?Gn[n].addHLSJS(e):ln.error("A monitor for `"+n+"` has not been initialized.")},addDashJS:function(t,e){var n=fs(t);Gn[n]?Gn[n].addDashJS(e):ln.error("A monitor for `"+n+"` has not been initialized.")},removeHLSJS:function(t){var e=fs(t);Gn[e]?Gn[e].removeHLSJS():ln.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(t){var e=fs(t);Gn[e]?Gn[e].removeDashJS():ln.error("A monitor for `"+e+"` has not been initialized.")},init:function(t,e){MS()&&e&&e.respectDoNotTrack&&ln.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var n=fs(t);Gn[n]=new mJ(tl,n,e)},emit:function(t,e,n){var r=fs(t);Gn[r]?(Gn[r].emit(e,n),e==="destroy"&&delete Gn[r]):ln.error("A monitor for `"+r+"` has not been initialized.")},updateData:function(t,e){var n=fs(t);Gn[n]?Gn[n].emit("hb",e):ln.error("A monitor for `"+n+"` has not been initialized.")},setEmitTranslator:function(t,e){var n=fs(t);Gn[n]?Gn[n].emitTranslator=e:ln.error("A monitor for `"+n+"` has not been initialized.")},setStateDataTranslator:function(t,e){var n=fs(t);Gn[n]?Gn[n].stateDataTranslator=e:ln.error("A monitor for `"+n+"` has not been initialized.")},setGetPlayheadTime:function(t,e){var n=fs(t);Gn[n]?Gn[n].getPlayheadTime=e:ln.error("A monitor for `"+n+"` has not been initialized.")},checkDoNotTrack:MS,log:ln,utils:IJ,events:DJ,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(tl,NJ);typeof Xf.default<"u"&&typeof Xf.default.addEventListener=="function"&&Xf.default.addEventListener("pagehide",function(t){t.persisted||(tl.WINDOW_UNLOADING=!0)},!1);var Dw=tl;/*!
* JavaScript Cookie v2.1.3
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/function $J(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hN={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(c,u,h){if(h=h||{},c=c.trim(),u=u.trim(),!u){if(!h.alwaysNormalize)return c;var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=a.normalizePath(f.path),a.buildURLFromParts(f)}var p=a.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return h.alwaysNormalize?(p.path=a.normalizePath(p.path),a.buildURLFromParts(p)):u;var g=a.parseURL(c);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var v=i.exec(g.path);g.netLoc=v[1],g.path=v[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(y.netLoc=g.netLoc,p.path[0]!=="/"))if(!p.path)y.path=g.path,p.params||(y.params=g.params,p.query||(y.query=g.query));else{var E=g.path,S=E.substring(0,E.lastIndexOf("/")+1)+p.path;y.path=a.normalizePath(S)}return y.path===null&&(y.path=h.alwaysNormalize?a.normalizePath(p.path):p.path),a.buildURLFromParts(y)},parseURL:function(c){var u=r.exec(c);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(s,"");c.length!==(c=c.replace(o,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=a})()})(hN);var Pw=hN.exports;function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){UJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t){var e=FJ(t,"string");return typeof e=="symbol"?e:String(e)}function UJ(t,e,n){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jn(){return Jn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jn.apply(this,arguments)}const Fe=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},jJ=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=VJ},VJ=Number.MAX_SAFE_INTEGER||9007199254740991;let M=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),lt=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),le=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Vl=function(){},$S={trace:Vl,debug:Vl,log:Vl,warn:Vl,info:Vl,error:Vl};let Zf=$S;function WJ(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Vl}function HJ(t,...e){e.forEach(function(n){Zf[n]=t[n]?t[n].bind(t):WJ(n)})}function GJ(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){HJ(t,"debug","log","info","warn","error");try{Zf.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch{Zf=$S}}else Zf=$S}const ee=Zf,KJ=/^(\d+)x(\d+)$/,nL=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Cn{constructor(e){typeof e=="string"&&(e=Cn.parseAttrList(e)),Jn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=KJ.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(nL.lastIndex=0;(n=nL.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=n[1].trim();r[o]=s}return r}}function zJ(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function YJ(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class fN{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){ee.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Jn(new Cn({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);Fe(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Fe(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Fe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Tb{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Jt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class pN{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Jt.AUDIO]:null,[Jt.VIDEO]:null,[Jt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Pw.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class i1 extends pN{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Tb,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!Fe(this.programDateTime))return null;const e=Fe(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,o=!1){const{elementaryStreams:a}=this,c=a[e];if(!c){a[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:o};return}c.startPTS=Math.min(c.startPTS,n),c.endPTS=Math.max(c.endPTS,r),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Jt.AUDIO]=null,e[Jt.VIDEO]=null,e[Jt.AUDIOVIDEO]=null}}let qJ=class extends pN{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Tb,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};const XJ=10;class QJ{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?Fe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||XJ}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Mw(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function ZJ(t){const e=FS(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function JJ(t){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function eee(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),n=Mw(o)):n=ZJ(o)}}return n}function FS(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const Id=typeof self<"u"?self:void 0;var zt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},ui={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function s1(t){switch(t){case ui.FAIRPLAY:return zt.FAIRPLAY;case ui.PLAYREADY:return zt.PLAYREADY;case ui.WIDEVINE:return zt.WIDEVINE;case ui.CLEARKEY:return zt.CLEARKEY}}var Vg={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function o1(t){if(t===Vg.WIDEVINE)return zt.WIDEVINE;if(t===Vg.PLAYREADY)return zt.PLAYREADY;if(t===Vg.CENC||t===Vg.CLEARKEY)return zt.CLEARKEY}function a1(t){switch(t){case zt.FAIRPLAY:return ui.FAIRPLAY;case zt.PLAYREADY:return ui.PLAYREADY;case zt.WIDEVINE:return ui.WIDEVINE;case zt.CLEARKEY:return ui.CLEARKEY}}function Wg(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[zt.FAIRPLAY,zt.WIDEVINE,zt.PLAYREADY,zt.CLEARKEY].filter(i=>!!e[i]):[];return!r[zt.WIDEVINE]&&n&&r.push(zt.WIDEVINE),r}const mN=function(t){return Id!=null&&(t=Id.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function tee(t,e,n,r){let i;switch(t){case zt.FAIRPLAY:i=["cenc","sinf"];break;case zt.WIDEVINE:case zt.PLAYREADY:i=["cenc"];break;case zt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return nee(i,e,n,r)}function nee(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function gN(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),o=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(o){const a=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(a){const c=Mw(a).subarray(0,16);return JJ(c),c}}return null}function _c(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const Ow=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,vN=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Ap=(t,e)=>{const n=e;let r=0;for(;Ow(t,e);){r+=10;const i=Ab(t,e+6);r+=i,vN(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},Ab=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},ree=(t,e)=>Ow(t,e)&&Ab(t,e+6)+10<=t.length-e,Nw=t=>{const e=bN(t);for(let n=0;n<e.length;n++){const r=e[n];if(yN(r))return cee(r)}},yN=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",iee=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=Ab(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},bN=t=>{let e=0;const n=[];for(;Ow(t,e);){const r=Ab(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=iee(t.subarray(e)),o=see(s);o&&n.push(o),e+=s.size+10}vN(t,e)&&(e+=10)}return n},see=t=>t.type==="PRIV"?oee(t):t.type[0]==="W"?lee(t):aee(t),oee=t=>{if(t.size<2)return;const e=bo(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},aee=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=bo(t.data.subarray(n),!0);n+=r.length+1;const i=bo(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=bo(t.data.subarray(1));return{key:t.type,data:e}},lee=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=bo(t.data.subarray(n),!0);n+=r.length+1;const i=bo(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=bo(t.data);return{key:t.type,data:e}},cee=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},bo=(t,e=!1)=>{const n=uee();if(n){const u=n.decode(t);if(e){const h=u.indexOf("\0");return h!==-1?u.substring(0,h):u}return u.replace(/\0/g,"")}const r=t.length;let i,s,o,a="",c=0;for(;c<r;){if(i=t[c++],i===0&&e)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:s=t[c++],a+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[c++],o=t[c++],a+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return a};let l1;function uee(){if(!navigator.userAgent.includes("PlayStation 4"))return!l1&&typeof self.TextDecoder<"u"&&(l1=new self.TextDecoder("utf-8")),l1}const no={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},py=Math.pow(2,32)-1,dee=[].push,EN={video:1,audio:2,id3:3,text:4};function sr(t){return String.fromCharCode.apply(null,t)}function xN(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function rt(t,e){const n=SN(t,e);return n<0?4294967296+n:n}function rL(t,e){let n=rt(t,e);return n*=Math.pow(2,32),n+=rt(t,e+4),n}function SN(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function c1(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function hee(t){const e=t.byteLength;for(let n=0;n<e;){const r=rt(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function ft(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=rt(t,i),o=sr(t.subarray(i+4,i+8)),a=s>1?i+s:r;if(o===e[0])if(e.length===1)n.push(t.subarray(i+8,a));else{const c=ft(t.subarray(i+8,a),e.slice(1));c.length&&dee.apply(n,c)}i=a}return n}function fee(t){const e=[],n=t[0];let r=8;const i=rt(t,r);r+=4;let s=0,o=0;n===0?(s=rt(t,r),o=rt(t,r+4),r+=8):(s=rL(t,r),o=rL(t,r+8),r+=16),r+=2;let a=t.length+o;const c=xN(t,r);r+=2;for(let u=0;u<c;u++){let h=r;const f=rt(t,h);h+=4;const p=f&2147483647;if((f&2147483648)>>>31===1)return ee.warn("SIDX has hierarchical references (not supported)"),null;const v=rt(t,h);h+=4,e.push({referenceSize:p,subsegmentDuration:v,info:{duration:v/i,start:a,end:a+p-1}}),a+=p,h+=4,r=h}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:c,references:e}}function TN(t){const e=[],n=ft(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],o=ft(s,["tkhd"])[0];if(o){let a=o[0];const c=rt(o,a===0?12:20),u=ft(s,["mdia","mdhd"])[0];if(u){a=u[0];const h=rt(u,a===0?12:20),f=ft(s,["mdia","hdlr"])[0];if(f){const p=sr(f.subarray(8,12)),g={soun:Jt.AUDIO,vide:Jt.VIDEO}[p];if(g){const v=ft(s,["mdia","minf","stbl","stsd"])[0],y=pee(v);e[c]={timescale:h,type:g},e[g]=Sr({timescale:h,id:c},y)}}}}}return ft(t,["moov","mvex","trex"]).forEach(i=>{const s=rt(i,4),o=e[s];o&&(o.default={duration:rt(i,12),flags:rt(i,20)})}),e}function pee(t){const e=t.subarray(8),n=e.subarray(86),r=sr(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const a=ft(e,[r])[0].subarray(r==="enca"?28:78);ft(a,["sinf"]).forEach(u=>{const h=ft(u,["schm"])[0];if(h){const f=sr(h.subarray(4,8));if(f==="cbcs"||f==="cenc"){const p=ft(u,["frma"])[0];p&&(i=sr(p))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const o=ft(n,["avcC"])[0];i+="."+Hg(o[1])+Hg(o[2])+Hg(o[3]);break}case"mp4a":{const o=ft(e,[r])[0],a=ft(o.subarray(28),["esds"])[0];if(a&&a.length>12){let c=4;if(a[c++]!==3)break;c=u1(a,c),c+=2;const u=a[c++];if(u&128&&(c+=2),u&64&&(c+=a[c++]),a[c++]!==4)break;c=u1(a,c);const h=a[c++];if(h===64)i+="."+Hg(h);else break;if(c+=12,a[c++]!==5)break;c=u1(a,c);const f=a[c++];let p=(f&248)>>3;p===31&&(p+=1+((f&7)<<3)+((a[c]&224)>>5)),i+="."+p}break}case"hvc1":case"hev1":{const o=ft(n,["hvcC"])[0],a=o[1],c=["","A","B","C"][a>>6],u=a&31,h=rt(o,2),f=(a&32)>>5?"H":"L",p=o[12],g=o.subarray(6,12);i+="."+c+u,i+="."+h.toString(16).toUpperCase(),i+="."+f+p;let v="";for(let y=g.length;y--;){const E=g[y];(E||v)&&(v="."+E.toString(16).toUpperCase()+v)}i+=v;break}case"dvh1":case"dvhe":{const o=ft(n,["dvcC"])[0],a=o[2]>>1&127,c=o[2]<<5&32|o[3]>>3&31;i+="."+js(a)+"."+js(c);break}case"vp09":{const o=ft(n,["vpcC"])[0],a=o[4],c=o[5],u=o[6]>>4&15;i+="."+js(a)+"."+js(c)+"."+js(u);break}case"av01":{const o=ft(n,["av1C"])[0],a=o[1]>>>5,c=o[1]&31,u=o[2]>>>7?"H":"M",h=(o[2]&64)>>6,f=(o[2]&32)>>5,p=a===2&&h?f?12:10:h?10:8,g=(o[2]&16)>>4,v=(o[2]&8)>>3,y=(o[2]&4)>>2,E=o[2]&3;i+="."+a+"."+js(c)+u+"."+js(p)+"."+g+"."+v+y+E+"."+js(1)+"."+js(1)+"."+js(1)+"."+0;break}}return{codec:i,encrypted:s}}function u1(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function Hg(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function js(t){return(t<10?"0":"")+t}function mee(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&ft(t,["moov","trak"]).forEach(i=>{const o=ft(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=ft(o,["enca"]);const c=a.length>0;c||(a=ft(o,["encv"])),a.forEach(u=>{const h=c?u.subarray(28):u.subarray(78);ft(h,["sinf"]).forEach(p=>{const g=AN(p);if(g){const v=g.subarray(8,24);v.some(y=>y!==0)||(ee.log(`[eme] Patching keyId in 'enc${c?"a":"v"}>sinf>>tenc' box: ${no.hexDump(v)} -> ${no.hexDump(n)}`),g.set(n,8))}})})}),t}function AN(t){const e=ft(t,["schm"])[0];if(e){const n=sr(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return ft(t,["schi","tenc"])[0]}return null}function gee(t,e){return ft(e,["moof","traf"]).reduce((n,r)=>{const i=ft(r,["tfdt"])[0],s=i[0],o=ft(r,["tfhd"]).reduce((a,c)=>{const u=rt(c,4),h=t[u];if(h){let f=rt(i,4);if(s===1){if(f===py)return ee.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;f*=py+1,f+=rt(i,8)}const p=h.timescale||9e4,g=f/p;if(Fe(g)&&(a===null||g<a))return g}return a},null);return o!==null&&Fe(o)&&(n===null||o<n)?o:n},null)}function vee(t,e){let n=0,r=0,i=0;const s=ft(t,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],c=ft(a,["tfhd"])[0],u=rt(c,4),h=e[u];if(!h)continue;const f=h.default,p=rt(c,0)|(f==null?void 0:f.flags);let g=f==null?void 0:f.duration;p&8&&(p&2?g=rt(c,12):g=rt(c,8));const v=h.timescale||9e4,y=ft(a,["trun"]);for(let E=0;E<y.length;E++){if(n=yee(y[E]),!n&&g){const S=rt(y[E],4);n=g*S}h.type===Jt.VIDEO?r+=n/v:h.type===Jt.AUDIO&&(i+=n/v)}}if(r===0&&i===0){let o=1/0,a=0,c=0;const u=ft(t,["sidx"]);for(let h=0;h<u.length;h++){const f=fee(u[h]);if(f!=null&&f.references){o=Math.min(o,f.earliestPresentationTime/f.timescale);const p=f.references.reduce((g,v)=>g+v.info.duration||0,0);a=Math.max(a,p+f.earliestPresentationTime/f.timescale),c=a-o}}if(c&&Fe(c))return c}return r||i}function yee(t){const e=rt(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=rt(t,4);for(let s=0;s<i;s++){if(e&256){const o=rt(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function bee(t,e,n){ft(e,["moof","traf"]).forEach(r=>{ft(r,["tfhd"]).forEach(i=>{const s=rt(i,4),o=t[s];if(!o)return;const a=o.timescale||9e4;ft(r,["tfdt"]).forEach(c=>{const u=c[0],h=n*a;if(h){let f=rt(c,4);if(u===0)f-=h,f=Math.max(f,0),c1(c,4,f);else{f*=Math.pow(2,32),f+=rt(c,8),f-=h,f=Math.max(f,0);const p=Math.floor(f/(py+1)),g=Math.floor(f%(py+1));c1(c,4,p),c1(c,8,g)}}})})})}function Eee(t){const e={valid:null,remainder:null},n=ft(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=_c(t,0,r.byteOffset-8),e.remainder=_c(t,r.byteOffset-8),e}function ts(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function iL(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return ft(r,["moof"]).map(c=>{const u=c.byteOffset-8;ft(c,["traf"]).map(f=>{const p=ft(f,["tfdt"]).map(g=>{const v=g[0];let y=rt(g,4);return v===1&&(y*=Math.pow(2,32),y+=rt(g,8)),y/i})[0];return p!==void 0&&(t=p),ft(f,["tfhd"]).map(g=>{const v=rt(g,4),y=rt(g,0)&16777215,E=(y&1)!==0,S=(y&2)!==0,w=(y&8)!==0;let T=0;const C=(y&16)!==0;let _=0;const L=(y&32)!==0;let D=8;v===s&&(E&&(D+=8),S&&(D+=4),w&&(T=rt(g,D),D+=4),C&&(_=rt(g,D),D+=4),L&&(D+=4),e.type==="video"&&(o=xee(e.codec)),ft(f,["trun"]).map(P=>{const N=P[0],k=rt(P,0)&16777215,$=(k&1)!==0;let z=0;const j=(k&4)!==0,q=(k&256)!==0;let G=0;const H=(k&512)!==0;let Q=0;const W=(k&1024)!==0,V=(k&2048)!==0;let K=0;const B=rt(P,4);let Z=8;$&&(z=rt(P,Z),Z+=4),j&&(Z+=4);let ue=z+u;for(let fe=0;fe<B;fe++){if(q?(G=rt(P,Z),Z+=4):G=T,H?(Q=rt(P,Z),Z+=4):Q=_,W&&(Z+=4),V&&(N===0?K=rt(P,Z):K=SN(P,Z),Z+=4),e.type===Jt.VIDEO){let me=0;for(;me<Q;){const he=rt(r,ue);if(ue+=4,See(o,r[ue])){const Te=r.subarray(ue,ue+he);wN(Te,o?2:1,t+K/i,n)}ue+=he,me+=he+4}}t+=G/i}}))})})}),n}function xee(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function See(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function wN(t,e,n,r){const i=_N(t);let s=0;s+=e;let o=0,a=0,c=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;c=i[s++],o+=c}while(c===255);a=0;do{if(s>=i.length)break;c=i[s++],a+=c}while(c===255);const u=i.length-s;let h=s;if(a<u)s+=a;else if(a>u){ee.error(`Malformed SEI payload. ${a} is too small, only ${u} bytes left to parse.`);break}if(o===4){if(i[h++]===181){const p=xN(i,h);if(h+=2,p===49){const g=rt(i,h);if(h+=4,g===1195456820){const v=i[h++];if(v===3){const y=i[h++],E=31&y,S=64&y,w=S?2+E*3:0,T=new Uint8Array(w);if(S){T[0]=y;for(let C=1;C<w;C++)T[C]=i[h++]}r.push({type:v,payloadType:o,pts:n,bytes:T})}}}}}else if(o===5&&a>16){const f=[];for(let v=0;v<16;v++){const y=i[h++].toString(16);f.push(y.length==1?"0"+y:y),(v===3||v===5||v===7||v===9)&&f.push("-")}const p=a-16,g=new Uint8Array(p);for(let v=0;v<p;v++)g[v]=i[h++];r.push({payloadType:o,pts:n,uuid:f.join(""),userData:bo(g),userDataBytes:g})}}}function _N(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=t[o];return s}function Tee(t){const e=t[0];let n="",r="",i=0,s=0,o=0,a=0,c=0,u=0;if(e===0){for(;sr(t.subarray(u,u+1))!=="\0";)n+=sr(t.subarray(u,u+1)),u+=1;for(n+=sr(t.subarray(u,u+1)),u+=1;sr(t.subarray(u,u+1))!=="\0";)r+=sr(t.subarray(u,u+1)),u+=1;r+=sr(t.subarray(u,u+1)),u+=1,i=rt(t,12),s=rt(t,16),a=rt(t,20),c=rt(t,24),u=28}else if(e===1){u+=4,i=rt(t,u),u+=4;const f=rt(t,u);u+=4;const p=rt(t,u);for(u+=4,o=2**32*f+p,jJ(o)||(o=Number.MAX_SAFE_INTEGER,ee.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=rt(t,u),u+=4,c=rt(t,u),u+=4;sr(t.subarray(u,u+1))!=="\0";)n+=sr(t.subarray(u,u+1)),u+=1;for(n+=sr(t.subarray(u,u+1)),u+=1;sr(t.subarray(u,u+1))!=="\0";)r+=sr(t.subarray(u,u+1)),u+=1;r+=sr(t.subarray(u,u+1)),u+=1}const h=t.subarray(u,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:c,payload:h}}function Aee(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function wee(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),Aee([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,o,n||new Uint8Array)}function _ee(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=Cee(i);e.push(s),r+=s.size}}return e}function Cee(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const o=t.buffer,a=no.hexDump(new Uint8Array(o,n+12,16)),c=t.getUint32(28);let u=null,h=null;if(s===0){if(e-32<c||c<22)return{offset:n,size:e};h=new Uint8Array(o,n+32,c)}else if(s===1){if(!c||r<n+32+c*16+16)return{offset:n,size:e};u=[];for(let f=0;f<c;f++)u.push(new Uint8Array(o,n+32+f*16,16))}return{version:s,systemId:a,kids:u,data:h,offset:n,size:e}}let Gg={};class wp{static clearKeyUriToKeyIdMap(){Gg={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case ui.FAIRPLAY:case ui.WIDEVINE:case ui.PLAYREADY:case ui.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&ee.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=kee(e);return new wp(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=eee(this.uri);if(n)switch(this.keyFormat){case ui.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case ui.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=wee(r,null,n),this.keyId=gN(n);break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=Gg[this.uri];if(!r){const i=Object.keys(Gg).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),Gg[this.uri]=r}this.keyId=r}return this}}function kee(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const CN=/\{\$([a-zA-Z0-9-_]+)\}/g;function sL(t){return CN.test(t)}function ai(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=BS(t,s))}}function BS(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(CN,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function oL(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function Ree(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Bc(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function Iee(t){return typeof self<"u"&&t===self.ManagedMediaSource}const my={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Lee(t,e){const n=my[e];return!!n&&!!n[t.slice(0,4)]}function d1(t,e,n=!0){return!t.split(",").some(r=>!kN(r,e,n))}function kN(t,e,n=!0){var r;const i=Bc(n);return(r=i==null?void 0:i.isTypeSupported(_p(t,e)))!=null?r:!1}function _p(t,e){return`${e}/mp4;codecs="${t}"`}function aL(t){if(t){const e=t.substring(0,4);return my.video[e]}return 2}function gy(t){return t.split(",").reduce((e,n)=>{const r=my.video[n];return r?(r*2+e)/(e?3:2):(my.audio[n]+e)/(e?2:1)},0)}const h1={};function Dee(t,e=!0){if(h1[t])return h1[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(kN(n[r],"audio",e))return h1[t]=n[r],n[r];return t}const Pee=/flac|opus/i;function vy(t,e=!0){return t.replace(Pee,n=>Dee(n.toLowerCase(),e))}function lL(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function Mee(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=i}}return e.join(",")}const cL=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,uL=/#EXT-X-MEDIA:(.*)/g,Oee=/^#EXT(?:INF|-X-TARGETDURATION):/m,dL=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Nee=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class uo{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return Pw.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Oee.test(e)}static parseMasterPlaylist(e,n){const r=sL(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];cL.lastIndex=0;let o;for(;(o=cL.exec(e))!=null;)if(o[1]){var a;const u=new Cn(o[1]);ai(i,u,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const h=BS(i,o[2]),f={attrs:u,bitrate:u.decimalInteger("BANDWIDTH")||u.decimalInteger("AVERAGE-BANDWIDTH"),name:u.NAME,url:uo.resolve(h,n)},p=u.decimalResolution("RESOLUTION");p&&(f.width=p.width,f.height=p.height),$ee(u.CODECS,f),(a=f.unknownCodecs)!=null&&a.length||s.push(f),i.levels.push(f)}else if(o[3]){const u=o[3],h=o[4];switch(u){case"SESSION-DATA":{const f=new Cn(h);ai(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);const p=f["DATA-ID"];p&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[p]=f);break}case"SESSION-KEY":{const f=hL(h,n,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):ee.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${h}"`);break}case"DEFINE":{{const f=new Cn(h);ai(i,f,["NAME","VALUE","QUERYPARAM"]),oL(i,f,n)}break}case"CONTENT-STEERING":{const f=new Cn(h);ai(i,f,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:uo.resolve(f["SERVER-URI"],n),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=fL(h);break}}}const c=s.length>0&&s.length<i.levels.length;return i.levels=c?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},o=r.levels,a={AUDIO:o.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:o.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(uL.lastIndex=0;(i=uL.exec(e))!==null;){const u=new Cn(i[1]),h=u.TYPE;if(h){const f=a[h],p=s[h]||[];s[h]=p,ai(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const g=u.LANGUAGE,v=u["ASSOC-LANGUAGE"],y=u.CHANNELS,E=u.CHARACTERISTICS,S=u["INSTREAM-ID"],w={attrs:u,bitrate:0,id:c++,groupId:u["GROUP-ID"]||"",name:u.NAME||g||"",type:h,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:g,url:u.URI?uo.resolve(u.URI,n):""};if(v&&(w.assocLang=v),y&&(w.channels=y),E&&(w.characteristics=E),S&&(w.instreamId=S),f!=null&&f.length){const T=uo.findGroup(f,w.groupId)||f[0];pL(w,T,"audioCodec"),pL(w,T,"textCodec")}p.push(w)}}return s}static parseLevelPlaylist(e,n,r,i,s,o){const a=new QJ(n),c=a.fragments;let u=null,h=0,f=0,p=0,g=0,v=null,y=new i1(i,n),E,S,w,T=-1,C=!1,_=null;for(dL.lastIndex=0,a.m3u8=e,a.hasVariableRefs=sL(e);(E=dL.exec(e))!==null;){C&&(C=!1,y=new i1(i,n),y.start=p,y.sn=h,y.cc=g,y.level=r,u&&(y.initSegment=u,y.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null,_&&(y.setByteRange(_),_=null)));const N=E[1];if(N){y.duration=parseFloat(N);const k=(" "+E[2]).slice(1);y.title=k||null,y.tagList.push(k?["INF",N,k]:["INF",N])}else if(E[3]){if(Fe(y.duration)){y.start=p,w&&vL(y,w,a),y.sn=h,y.level=r,y.cc=g,c.push(y);const k=(" "+E[3]).slice(1);y.relurl=BS(a,k),mL(y,v),v=y,p+=y.duration,h++,f=0,C=!0}}else if(E[4]){const k=(" "+E[4]).slice(1);v?y.setByteRange(k,v):y.setByteRange(k)}else if(E[5])y.rawProgramDateTime=(" "+E[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),T===-1&&(T=c.length);else{if(E=E[0].match(Nee),!E){ee.warn("No matches on slow regex match for level playlist!");continue}for(S=1;S<E.length&&!(typeof E[S]<"u");S++);const k=(" "+E[S]).slice(1),$=(" "+E[S+1]).slice(1),z=E[S+2]?(" "+E[S+2]).slice(1):"";switch(k){case"PLAYLIST-TYPE":a.type=$.toUpperCase();break;case"MEDIA-SEQUENCE":h=a.startSN=parseInt($);break;case"SKIP":{const j=new Cn($);ai(a,j,["RECENTLY-REMOVED-DATERANGES"]);const q=j.decimalInteger("SKIPPED-SEGMENTS");if(Fe(q)){a.skippedSegments=q;for(let H=q;H--;)c.unshift(null);h+=q}const G=j.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(a.recentlyRemovedDateranges=G.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt($),1);break;case"VERSION":a.version=parseInt($);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":($||z)&&y.tagList.push(z?[$,z]:[$]);break;case"DISCONTINUITY":g++,y.tagList.push(["DIS"]);break;case"GAP":y.gap=!0,y.tagList.push([k]);break;case"BITRATE":y.tagList.push([k,$]);break;case"DATERANGE":{const j=new Cn($);ai(a,j,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ai(a,j,j.clientAttrs);const q=new fN(j,a.dateRanges[j.ID]);q.isValid||a.skippedSegments?a.dateRanges[q.id]=q:ee.warn(`Ignoring invalid DATERANGE tag: "${$}"`),y.tagList.push(["EXT-X-DATERANGE",$]);break}case"DEFINE":{{const j=new Cn($);ai(a,j,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in j?Ree(a,j,o):oL(a,j,n)}break}case"DISCONTINUITY-SEQUENCE":g=parseInt($);break;case"KEY":{const j=hL($,n,a);if(j.isSupported()){if(j.method==="NONE"){w=void 0;break}w||(w={}),w[j.keyFormat]&&(w=Jn({},w)),w[j.keyFormat]=j}else ee.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${$}"`);break}case"START":a.startTimeOffset=fL($);break;case"MAP":{const j=new Cn($);if(ai(a,j,["BYTERANGE","URI"]),y.duration){const q=new i1(i,n);gL(q,j,r,w),u=q,y.initSegment=u,u.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=u.rawProgramDateTime)}else{const q=y.byteRangeEndOffset;if(q){const G=y.byteRangeStartOffset;_=`${q-G}@${G}`}else _=null;gL(y,j,r,w),u=y,C=!0}break}case"SERVER-CONTROL":{const j=new Cn($);a.canBlockReload=j.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=j.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&j.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=j.optionalFloat("PART-HOLD-BACK",0),a.holdBack=j.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const j=new Cn($);a.partTarget=j.decimalFloatingPoint("PART-TARGET");break}case"PART":{let j=a.partList;j||(j=a.partList=[]);const q=f>0?j[j.length-1]:void 0,G=f++,H=new Cn($);ai(a,H,["BYTERANGE","URI"]);const Q=new qJ(H,y,n,G,q);j.push(Q),y.duration+=Q.duration;break}case"PRELOAD-HINT":{const j=new Cn($);ai(a,j,["URI"]),a.preloadHint=j;break}case"RENDITION-REPORT":{const j=new Cn($);ai(a,j,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(j);break}default:ee.warn(`line parsed but not handled: ${E}`);break}}}v&&!v.relurl?(c.pop(),p-=v.duration,a.partList&&(a.fragmentHint=v)):a.partList&&(mL(y,v),y.cc=g,a.fragmentHint=y,w&&vL(y,w,a));const L=c.length,D=c[0],P=c[L-1];if(p+=a.skippedSegments*a.targetduration,p>0&&L&&P){a.averagetargetduration=p/L;const N=P.sn;a.endSN=N!=="initSegment"?N:0,a.live||(P.endList=!0),D&&(a.startCC=D.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(p+=a.fragmentHint.duration),a.totalduration=p,a.endCC=g,T>0&&Fee(c,T),a}}function hL(t,e,n){var r,i;const s=new Cn(t);ai(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",a=s.URI,c=s.hexadecimalInteger("IV"),u=s.KEYFORMATVERSIONS,h=(i=s.KEYFORMAT)!=null?i:"identity";a&&s.IV&&!c&&ee.error(`Invalid IV: ${s.IV}`);const f=a?uo.resolve(a,e):"",p=(u||"1").split("/").map(Number).filter(Number.isFinite);return new wp(o,f,h,p,c)}function fL(t){const n=new Cn(t).decimalFloatingPoint("TIME-OFFSET");return Fe(n)?n:null}function $ee(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>Lee(s,r));i.length&&(e[`${r}Codec`]=i.join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function pL(t,e,n){const r=e[n];r&&(t[n]=r)}function Fee(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function mL(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Fe(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function gL(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function vL(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var Mt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},it={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function yL(t){const{type:e}=t;switch(e){case Mt.AUDIO_TRACK:return it.AUDIO;case Mt.SUBTITLE_TRACK:return it.SUBTITLE;default:return it.MAIN}}function f1(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class Bee{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(M.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(M.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,o=new s(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Mt.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:a}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:Mt.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Mt.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Mt.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=i.context;if(u&&u.url===e.url&&u.level===e.level){ee.trace("[playlist-loader]: playlist request ongoing");return}ee.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===Mt.MANIFEST?s=r.manifestLoadPolicy.default:s=Jn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Fe((n=e.deliveryDirectives)==null?void 0:n.part)){let u;if(e.type===Mt.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===Mt.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===Mt.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const h=u.partTarget,f=u.targetduration;if(h&&f){const p=Math.max(h*3,f*.8)*1e3;s=Jn({},s,{maxTimeToFirstByteMs:Math.min(p,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(u,h,f,p)=>{const g=this.getInternalLoader(f);this.resetInternalLoader(f.type);const v=u.data;if(v.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,f,new Error("no EXTM3U delimiter"),p||null,h);return}h.parsing.start=performance.now(),uo.isMediaPlaylist(v)?this.handleTrackOrLevelPlaylist(u,h,f,p||null,g):this.handleMasterPlaylist(u,h,f,p)},onError:(u,h,f,p)=>{this.handleNetworkError(h,f,!1,u,p)},onTimeout:(u,h,f)=>{this.handleNetworkError(h,f,!0,void 0,u)}};i.load(e,a,c)}handleMasterPlaylist(e,n,r,i){const s=this.hls,o=e.data,a=f1(e,r),c=uo.parseMasterPlaylist(o,a);if(c.playlistParsingError){this.handleManifestParsingError(e,r,c.playlistParsingError,i,n);return}const{contentSteering:u,levels:h,sessionData:f,sessionKeys:p,startTimeOffset:g,variableList:v}=c;this.variableList=v;const{AUDIO:y=[],SUBTITLES:E,"CLOSED-CAPTIONS":S}=uo.parseMasterPlaylistMedia(o,a,c);y.length&&!y.some(T=>!T.url)&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(ee.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Cn({}),bitrate:0,url:""})),s.trigger(M.MANIFEST_LOADED,{levels:h,audioTracks:y,subtitles:E,captions:S,contentSteering:u,url:a,stats:n,networkDetails:i,sessionData:f,sessionKeys:p,startTimeOffset:g,variableList:v})}handleTrackOrLevelPlaylist(e,n,r,i,s){const o=this.hls,{id:a,level:c,type:u}=r,h=f1(e,r),f=0,p=Fe(c)?c:Fe(a)?a:0,g=yL(r),v=uo.parseLevelPlaylist(e.data,h,p,g,f,this.variableList);if(u===Mt.MANIFEST){const y={attrs:new Cn({}),bitrate:0,details:v,name:"",url:h};o.trigger(M.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:h,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=v,this.handlePlaylistLoaded(v,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(M.ERROR,{type:lt.NETWORK_ERROR,details:le.MANIFEST_PARSING_ERROR,fatal:n.type===Mt.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Mt.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===Mt.AUDIO_TRACK||e.type===Mt.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);ee.warn(`[playlist-loader]: ${o}`);let c=le.UNKNOWN,u=!1;const h=this.getInternalLoader(e);switch(e.type){case Mt.MANIFEST:c=r?le.MANIFEST_LOAD_TIMEOUT:le.MANIFEST_LOAD_ERROR,u=!0;break;case Mt.LEVEL:c=r?le.LEVEL_LOAD_TIMEOUT:le.LEVEL_LOAD_ERROR,u=!1;break;case Mt.AUDIO_TRACK:c=r?le.AUDIO_TRACK_LOAD_TIMEOUT:le.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Mt.SUBTITLE_TRACK:c=r?le.SUBTITLE_TRACK_LOAD_TIMEOUT:le.SUBTITLE_LOAD_ERROR,u=!1;break}h&&this.resetInternalLoader(e.type);const f={type:lt.NETWORK_ERROR,details:c,fatal:u,url:e.url,loader:h,context:e,error:a,networkDetails:n,stats:s};if(i){const p=(n==null?void 0:n.url)||e.url;f.response=Sr({url:p,data:void 0},i)}this.hls.trigger(M.ERROR,f)}handlePlaylistLoaded(e,n,r,i,s,o){const a=this.hls,{type:c,level:u,id:h,groupId:f,deliveryDirectives:p}=i,g=f1(n,i),v=yL(i),y=typeof i.level=="number"&&v===it.MAIN?u:void 0;if(!e.fragments.length){const S=new Error("No Segments found in Playlist");a.trigger(M.ERROR,{type:lt.NETWORK_ERROR,details:le.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:S,reason:S.message,response:n,context:i,level:y,parent:v,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const E=e.playlistParsingError;if(E){a.trigger(M.ERROR,{type:lt.NETWORK_ERROR,details:le.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:E,reason:E.message,response:n,context:i,level:y,parent:v,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case Mt.MANIFEST:case Mt.LEVEL:a.trigger(M.LEVEL_LOADED,{details:e,level:y||0,id:h||0,stats:r,networkDetails:s,deliveryDirectives:p});break;case Mt.AUDIO_TRACK:a.trigger(M.AUDIO_TRACK_LOADED,{details:e,id:h||0,groupId:f||"",stats:r,networkDetails:s,deliveryDirectives:p});break;case Mt.SUBTITLE_TRACK:a.trigger(M.SUBTITLE_TRACK_LOADED,{details:e,id:h||0,groupId:f||"",stats:r,networkDetails:s,deliveryDirectives:p});break}}}function RN(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function IN(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){ee.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){ee.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function ed(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function US(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=jee(t.cues,e,n);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&t.removeCue(s[o])}i==="disabled"&&(t.mode=i)}function Uee(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function jee(t,e,n){const r=[],i=Uee(t,e);if(i>-1)for(let s=i,o=t.length;s<o;s++){const a=t[s];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function M0(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var ws={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const Vee=.25;function jS(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function bL(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,JSON.stringify(i?Sr({type:i},r):r))}return s}const Kg=(()=>{const t=jS();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function p1(t,e){return t.getTime()/1e3-e}function Wee(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Hee{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(ed(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return RN(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=jS();if(o)for(let a=0;a<s.length;a++){const c=s[a].type;if(c===ws.emsg&&!r||!i)continue;const u=bN(s[a].data);if(u){const h=s[a].pts;let f=h+s[a].duration;f>Kg&&(f=Kg),f-h<=0&&(f=h+Vee);for(let g=0;g<u.length;g++){const v=u[g];if(!yN(v)){this.updateId3CueEnds(h,c);const y=bL(o,h,f,v,c);y&&this.id3Track.addCue(y)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===n&&o.startTime<e&&o.endTime===Kg&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:c}}=o;if(s&&(a||c)){let u;i==="audio"?u=h=>h.type===ws.audioId3&&c:i==="video"?u=h=>h.type===ws.emsg&&a:u=h=>h.type===ws.audioId3&&c||h.type===ws.emsg&&a,US(s,n,r,u)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,o=Object.keys(s);if(i){const h=Object.keys(r).filter(f=>!o.includes(f));for(let f=h.length;f--;){const p=h[f];Object.keys(r[p].cues).forEach(g=>{i.removeCue(r[p].cues[g])}),delete r[p]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!Fe(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=a.programDateTime/1e3-a.start,u=jS();for(let h=0;h<o.length;h++){const f=o[h],p=s[f],g=p1(p.startDate,c),v=r[f],y=(v==null?void 0:v.cues)||{};let E=(v==null?void 0:v.durationKnown)||!1,S=Kg;const w=p.endDate;if(w)S=p1(w,c),E=!0;else if(p.endOnNext&&!E){const C=o.reduce((_,L)=>{if(L!==p.id){const D=s[L];if(D.class===p.class&&D.startDate>p.startDate&&(!_||p.startDate<_.startDate))return D}return _},null);C&&(S=p1(C.startDate,c),E=!0)}const T=Object.keys(p.attr);for(let C=0;C<T.length;C++){const _=T[C];if(!zJ(_))continue;const L=y[_];if(L)E&&!v.durationKnown&&(L.endTime=S);else if(u){let D=p.attr[_];YJ(_)&&(D=Wee(D));const P=bL(u,g,S,{key:_,data:D},ws.dateRange);P&&(P.id=f,this.id3Track.addCue(P),y[_]=P)}}r[f]={cues:y,dateRange:p,durationKnown:E}}}}class Gee{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,c=this.hls.userConfig;let u=a&&r||n;(c.liveSyncDuration||c.liveSyncDurationCount||u===0)&&(u=s!==void 0?s:o*i);const h=i;return u+Math.min(this.stallCount*1,h)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,o=i-r.totalduration,a=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(M.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(M.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===le.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&ee.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const a=r-o,c=Math.min(this.maxLatency,o+n.targetduration);if(a<c&&a>.05&&this.forwardBufferLength>1){const h=Math.min(2,Math.max(1,s)),f=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(h,Math.max(1,f))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const VS=["NONE","TYPE-0","TYPE-1",null];function Kee(t){return VS.indexOf(t)>-1}const yy=["SDR","PQ","HLG"];function zee(t){return!!t&&yy.indexOf(t)>-1}var O0={No:"",Yes:"YES",v2:"v2"};function EL(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?O0.v2:O0.Yes:O0.No}class xL{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class Ld{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return SL(this._audioGroups,e)}hasSubtitleGroup(e){return SL(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function SL(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function m1(t,e){const n=e.startPTS;if(Fe(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function LN(t,e,n,r,i,s){r-n<=0&&(ee.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let a=n,c=r;const u=e.startPTS,h=e.endPTS;if(Fe(u)){const E=Math.abs(u-n);Fe(e.deltaPTS)?e.deltaPTS=Math.max(E,e.deltaPTS):e.deltaPTS=E,a=Math.max(n,u),n=Math.min(n,u),i=Math.min(i,e.startDTS),c=Math.min(r,h),r=Math.max(r,h),s=Math.max(s,e.endDTS)}const f=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=c,e.endDTS=s;const p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;let g;const v=p-t.startSN,y=t.fragments;for(y[v]=e,g=v;g>0;g--)m1(y[g],y[g-1]);for(g=v;g<y.length-1;g++)m1(y[g],y[g+1]);return t.fragmentHint&&m1(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function Yee(t,e){let n=null;const r=t.fragments;for(let a=r.length-1;a>=0;a--){const c=r[a].initSegment;if(c){n=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i;Qee(t,e,(a,c,u,h)=>{if(e.skippedSegments&&c.cc!==a.cc){const f=a.cc-c.cc;for(let p=u;p<h.length;p++)h[p].cc+=f}Fe(a.startPTS)&&Fe(a.endPTS)&&(c.start=c.startPTS=a.startPTS,c.startDTS=a.startDTS,c.maxStartPTS=a.maxStartPTS,c.endPTS=a.endPTS,c.endDTS=a.endDTS,c.minEndPTS=a.minEndPTS,c.duration=a.endPTS-a.startPTS,c.duration&&(i=c),e.PTSKnown=e.alignedSliding=!0),c.elementaryStreams=a.elementaryStreams,c.loader=a.loader,c.stats=a.stats,a.initSegment&&(c.initSegment=a.initSegment,n=a.initSegment)});const s=e.fragments;if(n&&(e.fragmentHint?s.concat(e.fragmentHint):s).forEach(c=>{var u;c&&(!c.initSegment||c.initSegment.relurl===((u=n)==null?void 0:u.relurl))&&(c.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(a=>!a),e.deltaUpdateFailed){ee.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let a=e.skippedSegments;a--;)s.shift();e.startSN=s[0].sn}else e.canSkipDateRanges&&(e.dateRanges=qee(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=s[s.length-1].cc}Xee(t.partList,e.partList,(a,c)=>{c.elementaryStreams=a.elementaryStreams,c.stats=a.stats}),i?LN(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):DN(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const a=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=a),e.driftEndTime=o,e.driftEnd=a}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function qee(t,e,n){const r=Jn({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new fN(e[i].attr,r[i]);s.isValid?r[i]=s:ee.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function Xee(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function Qee(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let u=i;u<=s;u++){const h=c[o+u];let f=a[u];r&&!f&&u<r&&(f=e.fragments[u]=h),h&&f&&n(h,f,u,a)}}function DN(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||WS(e,r[n].start)}function WS(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Zee(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function Jee(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function TL(t,e,n){var r;return t!=null&&t.details?PN((r=t.details)==null?void 0:r.partList,e,n):null}function PN(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function MN(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=n})})}function by(t){switch(t.details){case le.FRAG_LOAD_TIMEOUT:case le.KEY_LOAD_TIMEOUT:case le.LEVEL_LOAD_TIMEOUT:case le.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function AL(t,e){const n=by(e);return t.default[`${n?"timeout":"error"}Retry`]}function $w(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function wL(t){return Sr(Sr({},t),{errorRetry:null,timeoutRetry:null})}function Ey(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,s=e<t.maxNumRetry&&(ete(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function ete(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const ON={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const o=e(s);if(o>0)n=i+1;else if(o<0)r=i-1;else return s}return null}};function tte(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!Fe(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const o=t[s];if(rte(e,n,o))return o}return null}function xy(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&HS(n,r,s)===0||nte(s,t,Math.min(i,r))))return s;const o=ON.search(e,HS.bind(null,n,r));return o&&(o!==t||!s)?o:s}function nte(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function HS(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function rte(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function ite(t,e){return ON.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var Cr={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ms={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class ste{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=ee.log.bind(ee,"[info]:"),this.warn=ee.warn.bind(ee,"[warning]:"),this.error=ee.error.bind(ee,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(M.ERROR,this.onError,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(M.ERROR,this.onError,this),e.off(M.ERROR,this.onErrorOut,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===it.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case le.FRAG_LOAD_ERROR:case le.FRAG_LOAD_TIMEOUT:case le.KEY_LOAD_ERROR:case le.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case le.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:Cr.DoNothing,flags:ms.None};return}case le.FRAG_GAP:case le.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Cr.SendAlternateToPenaltyBox;return}case le.LEVEL_EMPTY_ERROR:case le.LEVEL_PARSING_ERROR:{var a,c;const u=n.parent===it.MAIN?n.level:s.loadLevel;n.details===le.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(c=a.levelDetails)!=null&&c.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,u):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,u))}return;case le.LEVEL_LOAD_ERROR:case le.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case le.AUDIO_TRACK_LOAD_ERROR:case le.AUDIO_TRACK_LOAD_TIMEOUT:case le.SUBTITLE_LOAD_ERROR:case le.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const u=s.levels[s.loadLevel];if(u&&(o.type===Mt.AUDIO_TRACK&&u.hasAudioGroup(o.groupId)||o.type===Mt.SUBTITLE_TRACK&&u.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=Cr.SendAlternateToPenaltyBox,n.errorAction.flags=ms.MoveAllAlternatesMatchingHost;return}}return;case le.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=s.levels[s.loadLevel],h=u==null?void 0:u.attrs["HDCP-LEVEL"];h?n.errorAction={action:Cr.SendAlternateToPenaltyBox,flags:ms.MoveAllAlternatesMatchingHDCP,hdcpLevel:h}:this.keySystemError(n)}return;case le.BUFFER_ADD_CODEC_ERROR:case le.REMUX_ALLOC_ERROR:case le.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case le.INTERNAL_EXCEPTION:case le.BUFFER_APPENDING_ERROR:case le.BUFFER_FULL_ERROR:case le.LEVEL_SWITCH_ERROR:case le.BUFFER_STALLED_ERROR:case le.BUFFER_SEEK_OVER_HOLE:case le.BUFFER_NUDGE_ON_STALL:n.errorAction={action:Cr.DoNothing,flags:ms.None};return}n.type===lt.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=AL(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Ey(i,s,by(e),e.response))return{action:Cr.RetryRequest,flags:ms.None,retryConfig:i,retryCount:s};const a=this.getLevelSwitchAction(e,n);return i&&(a.retryConfig=i,a.retryCount=s),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=n.config,a=AL(e.details.startsWith("key")?o:s,e),c=n.levels.reduce((h,f)=>h+f.fragmentError,0);if(i&&(e.details!==le.FRAG_GAP&&i.fragmentError++,Ey(a,c,by(e),e.response)))return{action:Cr.RetryRequest,flags:ms.None,retryConfig:a,retryCount:c};const u=this.getLevelSwitchAction(e,r);return a&&(u.retryConfig=a,u.retryCount=c),u}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,o;const u=e.details;i.loadError++,u===le.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:f,loadLevel:p,minAutoLevel:g,maxAutoLevel:v}=r;r.autoLevelEnabled||(r.loadLevel=-1);const y=(s=e.frag)==null?void 0:s.type,S=(y===it.AUDIO&&u===le.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(u===le.BUFFER_ADD_CODEC_ERROR||u===le.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:L})=>i.audioCodec!==L),T=e.sourceBufferName==="video"&&(u===le.BUFFER_ADD_CODEC_ERROR||u===le.BUFFER_APPEND_ERROR)&&f.some(({codecSet:L,audioCodec:D})=>i.codecSet!==L&&i.audioCodec===D),{type:C,groupId:_}=(o=e.context)!=null?o:{};for(let L=f.length;L--;){const D=(L+p)%f.length;if(D!==p&&D>=g&&D<=v&&f[D].loadError===0){var a,c;const P=f[D];if(u===le.FRAG_GAP&&y===it.MAIN&&e.frag){const N=f[D].details;if(N){const k=xy(e.frag,N.fragments,e.frag.start);if(k!=null&&k.gap)continue}}else{if(C===Mt.AUDIO_TRACK&&P.hasAudioGroup(_)||C===Mt.SUBTITLE_TRACK&&P.hasSubtitleGroup(_))continue;if(y===it.AUDIO&&(a=i.audioGroups)!=null&&a.some(N=>P.hasAudioGroup(N))||y===it.SUBTITLE&&(c=i.subtitleGroups)!=null&&c.some(N=>P.hasSubtitleGroup(N))||S&&i.audioCodec===P.audioCodec||!S&&i.audioCodec!==P.audioCodec||T&&i.codecSet===P.codecSet)continue}h=D;break}}if(h>-1&&r.loadLevel!==h)return e.levelRetry=!0,this.playlistError=0,{action:Cr.SendAlternateToPenaltyBox,flags:ms.None,nextAutoLevel:h}}return{action:Cr.SendAlternateToPenaltyBox,flags:ms.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case Cr.DoNothing:break;case Cr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==le.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case ms.None:this.switchLevel(e,o);break;case ms.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=VS[VS.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class Fw{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=ee.log.bind(ee,`${n}:`),this.warn=ee.warn.bind(ee,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const a=i[o];let c;try{c=new self.URL(a.URI,n.url).href}catch(u){ee.warn(`Could not construct new URL for Rendition Report: ${u}`),c=a.URI||""}if(c===e){s=o;break}else c===e.substring(0,c.length)&&(s=o)}if(s!==-1){const o=i[s],a=parseInt(o["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let c=parseInt(o["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const h=Math.min(n.age-n.partTarget,n.targetduration);c>=0&&h>n.partTarget&&(c+=1)}const u=r&&EL(r);return new xL(a,c>=0?c:void 0,u)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-a,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&Yee(r,i),!this.canLoad||!i.live)return;let c,u,h;if(i.canBlockReload&&i.endSN&&i.advanced){const E=this.hls.config.lowLatencyMode,S=i.lastPartSn,w=i.endSN,T=i.lastPartIndex,C=T!==-1,_=S===w,L=E?0:T;C?(u=_?w+1:S,h=_?L:T+1):u=w+1;const D=i.age,P=D+i.ageHeader;let N=Math.min(P-i.partTarget,i.targetduration*1.5);if(N>0){if(r&&N>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${N} with playlist age: ${i.age}`),N=0;else{const k=Math.floor(N/i.targetduration);if(u+=k,h!==void 0){const $=Math.round(N%i.targetduration/i.partTarget);h+=$}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${D.toFixed(2)}s goal: ${N} skip sn ${k} to part ${h}`)}i.tuneInGoal=N}if(c=this.getDeliveryDirectives(i,n.deliveryDirectives,u,h),E||!_){this.loadPlaylist(c);return}}else(i.canBlockReload||i.canSkipUntil)&&(c=this.getDeliveryDirectives(i,n.deliveryDirectives,u,h));const f=this.hls.mainForwardBufferInfo,p=f?f.end-f.len:0,g=(i.edge-p)*1e3,v=Zee(i,g);i.updated&&o>this.requestScheduled+v&&(this.requestScheduled=s.loading.start),u!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+v-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+v<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=v);let y=this.requestScheduled-o;y=Math.max(0,y),this.log(`reload live playlist ${e} in ${Math.round(y)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(c),y)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=EL(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=O0.No),new xL(r,i,s)}checkRetry(e){const n=e.details,r=by(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=i||{},c=!!i&&!!a&&(s===Cr.RetryRequest||!i.resolved&&s===Cr.SendAlternateToPenaltyBox);if(c){var u;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const h=$w(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),h),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${h}ms`)}e.levelRetry=!0,i.resolved=!0}return c}}class Eu{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class ote{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Eu(e),this.fast_=new Eu(n),this.defaultTTFB_=i,this.ttfb_=new Eu(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new Eu(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new Eu(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Eu(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const NN={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},_L={};function ate(t,e,n,r,i,s){const o=t.audioCodec?t.audioGroups:null,a=s==null?void 0:s.audioCodec,c=s==null?void 0:s.channels,u=c?parseInt(c):a?1/0:2;let h=null;if(o!=null&&o.length)try{o.length===1&&o[0]?h=e.groups[o[0]].channels:h=o.reduce((f,p)=>{if(p){const g=e.groups[p];if(!g)throw new Error(`Audio track group ${p} not found`);Object.keys(g.channels).forEach(v=>{f[v]=(f[v]||0)+g.channels[v]})}return f},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!h&&Fe(u)&&Object.keys(h).some(f=>parseInt(f)>u)}function lte(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(NN);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const a=r.split(",").map(c=>({type:"media-source",video:Sr(Sr({},s),{},{contentType:_p(c,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(c=>{var u;c&&((u=e.groups[c])==null||u.tracks.forEach(h=>{if(h.groupId===c){const f=h.channels||"",p=parseFloat(f);Fe(p)&&p>2&&a.push.apply(a,i.split(",").map(g=>({type:"media-source",audio:{contentType:_p(g,"audio"),channels:""+p}})))}}))}),Promise.all(a.map(c=>{const u=cte(c);return _L[u]||(_L[u]=n.decodingInfo(c))})).then(c=>({supported:!c.some(u=>!u.supported),configurations:a,decodingInfoResults:c})).catch(c=>({supported:!1,configurations:a,decodingInfoResults:[],error:c}))}function cte(t){const{audio:e,video:n}=t,r=n||e;if(r){const i=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${i}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function ute(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function dte(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||yy.slice(0),n=e.preferHDR!==void 0?e.preferHDR:ute(),n?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function hte(t,e,n,r,i){const s=Object.keys(t),o=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,c=o&&parseInt(o)===2;let u=!0,h=!1,f=1/0,p=1/0,g=1/0,v=0,y=[];const{preferHDR:E,allowedVideoRanges:S}=dte(e,i);for(let _=s.length;_--;){const L=t[s[_]];u=L.channels[2]>0,f=Math.min(f,L.minHeight),p=Math.min(p,L.minFramerate),g=Math.min(g,L.minBitrate);const D=S.filter(P=>L.videoRanges[P]>0);D.length>0&&(h=!0,y=D)}f=Fe(f)?f:0,p=Fe(p)?p:0;const w=Math.max(1080,f),T=Math.max(30,p);return g=Fe(g)?g:n,n=Math.max(g,n),h||(e=void 0,y=[]),{codecSet:s.reduce((_,L)=>{const D=t[L];if(L===_)return _;if(D.minBitrate>n)return Uo(L,`min bitrate of ${D.minBitrate} > current estimate of ${n}`),_;if(!D.hasDefaultAudio)return Uo(L,"no renditions with default or auto-select sound found"),_;if(a&&L.indexOf(a.substring(0,4))%5!==0)return Uo(L,`audio codec preference "${a}" not found`),_;if(o&&!c){if(!D.channels[o])return Uo(L,`no renditions with ${o} channel sound found (channels options: ${Object.keys(D.channels)})`),_}else if((!a||c)&&u&&D.channels[2]===0)return Uo(L,"no renditions with stereo sound found"),_;return D.minHeight>w?(Uo(L,`min resolution of ${D.minHeight} > maximum of ${w}`),_):D.minFramerate>T?(Uo(L,`min framerate of ${D.minFramerate} > maximum of ${T}`),_):y.some(P=>D.videoRanges[P]>0)?D.maxScore<v?(Uo(L,`max score of ${D.maxScore} < selected max of ${v}`),_):_&&(gy(L)>=gy(_)||D.fragmentError>t[_].fragmentError)?_:(v=D.maxScore,L):(Uo(L,`no variants with VIDEO-RANGE of ${JSON.stringify(y)} found`),_)},void 0),videoRanges:y,preferHDR:E,minFramerate:p,minBitrate:g}}function Uo(t,e){ee.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function fte(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function pte(t,e,n,r){return t.slice(n,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const o=s.audioGroups;let a=i[s.codecSet];a||(i[s.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,s.bitrate);const c=Math.min(s.height,s.width);return a.minHeight=Math.min(a.minHeight,c),a.minFramerate=Math.min(a.minFramerate,s.frameRate),a.maxScore=Math.max(a.maxScore,s.score),a.fragmentError+=s.fragmentError,a.videoRanges[s.videoRange]=(a.videoRanges[s.videoRange]||0)+1,o&&o.forEach(u=>{if(!u)return;const h=e.groups[u];h&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?h.hasDefault:h.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(h.channels).forEach(f=>{a.channels[f]=(a.channels[f]||0)+h.channels[f]}))}),i},{})}function ho(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Cc(t,i,n))return r}return-1}function Cc(t,e,n){const{groupId:r,name:i,lang:s,assocLang:o,default:a}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===o)&&(a===void 0||e.default===a)&&(c===void 0||e.forced===c)&&(!("characteristics"in t)||mte(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function mte(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function Wl(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function gte(t,e,n,r,i){const s=e[r],a=e.reduce((p,g,v)=>{const y=g.uri;return(p[y]||(p[y]=[])).push(v),p},{})[s.uri];a.length>1&&(r=Math.max.apply(Math,a));const c=s.videoRange,u=s.frameRate,h=s.codecSet.substring(0,4),f=CL(e,r,p=>{if(p.videoRange!==c||p.frameRate!==u||p.codecSet.substring(0,4)!==h)return!1;const g=p.audioGroups,v=n.filter(y=>!g||g.indexOf(y.groupId)!==-1);return ho(t,v,i)>-1});return f>-1?f:CL(e,r,p=>{const g=p.audioGroups,v=n.filter(y=>!g||g.indexOf(y.groupId)!==-1);return ho(t,v,i)>-1})}function CL(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class vte{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:o}=i;if(!n||!o)return;const a=performance.now(),c=r?r.stats:n.stats,u=r?r.duration:n.duration,h=a-c.loading.start,f=i.minAutoLevel;if(c.aborted||c.loaded&&c.loaded===c.total||n.level<=f){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||o.paused||!o.playbackRate||!o.readyState)return;const p=i.mainForwardBufferInfo;if(p===null)return;const g=this.bwEstimator.getEstimateTTFB(),v=Math.abs(o.playbackRate);if(h<=Math.max(g,1e3*(u/(v*2))))return;const y=p.len/v,E=c.loading.first?c.loading.first-c.loading.start:-1,S=c.loaded&&E>-1,w=this.getBwEstimate(),T=i.levels,C=T[n.level],_=c.total||Math.max(c.loaded,Math.round(u*C.averageBitrate/8));let L=S?h-E:h;L<1&&S&&(L=Math.min(h,c.loaded*8/w));const D=S?c.loaded*1e3/L:0,P=D?(_-c.loaded)/D:_*8/w+g/1e3;if(P<=y)return;const N=D?D*8:w;let k=Number.POSITIVE_INFINITY,$;for($=n.level-1;$>f;$--){const j=T[$].maxBitrate;if(k=this.getTimeToLoadFrag(g/1e3,N,u*j,!T[$].details),k<y)break}if(k>=P||k>u*10)return;i.nextLoadLevel=i.nextAutoLevel=$,S?this.bwEstimator.sample(h-Math.min(g,E),c.loaded):this.bwEstimator.sampleTTFB(h);const z=T[$].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>z&&this.resetEstimator(z),this.clearTimer(),ee.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${y.toFixed(3)} s
      Estimated load time for current fragment: ${P.toFixed(3)} s
      Estimated load time for down switch fragment: ${k.toFixed(3)} s
      TTFB estimate: ${E|0} ms
      Current BW estimate: ${Fe(w)?w|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${$} @ ${z|0} bps`),i.trigger(M.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:c})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(ee.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new ote(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.FRAG_LOADING,this.onFragLoading,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.FRAG_LOADING,this.onFragLoading,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(M.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case le.BUFFER_ADD_CODEC_ERROR:case le.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case le.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),a=s?s.stats:r.stats,c=o-a.loading.start,u=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&u>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(c-Math.min(f,u),a.loaded)}else this.bwEstimator.sampleTTFB(c)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.start;Fe(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===it.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+i.loaded,c=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:c},o.realBitrate=Math.round(8*a/c)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(M.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==it.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,a=Math.min(Math.max(o,n),e);return ee.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o}=r,a=n?n.duration:e?e.duration:0,c=this.getBwEstimate(),u=this.getStarvationDelay();let h=s.abrBandWidthFactor,f=s.abrBandWidthUpFactor;if(u){const E=this.findBestLevel(c,o,i,u,0,h,f);if(E>=0)return E}let p=a?Math.min(a,s.maxStarvationDelay):s.maxStarvationDelay;if(!u){const E=this.bitrateTestDelay;E&&(p=(a?Math.min(a,s.maxLoadingDelay):s.maxLoadingDelay)-E,ee.info(`[abr] bitrate test took ${Math.round(1e3*E)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),h=f=1)}const g=this.findBestLevel(c,o,i,u,p,h,f);if(ee.info(`[abr] ${u?"rebuffering expected":"buffer is empty"}, optimal quality level ${g}`),g>-1)return g;const v=r.levels[o],y=r.levels[r.loadLevel];return(v==null?void 0:v.bitrate)<(y==null?void 0:y.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,o,a){var c;const u=i+s,h=this.lastLoadedFragLevel,f=h===-1?this.hls.firstLevel:h,{fragCurrent:p,partCurrent:g}=this,{levels:v,allAudioTracks:y,loadLevel:E,config:S}=this.hls;if(v.length===1)return 0;const w=v[f],T=!!(w!=null&&(c=w.details)!=null&&c.live),C=E===-1||h===-1;let _,L="SDR",D=(w==null?void 0:w.frameRate)||0;const{audioPreference:P,videoPreference:N}=S,k=this.audioTracksByGroup||(this.audioTracksByGroup=fte(y));if(C){if(this.firstSelection!==-1)return this.firstSelection;const G=this.codecTiers||(this.codecTiers=pte(v,k,n,r)),H=hte(G,L,e,P,N),{codecSet:Q,videoRanges:W,minFramerate:V,minBitrate:K,preferHDR:B}=H;_=Q,L=B?W[W.length-1]:W[0],D=V,e=Math.max(e,K),ee.log(`[abr] picked start tier ${JSON.stringify(H)}`)}else _=w==null?void 0:w.codecSet,L=w==null?void 0:w.videoRange;const $=g?g.duration:p?p.duration:0,z=this.bwEstimator.getEstimateTTFB()/1e3,j=[];for(let G=r;G>=n;G--){var q;const H=v[G],Q=G>f;if(!H)continue;if(S.useMediaCapabilities&&!H.supportedResult&&!H.supportedPromise){const fe=navigator.mediaCapabilities;typeof(fe==null?void 0:fe.decodingInfo)=="function"&&ate(H,k,L,D,e,P)?(H.supportedPromise=lte(H,k,fe),H.supportedPromise.then(me=>{if(!this.hls)return;H.supportedResult=me;const he=this.hls.levels,Te=he.indexOf(H);me.error?ee.warn(`[abr] MediaCapabilities decodingInfo error: "${me.error}" for level ${Te} ${JSON.stringify(me)}`):me.supported||(ee.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${Te} ${JSON.stringify(me)}`),Te>-1&&he.length>1&&(ee.log(`[abr] Removing unsupported level ${Te}`),this.hls.removeLevel(Te)))})):H.supportedResult=NN}if(_&&H.codecSet!==_||L&&H.videoRange!==L||Q&&D>H.frameRate||!Q&&D>0&&D<H.frameRate||H.supportedResult&&!((q=H.supportedResult.decodingInfoResults)!=null&&q[0].smooth)){j.push(G);continue}const W=H.details,V=(g?W==null?void 0:W.partTarget:W==null?void 0:W.averagetargetduration)||$;let K;Q?K=a*e:K=o*e;const B=$&&i>=$*2&&s===0?v[G].averageBitrate:v[G].maxBitrate,Z=this.getTimeToLoadFrag(z,K,B*V,W===void 0);if(K>=B&&(G===h||H.loadError===0&&H.fragmentError===0)&&(Z<=z||!Fe(Z)||T&&!this.bitrateTestDelay||Z<u)){const fe=this.forcedAutoLevel;return G!==E&&(fe===-1||fe!==E)&&(j.length&&ee.trace(`[abr] Skipped level(s) ${j.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${v[j[0]].codecs}" ${v[j[0]].videoRange}; not compatible with "${w.codecs}" ${L}`),ee.info(`[abr] switch candidate:${f}->${G} adjustedbw(${Math.round(K)})-bitrate=${Math.round(K-B)} ttfb:${z.toFixed(1)} avgDuration:${V.toFixed(1)} maxFetchDuration:${u.toFixed(1)} fetchDuration:${Z.toFixed(1)} firstSelection:${C} codecSet:${_} videoRange:${L} hls.loadLevel:${E}`)),C&&(this.firstSelection=G),G}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class yte{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var yr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class bte{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(M.BUFFER_APPENDED,this.onBufferAppended,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.BUFFER_APPENDED,this.onBufferAppended,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||s>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const c=a.range[e];c&&c.time.some(u=>{const h=!this.isTimeBuffered(u.startPTS,u.endPTS,n);return h&&this.removeFragment(a.body),h})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=xu(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(c=>{const u=r.elementaryStreams[c];if(!u)return;const h=n[c],f=a||u.partial===!0;o.range[c]=this.getBufferedTimes(r,i,f,h)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),zg(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=xu(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},o=e.start,a=e.end,c=e.minEndPTS||a,u=e.maxStartPTS||o;for(let h=0;h<i.length;h++){const f=i.start(h)-this.bufferPadding,p=i.end(h)+this.bufferPadding;if(u>=f&&c<=p){s.time.push({startPTS:Math.max(o,i.start(h)),endPTS:Math.min(a,i.end(h))});break}else if(o<p&&a>f){const g=Math.max(o,i.start(h)),v=Math.min(a,i.end(h));v>g&&(s.partial=!0,s.time.push({startPTS:g,endPTS:v}))}else if(a<=f)break}return s}getPartialFragment(e){let n=null,r,i,s,o=0;const{bufferPadding:a,fragments:c}=this;return Object.keys(c).forEach(u=>{const h=c[u];h&&zg(h)&&(i=h.body.start-a,s=h.body.end+a,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(n=h.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||zg(n))}getState(e){const n=xu(e),r=this.fragments[n];return r?r.buffered?zg(r)?yr.PARTIAL:yr.OK:yr.APPENDING:yr.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,o=xu(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const o=r.type;if(i){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(i)}this.timeRanges=s,Object.keys(s).forEach(a=>{const c=s[a];this.detectEvictedFragments(a,c,o,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=xu(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const c=a.body;c.type!==r||i&&!c.gap||c.start<n&&c.end>e&&(a.buffered||s)&&this.removeFragment(c)})}removeFragment(e){const n=xu(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function zg(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function xu(t){return`${t.type}_${t.level}_${t.sn}`}const Ete={length:0,start:()=>0,end:()=>0};class fn{static isBuffered(e,n){try{if(e){const r=fn.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=fn.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(u,h){const f=u.start-h.start;return f||h.end-u.end});let i=[];if(r)for(let u=0;u<e.length;u++){const h=i.length;if(h){const f=i[h-1].end;e[u].start-f<r?e[u].end>f&&(i[h-1].end=e[u].end):i.push(e[u])}else i.push(e[u])}else i=e;let s=0,o,a=n,c=n;for(let u=0;u<i.length;u++){const h=i[u].start,f=i[u].end;if(n+r>=h&&n<f)a=h,c=f,s=c-n;else if(n+r<h){o=h;break}}return{len:s,start:a||0,end:c||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return ee.log("failed to get media.buffered",n),Ete}}}class Bw{constructor(e,n,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Yg(),this.buffering={audio:Yg(),video:Yg(),audiovideo:Yg()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=o}}function Yg(){return{start:0,executeStart:0,executeEnd:0,end:0}}function N0(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function xte(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function Ste(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){ee.log("No fragments to align");return}const i=N0(n,r[0].cc);if(!i||i&&!i.startPTS){ee.log("No frag in previous level to align on");return}return i}function kL(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function $N(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)kL(n[r],t);e.fragmentHint&&kL(e.fragmentHint,t),e.alignedSliding=!0}function Tte(t,e,n){e&&(Ate(t,n,e),!n.alignedSliding&&e&&Sy(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&DN(e,n))}function Ate(t,e,n){if(xte(t,n,e)){const r=Ste(n,e);r&&Fe(r.start)&&(ee.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),$N(r.start,e))}}function Sy(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(i=N0(r,o),s=N0(n,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=N0(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,c=s.programDateTime;if(!a||!c)return;const u=(c-a)/1e3-(s.start-i.start);$N(u,t)}const RL=Math.pow(2,17);class wte{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new Yo({type:lt.NETWORK_ERROR,details:le.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,c)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){c(LL(e));return}else e.gap=!1;const u=this.loader=e.loader=s?new s(i):new o(i),h=IL(e),f=wL(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:RL};e.stats=u.stats,u.load(h,p,{onSuccess:(g,v,y,E)=>{this.resetLoader(e,u);let S=g.data;y.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(S.slice(0,16)),S=S.slice(16)),a({frag:e,part:null,payload:S,networkDetails:E})},onError:(g,v,y,E)=>{this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Sr({url:r,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:E}))},onAbort:(g,v,y)=>{this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,v,y)=>{this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:y,stats:g}))},onProgress:(g,v,y,E)=>{n&&n({frag:e,part:null,payload:y,networkDetails:E})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,c)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){c(LL(e,n));return}const u=this.loader=e.loader=s?new s(i):new o(i),h=IL(e,n),f=wL(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:RL};n.stats=u.stats,u.load(h,p,{onSuccess:(g,v,y,E)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,n);const S={frag:e,part:n,payload:g.data,networkDetails:E};r(S),a(S)},onError:(g,v,y,E)=>{this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:Sr({url:h.url,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:E}))},onAbort:(g,v,y)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,v,y)=>{this.resetLoader(e,u),c(new Yo({type:lt.NETWORK_ERROR,details:le.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:y,stats:g}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const c=Math.round(e.duration/n.duration),u=Math.min(Math.round(r.loaded/s),c),f=(c-u)*Math.round(r.loaded/u);r.total=r.loaded+f}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=i.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function IL(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(Fe(i)&&Fe(s)){var o;let a=i,c=s;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const u=s-i;u%16&&(c=s+(16-u%16)),i!==0&&(r.resetIV=!0,a=i-16)}r.rangeStart=a,r.rangeEnd=c}return r}function LL(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:lt.MEDIA_ERROR,details:le.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Yo(r)}class Yo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class _te{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class Cte{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function kte(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?_c(t,0,e-n):t}class Rte{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],a=r[3],c=this.invSubMix,u=c[0],h=c[1],f=c[2],p=c[3],g=new Uint32Array(256);let v=0,y=0,E=0;for(E=0;E<256;E++)E<128?g[E]=E<<1:g[E]=E<<1^283;for(E=0;E<256;E++){let S=y^y<<1^y<<2^y<<3^y<<4;S=S>>>8^S&255^99,e[v]=S,n[S]=v;const w=g[v],T=g[w],C=g[T];let _=g[S]*257^S*16843008;i[v]=_<<24|_>>>8,s[v]=_<<16|_>>>16,o[v]=_<<8|_>>>24,a[v]=_,_=C*16843009^T*65537^w*257^v*16843008,u[S]=_<<24|_>>>8,h[S]=_<<16|_>>>16,f[S]=_<<8|_>>>24,p[S]=_,v?(v=w^g[g[g[C^w]]],y^=g[g[y]]):v=y=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,c;const u=this.keySchedule=new Uint32Array(o),h=this.invKeySchedule=new Uint32Array(o),f=this.sBox,p=this.rcon,g=this.invSubMix,v=g[0],y=g[1],E=g[2],S=g[3];let w,T;for(a=0;a<o;a++){if(a<s){w=u[a]=n[a];continue}T=w,a%s===0?(T=T<<8|T>>>24,T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255],T^=p[a/s|0]<<24):s>6&&a%s===4&&(T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255]),u[a]=w=(u[a-s]^T)>>>0}for(c=0;c<o;c++)a=o-c,c&3?T=u[a]:T=u[a-4],c<4||a<=4?h[c]=T:h[c]=v[f[T>>>24]]^y[f[T>>>16&255]]^E[f[T>>>8&255]]^S[f[T&255]],h[c]=h[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,c=a[0],u=a[1],h=a[2],f=a[3],p=this.uint8ArrayToUint32Array_(r);let g=p[0],v=p[1],y=p[2],E=p[3];const S=new Int32Array(e),w=new Int32Array(S.length);let T,C,_,L,D,P,N,k,$,z,j,q,G,H;const Q=this.networkToHostOrderSwap;for(;n<S.length;){for($=Q(S[n]),z=Q(S[n+1]),j=Q(S[n+2]),q=Q(S[n+3]),D=$^s[0],P=q^s[1],N=j^s[2],k=z^s[3],G=4,H=1;H<i;H++)T=c[D>>>24]^u[P>>16&255]^h[N>>8&255]^f[k&255]^s[G],C=c[P>>>24]^u[N>>16&255]^h[k>>8&255]^f[D&255]^s[G+1],_=c[N>>>24]^u[k>>16&255]^h[D>>8&255]^f[P&255]^s[G+2],L=c[k>>>24]^u[D>>16&255]^h[P>>8&255]^f[N&255]^s[G+3],D=T,P=C,N=_,k=L,G=G+4;T=o[D>>>24]<<24^o[P>>16&255]<<16^o[N>>8&255]<<8^o[k&255]^s[G],C=o[P>>>24]<<24^o[N>>16&255]<<16^o[k>>8&255]<<8^o[D&255]^s[G+1],_=o[N>>>24]<<24^o[k>>16&255]<<16^o[D>>8&255]<<8^o[P&255]^s[G+2],L=o[k>>>24]<<24^o[D>>16&255]<<16^o[P>>8&255]<<8^o[N&255]^s[G+3],w[n]=Q(T^g),w[n+1]=Q(L^v),w[n+2]=Q(_^y),w[n+3]=Q(C^E),g=$,v=z,y=j,E=q,n=n+4}return w.buffer}}const Ite=16;class Uw{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?kte(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=ts(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(r=i);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new Rte),c.expandKey(n);const u=s;return this.currentResult=c.decrypt(a.buffer,0,r),this.currentIV=_c(a,-16).buffer,u||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new Cte(this.subtle,n)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new _te(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(ee.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%Ite;return r!==e.length&&(n=_c(e,0,r),this.remainderData=_c(e,r)),n}logOnce(e){this.logEnabled&&(ee.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const Lte={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},ge={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class jw extends yte{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ge.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=ee.log.bind(ee,`${i}:`),this.warn=ee.warn.bind(ee,`${i}:`),this.hls=e,this.fragmentLoader=new wte(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new Uw(e.config),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ge.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return fn.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===ge.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,a=fn.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${Fe(o)?o.toFixed(3):o}, state: ${s}`),this.state===ge.ENDED)this.resetLoadingState();else if(n){const c=e.maxFragLookUpTolerance,u=n.start-c,h=n.start+n.duration+c;if(!a.len||h<a.start||u>a.end){const f=o>h;(o<u||f)&&(f&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=ge.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===ge.FRAG_LOADING||!this.fragCurrent&&o===ge.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=ge.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(M.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===ge.STOPPED||this.state===ge.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===yr.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),c=this.backtrackFragment;((c?e.sn-c.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===yr.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(M.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(c=>{throw i.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:e}),c}).then(c=>{const u=self.performance.now();return i.trigger(M.FRAG_DECRYPTED,{frag:e,payload:c,stats:{tstart:a,tdecrypt:u}}),r.payload=c,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===ge.STOPPED||this.state===ge.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=ge.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,i,s,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===it.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${a?Lte.toString(fn.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var c;if(e.type!==it.SUBTITLE){const h=e.elementaryStreams;if(!Object.keys(h).some(f=>!!h[f])){this.state=ge.IDLE;return}}const u=(c=this.levels)==null?void 0:c[e.level];u!=null&&u.fragmentError&&(this.log(`Resetting level fragment error count of ${u.fragmentError} on frag buffered`),u.fragmentError=0)}this.state=ge.IDLE,a&&(!this.loadedmetadata&&e.type==it.MAIN&&a.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(c=>!c),a=new Bw(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=ge.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(h=>{if(!this.fragContextChanged(h.frag))return this.hls.trigger(M.KEY_LOADED,h),this.state===ge.KEY_LOADING&&(this.state=ge.IDLE),h}),this.hls.trigger(M.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const h=o.partList;if(h&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const f=this.getNextPart(h,e,r);if(f>-1){const p=h[f];this.log(`Loading part sn: ${e.sn} p: ${p.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${f}-${h.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=p.start+p.duration,this.state=ge.FRAG_LOADING;let g;return a?g=a.then(v=>!v||this.fragContextChanged(v.frag)?null:this.doFragPartsLoad(e,p,n,i)).catch(v=>this.handleFragLoadError(v)):g=this.doFragPartsLoad(e,p,n,i).catch(v=>this.handleFragLoadError(v)),this.hls.trigger(M.FRAG_LOADING,{frag:e,part:p,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):g}else if(!e.url||this.loadedEndOfParts(h,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),Fe(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ge.FRAG_LOADING;const c=this.config.progressive;let u;return c&&a?u=a.then(h=>!h||this.fragContextChanged(h==null?void 0:h.frag)?null:this.fragmentLoader.load(e,i)).catch(h=>this.handleFragLoadError(h)):u=Promise.all([this.fragmentLoader.load(e,c?i:void 0),a]).then(([h])=>(!c&&h&&i&&i(h),h)).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(M.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,n,r,i){return new Promise((s,o)=>{var a;const c=[],u=(a=r.details)==null?void 0:a.partList,h=f=>{this.fragmentLoader.loadPart(e,f,i).then(p=>{c[f.index]=p;const g=p.part;this.hls.trigger(M.FRAG_LOADED,p);const v=TL(r,e.sn,f.index+1)||PN(u,e.sn,f.index+1);if(v)h(v);else return s({frag:e,part:g,partsLoaded:c})}).catch(o)};h(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===le.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(M.ERROR,n)}else this.hls.trigger(M.ERROR,{type:lt.OTHER_ERROR,details:le.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==ge.PARSING){!this.fragCurrent&&this.state!==ge.STOPPED&&this.state!==ge.ERROR&&(this.state=ge.IDLE);return}const{frag:r,part:i,level:s}=n,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const a=n[i],c=o>-1?TL(a,s,o):null,u=c?c.fragment:Jee(a,s,r);return u?(r&&r!==u&&(u.stats=r.stats),{frag:u,part:c,level:a}):null}bufferFragmentData(e,n,r,i,s){var o;if(!e||this.state!==ge.PARSING)return;const{data1:a,data2:c}=e;let u=a;if(a&&c&&(u=ts(a,c)),!((o=u)!=null&&o.length))return;const h={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:u};if(this.hls.trigger(M.BUFFER_APPENDING,h),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!fn.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=fn.bufferInfo(n,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return Fe(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=fn.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&s.nextStart<o.end)return fn.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=it.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,it.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let a;if(n.live){const c=s.initialLiveManifestSize;if(i<c)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${c})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const c=s.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,c,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===yr.OK||r===yr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(c!==null&&r.len+c.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,o=!0;for(let a=0,c=e.length;a<c;a++){const u=e[a];if(o=o&&!u.independent,i>-1&&r<u.start)break;const h=u.loaded;h?i=-1:(s||u.independent||o)&&u.fragment===n&&(i=a),s=h}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=tte(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=n[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=ite(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=r;const{fragmentHint:c}=r,{maxFragLookUpTolerance:u}=i,h=r.partList,f=!!(i.lowLatencyMode&&h!=null&&h.length&&c);f&&c&&!this.bitrateTest&&(o=o.concat(c),a=c.sn);let p;if(e<n){const g=e>n-u?0:u;p=xy(s,o,e,g)}else p=o[o.length-1];if(p){const g=p.sn-r.startSN,v=this.fragmentTracker.getState(p);if((v===yr.OK||v===yr.PARTIAL&&p.gap)&&(s=p),s&&p.sn===s.sn&&(!f||h[0].fragment.sn>p.sn)&&s&&p.level===s.level){const E=o[g+1];p.sn<a&&this.fragmentTracker.getState(E)!==yr.OK?p=E:p=null}}return p}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,a=e.edge,c=s>=o-n.maxFragLookUpTolerance&&s<=a;if(i!==null&&r.duration>i&&(s<i||!c)){const u=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!c&&r.readyState<4||s<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,o=!n,a=e.alignedSliding&&Fe(s);if(o||!a&&!s){const{fragPrevious:c}=this;Tte(c,r,e);const u=e.fragments[0].start;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${c?c.sn:"na"} fragments: ${i}`),u}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&Fe(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ge.FRAG_LOADING_WAITING_RETRY)&&(this.state=ge.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const h=this.getCurrentContext(n.chunkMeta);h&&(n.frag=h.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===le.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:c=0,retryConfig:u}=o||{};if(o&&a===Cr.RetryRequest&&u){this.resetStartWhenNotLoaded(this.levelLastLoaded);const h=$w(u,c);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${c+1}/${u.maxNumRetry} in ${h}ms`),o.resolved=!0,this.retryDate=self.performance.now()+h,this.state=ge.FRAG_LOADING_WAITING_RETRY}else if(u&&o)if(this.resetFragmentErrors(e),c<u.maxNumRetry)!s&&a!==Cr.RemoveAlternatePermanently&&(o.resolved=!0);else{ee.warn(`${n.details} reached or exceeded max retry (${c})`);return}else(o==null?void 0:o.action)===Cr.SendAlternateToPenaltyBox?this.state=ge.WAITING_LEVEL:this.state=ge.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===ge.PARSING||this.state===ge.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===it.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==ge.STOPPED&&(this.state=ge.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=fn.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===ge.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=ge.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((c,u)=>{const h=e.elementaryStreams[u];if(h){const f=h.endPTS-h.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${f})`),c||!1;const p=i?0:LN(o,e,h.startPTS,h.endPTS,h.startDTS,h.endDTS);return this.hls.trigger(M.LEVEL_PTS_UPDATED,{details:o,level:r,drift:p,type:u,frag:e,start:h.startPTS,end:h.endPTS}),!0}return c},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const c=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(c.message),this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=ge.PARSED,this.hls.trigger(M.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class FN{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=Dte(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function Dte(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function Pte(){return typeof __HLS_WORKER_BUNDLE__=="function"}function Mte(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function Ote(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function so(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Vw{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=ts(this.cachedData,e),this.cachedData=null);let r=Ap(e,0),i=r?r.length:0,s;const o=this._audioTrack,a=this._id3Track,c=r?Nw(r):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&Fe(c))&&(this.basePTS=Nte(c,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ws.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const h=this.appendFrame(o,e,i);h?(this.frameIndex++,this.lastPTS=h.sample.pts,i+=h.length,s=i):i=u}else ree(e,i)?(r=Ap(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ws.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===u&&s!==u){const h=_c(e,s);this.cachedData?this.cachedData=ts(this.cachedData,h):this.cachedData=h}}return{audioTrack:o,videoTrack:so(),id3Track:a,textTrack:so()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:so(),id3Track:this._id3Track,textTrack:so()}}destroy(){}}const Nte=(t,e,n)=>{if(Fe(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function $te(t,e,n,r){let i,s,o,a;const c=navigator.userAgent.toLowerCase(),u=r,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const f=(e[n+2]&60)>>>2;if(f>h.length-1){const p=new Error(`invalid ADTS sampling index:${f}`);t.emit(M.ERROR,M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,ee.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${f}`),/firefox/i.test(c)?f>=6?(i=5,a=new Array(4),s=f-3):(i=2,a=new Array(2),s=f):c.indexOf("android")!==-1?(i=2,a=new Array(2),s=f):(i=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&f>=6?s=f-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(f>=6&&o===1||/vivaldi/i.test(c))||!r&&o===1)&&(i=2,a=new Array(2)),s=f)),a[0]=i<<3,a[0]|=(f&14)>>1,a[1]|=(f&1)<<7,a[1]|=o<<3,i===5&&(a[1]|=(s&14)>>1,a[2]=(s&1)<<7,a[2]|=8,a[3]=0),{config:a,samplerate:h[f],channelCount:o,codec:"mp4a.40."+i,manifestCodec:u}}function BN(t,e){return t[e]===255&&(t[e+1]&246)===240}function UN(t,e){return t[e+1]&1?7:9}function Ww(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function Fte(t,e){return e+5<t.length}function Ty(t,e){return e+1<t.length&&BN(t,e)}function Bte(t,e){return Fte(t,e)&&BN(t,e)&&Ww(t,e)<=t.length-e}function Ute(t,e){if(Ty(t,e)){const n=UN(t,e);if(e+n>=t.length)return!1;const r=Ww(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||Ty(t,i)}return!1}function jN(t,e,n,r,i){if(!t.samplerate){const s=$te(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,ee.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function VN(t){return 1024*9e4/t}function jte(t,e){const n=UN(t,e);if(e+n<=t.length){const r=Ww(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function WN(t,e,n,r,i){const s=VN(t.samplerate),o=r+i*s,a=jte(e,n);let c;if(a){const{frameLength:f,headerLength:p}=a,g=p+f,v=Math.max(0,n+g-e.length);v?(c=new Uint8Array(g-p),c.set(e.subarray(n+p,e.length),0)):c=e.subarray(n+p,n+g);const y={unit:c,pts:o};return v||t.samples.push(y),{sample:y,length:g,missing:v}}const u=e.length-n;return c=new Uint8Array(u),c.set(e.subarray(n,e.length),0),{sample:{unit:c,pts:o},length:u,missing:-1}}let qg=null;const Vte=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Wte=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Hte=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Gte=[0,1,1,4];function HN(t,e,n,r,i){if(n+24>e.length)return;const s=GN(e,n);if(s&&n+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=r+i*o,c={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(c),{sample:c,length:s.frameLength,missing:0}}}function GN(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,c=n===3?3-r:r===3?3:4,u=Vte[c*14+i-1]*1e3,f=Wte[(n===3?0:n===2?1:2)*3+s],p=a===3?1:2,g=Hte[n][r],v=Gte[r],y=g*8*v,E=Math.floor(g*u/f+o)*v;if(qg===null){const T=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);qg=T?parseInt(T[1]):0}return!!qg&&qg<=87&&r===2&&u>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:p,frameLength:E,samplesPerFrame:y}}}function Hw(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function KN(t,e){return e+1<t.length&&Hw(t,e)}function Kte(t,e){return Hw(t,e)&&4<=t.length-e}function zN(t,e){if(e+1<t.length&&Hw(t,e)){const r=GN(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||KN(t,s)}return!1}class zte extends Vw{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Ap(e,0);let r=(n==null?void 0:n.length)||0;if(zN(e,r))return!1;for(let i=e.length;r<i;r++)if(Ute(e,r))return ee.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return Bte(e,n)}appendFrame(e,n,r){jN(e,this.observer,n,r,e.manifestCodec);const i=WN(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const Yte=/\/emsg[-/]ID3/i;class qte{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=so("video",1),o=this.audioTrack=so("audio",1),a=this.txtTrack=so("text",1);if(this.id3Track=so("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=TN(e);if(c.video){const{id:u,timescale:h,codec:f}=c.video;s.id=u,s.timescale=a.timescale=h,s.codec=f}if(c.audio){const{id:u,timescale:h,codec:f}=c.audio;o.id=u,o.timescale=h,o.codec=f}a.id=EN.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return hee(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=ts(this.remainderData,e));const a=Eee(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,n);return s.samples=iL(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=iL(e,n),{videoTrack:n,audioTrack:so(),id3Track:i,textTrack:so()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=ft(e.samples,["emsg"]);i&&i.forEach(s=>{const o=Tee(s);if(Yte.test(o.schemeIdUri)){const a=Fe(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let c=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const u=o.payload;r.samples.push({data:u,len:u.byteLength,dts:a,pts:a,type:ws.emsg,duration:c})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const YN=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=t[e];const a=Math.min(r,8),c=8-a;s[0]=4278190080>>>24+c<<c,i[0]=(o[0]&s[0])>>c,n=n?n<<a|i[0]:i[0],e+=1,r-=a}return n};class Xte extends Vw{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=qN(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Ap(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&Nw(n)!==void 0&&YN(e,r)<16}}function qN(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],c=e[n+4]&63,h=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][c*3+s]*2;if(n+h>e.length)return-1;const f=e[n+6]>>5;let p=0;f===2?p+=2:(f&1&&f!==1&&(p+=2),f&4&&(p+=2));const g=(e[n+6]<<8|e[n+7])>>12-p&1,y=[2,1,2,3,3,4,4,5][f]+g,E=e[n+5]>>3,S=e[n+5]&7,w=new Uint8Array([s<<6|E<<1|S>>2,(S&3)<<6|f<<3|g<<2|c>>4,c<<4&224]),T=1536/a*9e4,C=r+i*T,_=e.subarray(n,n+h);return t.config=w,t.channelCount=y,t.samplerate=a,t.samples.push({unit:_,pts:C}),h}class Qte{constructor(){this.VideoSample=null}createVideoSample(e,n,r,i){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&ee.log(e.pts+"/"+e.dts+":"+e.debug)}}class DL{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&ee.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,o,a;const c=this.readUByte.bind(this),u=this.readBits.bind(this),h=this.readUEG.bind(this),f=this.readBoolean.bind(this),p=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);c();const E=c();if(u(5),p(3),c(),v(),E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128){const L=h();if(L===3&&p(1),v(),v(),p(1),f())for(o=L!==3?8:12,a=0;a<o;a++)f()&&(a<6?y(16):y(64))}v();const S=h();if(S===0)h();else if(S===1)for(p(1),g(),g(),s=h(),a=0;a<s;a++)g();v(),p(1);const w=h(),T=h(),C=u(1);C===0&&p(1),p(1),f()&&(e=h(),n=h(),r=h(),i=h());let _=[1,1];if(f()&&f())switch(c()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:{_=[c()<<8|c(),c()<<8|c()];break}}return{width:Math.ceil((w+1)*16-e*2-n*2),height:(2-C)*(T+1)*16-(C?2:4)*(r+i),pixelRatio:_}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Zte extends Qte{parseAVCPES(e,n,r,i,s){const o=this.parseAVCNALu(e,r.data);let a=this.VideoSample,c,u=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(h=>{var f;switch(h.type){case 1:{let y=!1;c=!0;const E=h.data;if(u&&E.length>4){const S=new DL(E).readSliceType();(S===2||S===4||S===7||S===9)&&(y=!0)}if(y){var p;(p=a)!=null&&p.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.frame=!0,a.key=y;break}case 5:c=!0,(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:{c=!0,wN(h.data,1,r.pts,n.samples);break}case 7:{var g,v;c=!0,u=!0;const y=h.data,S=new DL(y).readSPS();if(!e.sps||e.width!==S.width||e.height!==S.height||((g=e.pixelRatio)==null?void 0:g[0])!==S.pixelRatio[0]||((v=e.pixelRatio)==null?void 0:v[1])!==S.pixelRatio[1]){e.width=S.width,e.height=S.height,e.pixelRatio=S.pixelRatio,e.sps=[y],e.duration=s;const w=y.subarray(1,4);let T="avc1.";for(let C=0;C<3;C++){let _=w[C].toString(16);_.length<2&&(_="0"+_),T+=_}e.codec=T}break}case 8:c=!0,e.pps=[h.data];break;case 9:c=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:c=!0;break;default:c=!1,a&&(a.debug+="unknown NAL "+h.type+" ");break}a&&c&&a.units.push(h)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,o=[];let a=0,c,u,h,f=-1,p=0;for(i===-1&&(f=0,p=n[0]&31,i=0,a=1);a<r;){if(c=n[a++],!i){i=c?0:1;continue}if(i===1){i=c?0:2;continue}if(!c)i=3;else if(c===1){if(u=a-i-1,f>=0){const g={data:n.subarray(f,u),type:p};o.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(s&&a<=4-s&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-s)),u>0&&(g.data=ts(g.data,n.subarray(0,u)),g.state=0))}a<r?(h=n[a]&31,f=a,p=h,i=0):i=-1}else i=0}if(f>=0&&i>=0){const g={data:n.subarray(f,r),type:p,state:i};o.push(g)}if(o.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=ts(g.data,n))}return e.naluState=i,o}}class Jte{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Uw(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const c=new Uint8Array(a);i.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const o=_N(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(c=>{s.data=this.getAvcDecryptedUnit(o,c),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,i,o),!this.decrypter.isSync()))return}}}}const pr=188;class za{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new Zte}static probe(e){const n=za.syncOffset(e);return n>0&&ee.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(pr*5,n-pr)+1,i=0;for(;i<r;){let s=!1,o=-1,a=0;for(let c=i;c<n;c+=pr)if(e[c]===71&&(n-c===pr||e[c+pr]===71)){if(a++,o===-1&&(o=c,o!==0&&(r=Math.min(o+pr*99,e.length-pr)+1)),s||(s=GS(e,c)===0),s&&a>1&&(o===0&&a>2||c+pr>r))return o}else{if(a)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:EN[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=za.createTrack("video"),this._audioTrack=za.createTrack("audio",i),this._id3Track=za.createTrack("id3"),this._txtTrack=za.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,a=this._audioTrack,c=this._id3Track,u=this._txtTrack;let h=o.pid,f=o.pesData,p=a.pid,g=c.pid,v=a.pesData,y=c.pesData,E=null,S=this.pmtParsed,w=this._pmtId,T=e.length;if(this.remainderData&&(e=ts(this.remainderData,e),T=e.length,this.remainderData=null),T<pr&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:c,textTrack:u};const C=Math.max(0,za.syncOffset(e));T-=(T-C)%pr,T<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,T,e.buffer.byteLength-T));let _=0;for(let D=C;D<T;D+=pr)if(e[D]===71){const P=!!(e[D+1]&64),N=GS(e,D),k=(e[D+3]&48)>>4;let $;if(k>1){if($=D+5+e[D+4],$===D+pr)continue}else $=D+4;switch(N){case h:P&&(f&&(s=Su(f))&&this.videoParser.parseAVCPES(o,u,s,!1,this._duration),f={data:[],size:0}),f&&(f.data.push(e.subarray($,D+pr)),f.size+=D+pr-$);break;case p:if(P){if(v&&(s=Su(v)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break;case"ac3":this.parseAC3PES(a,s);break}v={data:[],size:0}}v&&(v.data.push(e.subarray($,D+pr)),v.size+=D+pr-$);break;case g:P&&(y&&(s=Su(y))&&this.parseID3PES(c,s),y={data:[],size:0}),y&&(y.data.push(e.subarray($,D+pr)),y.size+=D+pr-$);break;case 0:P&&($+=e[$]+1),w=this._pmtId=ene(e,$);break;case w:{P&&($+=e[$]+1);const z=tne(e,$,this.typeSupported,r,this.observer);h=z.videoPid,h>0&&(o.pid=h,o.segmentCodec=z.segmentVideoCodec),p=z.audioPid,p>0&&(a.pid=p,a.segmentCodec=z.segmentAudioCodec),g=z.id3Pid,g>0&&(c.pid=g),E!==null&&!S&&(ee.warn(`MPEG-TS PMT found at ${D} after unknown PID '${E}'. Backtracking to sync byte @${C} to parse all TS packets.`),E=null,D=C-188),S=this.pmtParsed=!0;break}case 17:case 8191:break;default:E=N;break}}else _++;_>0&&Ay(this.observer,new Error(`Found ${_} TS packet/s that do not start with 0x47`)),o.pesData=f,a.pesData=v,c.pesData=y;const L={audioTrack:a,videoTrack:o,id3Track:c,textTrack:u};return i&&this.extractRemainingSamples(L),L}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,a=n.pesData,c=i.pesData;let u;if(o&&(u=Su(o))?(this.videoParser.parseAVCPES(r,s,u,!0,this._duration),r.pesData=null):r.pesData=o,a&&(u=Su(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,u);break;case"mp3":this.parseMPEGPES(n,u);break;case"ac3":this.parseAC3PES(n,u);break}n.pesData=null}else a!=null&&a.size&&ee.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;c&&(u=Su(c))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=c}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new Jte(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const f=i.missing,p=i.sample.unit.byteLength;if(f===-1)s=ts(i.sample.unit,s);else{const g=p-f;i.sample.unit.set(s.subarray(0,f),g),e.samples.push(i.sample),r=i.missing}}let o,a;for(o=r,a=s.length;o<a-1&&!Ty(s,o);o++);if(o!==r){let f;const p=o<a-1;if(p?f=`AAC PES did not start with ADTS header,offset:${o}`:f="No ADTS header found in AAC PES",Ay(this.observer,new Error(f),p),!p)return}jN(e,this.observer,s,o,this.audioCodec);let c;if(n.pts!==void 0)c=n.pts;else if(i){const f=VN(e.samplerate);c=i.sample.pts+f}else{ee.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,h;for(;o<a;)if(h=WN(e,s,o,c,u),o+=h.length,h.missing){this.aacOverFlow=h;break}else for(u++;o<a-1&&!Ty(s,o);o++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,o=0;const a=n.pts;if(a===void 0){ee.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(KN(r,o)){const c=HN(e,r,o,a,s);if(c)o+=c.length,s++;else break}else o++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){ee.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,a=0,c;for(;a<s&&(c=qN(e,r,a,i,o++))>0;)a+=c}}parseID3PES(e,n){if(n.pts===void 0){ee.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Jn({},n,{type:this._videoTrack?ws.emsg:ws.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function GS(t,e){return((t[e+1]&31)<<8)+t[e+2]}function ene(t,e){return(t[e+10]&31)<<8|t[e+11]}function tne(t,e,n,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],a=e+3+o-4,c=(t[e+10]&15)<<8|t[e+11];for(e+=12+c;e<a;){const u=GS(t,e),h=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){g1("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=u);break;case 21:s.id3Pid===-1&&(s.id3Pid=u);break;case 219:if(!r){g1("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=u,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?ee.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=u,s.segmentAudioCodec="mp3");break;case 193:if(!r){g1("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=u,s.segmentAudioCodec="ac3"):ee.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&h>0){let f=e+5,p=h;for(;p>2;){switch(t[f]){case 106:n.ac3!==!0?ee.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=u,s.segmentAudioCodec="ac3");break}const v=t[f+1]+2;f+=v,p-=v}}break;case 194:case 135:return Ay(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return Ay(i,new Error("Unsupported HEVC in M2TS found")),s}e+=h+5}return s}function Ay(t,e,n){ee.warn(`parsing error: ${e.message}`),t.emit(M.ERROR,M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function g1(t){ee.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Su(t){let e=0,n,r,i,s,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=ts(a[0],a[1]),a.splice(1,1);if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const u=n[7];u&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,u&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(ee.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=n[8];let h=i+9;if(t.size<=h)return null;t.size-=h;const f=new Uint8Array(t.size);for(let p=0,g=a.length;p<g;p++){n=a[p];let v=n.byteLength;if(h)if(h>v){h-=v;continue}else n=n.subarray(h),v-=h,h=0;f.set(n,e),e+=v}return r&&(r-=i+3),{data:f,pts:s,dts:o,len:r}}return null}class nne extends Vw{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Ap(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&Nw(n)!==void 0&&YN(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(zN(e,r))return ee.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return Kte(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return HN(e,n,r,this.basePTS,this.frameIndex)}}class PL{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Na=Math.pow(2,32)-1;class re{static init(){re.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in re.types)re.types.hasOwnProperty(e)&&(re.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);re.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);re.STTS=re.STSC=re.STCO=s,re.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),re.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),re.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),re.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);re.FTYP=re.box(re.types.ftyp,o,c,o,a),re.DINF=re.box(re.types.dinf,re.box(re.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}static hdlr(e){return re.box(re.types.hdlr,re.HDLR_TYPES[e])}static mdat(e){return re.box(re.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(Na+1)),i=Math.floor(n%(Na+1));return re.box(re.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return re.box(re.types.mdia,re.mdhd(e.timescale,e.duration),re.hdlr(e.type),re.minf(e))}static mfhd(e){return re.box(re.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?re.box(re.types.minf,re.box(re.types.smhd,re.SMHD),re.DINF,re.stbl(e)):re.box(re.types.minf,re.box(re.types.vmhd,re.VMHD),re.DINF,re.stbl(e))}static moof(e,n,r){return re.box(re.types.moof,re.mfhd(e),re.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=re.trak(e[n]);return re.box.apply(null,[re.types.moov,re.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(re.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=re.trex(e[n]);return re.box.apply(null,[re.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(Na+1)),i=Math.floor(n%(Na+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return re.box(re.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return re.box(re.types.sdtp,r)}static stbl(e){return re.box(re.types.stbl,re.stsd(e),re.box(re.types.stts,re.STTS),re.box(re.types.stsc,re.STSC),re.box(re.types.stsz,re.STSZ),re.box(re.types.stco,re.STCO))}static avc1(e){let n=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const a=re.box(re.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),c=e.width,u=e.height,h=e.pixelRatio[0],f=e.pixelRatio[1];return re.box(re.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,re.box(re.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),re.box(re.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return re.box(re.types.mp4a,re.audioStsd(e),re.box(re.types.esds,re.esds(e)))}static mp3(e){return re.box(re.types[".mp3"],re.audioStsd(e))}static ac3(e){return re.box(re.types["ac-3"],re.audioStsd(e),re.box(re.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?re.box(re.types.stsd,re.STSD,re.mp3(e)):e.segmentCodec==="ac3"?re.box(re.types.stsd,re.STSD,re.ac3(e)):re.box(re.types.stsd,re.STSD,re.mp4a(e)):re.box(re.types.stsd,re.STSD,re.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(Na+1)),a=Math.floor(r%(Na+1));return re.box(re.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=re.sdtp(e),i=e.id,s=Math.floor(n/(Na+1)),o=Math.floor(n%(Na+1));return re.box(re.types.traf,re.box(re.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),re.box(re.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),re.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,re.box(re.types.trak,re.tkhd(e),re.mdia(e))}static trex(e){const n=e.id;return re.box(re.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let a,c,u,h,f,p;for(n+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<i;a++)c=r[a],u=c.duration,h=c.size,f=c.flags,p=c.cts,o.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*a);return re.box(re.types.trun,o)}static initSegment(e){re.types||re.init();const n=re.moov(e);return ts(re.FTYP,n)}}re.types=void 0;re.HDLR_TYPES=void 0;re.STTS=void 0;re.STSC=void 0;re.STCO=void 0;re.STSZ=void 0;re.VMHD=void 0;re.SMHD=void 0;re.STSD=void 0;re.FTYP=void 0;re.DINF=void 0;const XN=9e4;function Gw(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function rne(t,e,n=1,r=!1){return Gw(t,e,1/n,r)}function Jh(t,e=!1){return Gw(t,1e3,1/XN,e)}function ine(t,e=1){return Gw(t,XN,1/e)}const sne=10*1e3,ML=1024,one=1152,ane=1536;let Tu=null,v1=null;class $0{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Tu===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Tu=o?parseInt(o[1]):0}if(v1===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);v1=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){ee.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){ee.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){ee.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,i=e.reduce((s,o)=>{let a=o.pts,c=a-s;return c<-4294967296&&(n=!0,a=Ki(a,r),c=a-s),c>0?s:a},r);return n&&ee.debug("PTS rollover detected"),i}remux(e,n,r,i,s,o,a,c){let u,h,f,p,g,v,y=s,E=s;const S=e.pid>-1,w=n.pid>-1,T=n.samples.length,C=e.samples.length>0,_=a&&T>0||T>1;if((!S||C)&&(!w||_)||this.ISGenerated||a){if(this.ISGenerated){var D,P,N,k;const q=this.videoTrackConfig;q&&(n.width!==q.width||n.height!==q.height||((D=n.pixelRatio)==null?void 0:D[0])!==((P=q.pixelRatio)==null?void 0:P[0])||((N=n.pixelRatio)==null?void 0:N[1])!==((k=q.pixelRatio)==null?void 0:k[1]))&&this.resetInitSegment()}else f=this.generateIS(e,n,s,o);const $=this.isVideoContiguous;let z=-1,j;if(_&&(z=lne(n.samples),!$&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,z>0){ee.warn(`[mp4-remuxer]: Dropped ${z} out of ${T} video samples due to a missing keyframe`);const q=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(z),n.dropped+=z,E+=(n.samples[0].pts-q)/n.inputTimeScale,j=E}else z===-1&&(ee.warn(`[mp4-remuxer]: No keyframe found out of ${T} video samples`),v=!1);if(this.ISGenerated){if(C&&_){const q=this.getVideoStartPts(n.samples),H=(Ki(e.samples[0].pts,q)-q)/n.inputTimeScale;y+=Math.max(0,H),E+=Math.max(0,-H)}if(C){if(e.samplerate||(ee.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,n,s,o)),h=this.remuxAudio(e,y,this.isAudioContiguous,o,w||_||c===it.AUDIO?E:void 0),_){const q=h?h.endPTS-h.startPTS:0;n.inputTimeScale||(ee.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,n,s,o)),u=this.remuxVideo(n,E,$,q)}}else _&&(u=this.remuxVideo(n,E,$,0));u&&(u.firstKeyFrame=z,u.independent=z!==-1,u.firstKeyFramePTS=j)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(g=QN(r,s,this._initPTS,this._initDTS)),i.samples.length&&(p=ZN(i,s,this._initPTS))),{audio:h,video:u,initSegment:f,independent:v,text:p,id3:g}}generateIS(e,n,r,i){const s=e.samples,o=n.samples,a=this.typeSupported,c={},u=this._initPTS;let h=!u||i,f="audio/mp4",p,g,v;if(h&&(p=g=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(f="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}c.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):re.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(v=e.inputTimeScale,!u||v!==u.timescale?p=g=s[0].pts-Math.round(v*r):h=!1)}if(n.sps&&n.pps&&o.length){if(n.timescale=n.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:re.initSegment([n]),metadata:{width:n.width,height:n.height}},h)if(v=n.inputTimeScale,!u||v!==u.timescale){const y=this.getVideoStartPts(o),E=Math.round(v*r);g=Math.min(g,Ki(o[0].dts,y)-E),p=Math.min(p,y-E)}else h=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:p,timescale:v},this._initDTS={baseTime:g,timescale:v}):p=v=void 0,{tracks:c,initPTS:p,timescale:v}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,o=e.samples,a=[],c=o.length,u=this._initPTS;let h=this.nextAvcDts,f=8,p=this.videoSampleDuration,g,v,y=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,S=!1;if(!r||h===null){const V=n*s,K=o[0].pts-Ki(o[0].dts,o[0].pts);Tu&&h!==null&&Math.abs(V-K-h)<15e3?r=!0:h=V-K}const w=u.baseTime*s/u.timescale;for(let V=0;V<c;V++){const K=o[V];K.pts=Ki(K.pts-w,h),K.dts=Ki(K.dts-w,h),K.dts<o[V>0?V-1:V].dts&&(S=!0)}S&&o.sort(function(V,K){const B=V.dts-K.dts,Z=V.pts-K.pts;return B||Z}),g=o[0].dts,v=o[o.length-1].dts;const T=v-g,C=T?Math.round(T/(c-1)):p||e.inputTimeScale/30;if(r){const V=g-h,K=V>C,B=V<-1;if((K||B)&&(K?ee.warn(`AVC: ${Jh(V,!0)} ms (${V}dts) hole between fragments detected at ${n.toFixed(3)}`):ee.warn(`AVC: ${Jh(-V,!0)} ms (${V}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!B||h>=o[0].pts||Tu)){g=h;const Z=o[0].pts-V;if(K)o[0].dts=g,o[0].pts=Z;else for(let ue=0;ue<o.length&&!(o[ue].dts>Z);ue++)o[ue].dts-=V,o[ue].pts-=V;ee.log(`Video: Initial PTS/DTS adjusted: ${Jh(Z,!0)}/${Jh(g,!0)}, delta: ${Jh(V,!0)} ms`)}}g=Math.max(0,g);let _=0,L=0,D=g;for(let V=0;V<c;V++){const K=o[V],B=K.units,Z=B.length;let ue=0;for(let fe=0;fe<Z;fe++)ue+=B[fe].data.length;L+=ue,_+=Z,K.length=ue,K.dts<D?(K.dts=D,D+=C/4|0||1):D=K.dts,y=Math.min(K.pts,y),E=Math.max(K.pts,E)}v=o[c-1].dts;const P=L+4*_+8;let N;try{N=new Uint8Array(P)}catch(V){this.observer.emit(M.ERROR,M.ERROR,{type:lt.MUX_ERROR,details:le.REMUX_ALLOC_ERROR,fatal:!1,error:V,bytes:P,reason:`fail allocating video mdat ${P}`});return}const k=new DataView(N.buffer);k.setUint32(0,P),N.set(re.types.mdat,4);let $=!1,z=Number.POSITIVE_INFINITY,j=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY;for(let V=0;V<c;V++){const K=o[V],B=K.units;let Z=0;for(let me=0,he=B.length;me<he;me++){const Te=B[me],_e=Te.data,Ie=Te.data.byteLength;k.setUint32(f,Ie),f+=4,N.set(_e,f),f+=Ie,Z+=4+Ie}let ue;if(V<c-1)p=o[V+1].dts-K.dts,ue=o[V+1].pts-K.pts;else{const me=this.config,he=V>0?K.dts-o[V-1].dts:C;if(ue=V>0?K.pts-o[V-1].pts:C,me.stretchShortVideoTrack&&this.nextAudioPts!==null){const Te=Math.floor(me.maxBufferHole*s),_e=(i?y+i*s:this.nextAudioPts)-K.pts;_e>Te?(p=_e-he,p<0?p=he:$=!0,ee.log(`[mp4-remuxer]: It is approximately ${_e/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=he}else p=he}const fe=Math.round(K.pts-K.dts);z=Math.min(z,p),q=Math.max(q,p),j=Math.min(j,ue),G=Math.max(G,ue),a.push(new OL(K.key,p,Z,fe))}if(a.length){if(Tu){if(Tu<70){const V=a[0].flags;V.dependsOn=2,V.isNonSync=0}}else if(v1&&G-j<q-z&&C/q<.025&&a[0].cts===0){ee.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let V=g;for(let K=0,B=a.length;K<B;K++){const Z=V+a[K].duration,ue=V+a[K].cts;if(K<B-1){const fe=Z+a[K+1].cts;a[K].duration=fe-ue}else a[K].duration=K?a[K-1].duration:C;a[K].cts=0,V=Z}}}p=$||!p?C:p,this.nextAvcDts=h=v+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const W={data1:re.moof(e.sequenceNumber++,g,Jn({},e,{samples:a})),data2:N,startPTS:y/s,endPTS:(E+p)/s,startDTS:g/s,endDTS:h/s,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,W}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return one;case"ac3":return ane;default:return ML}}remuxAudio(e,n,r,i,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,c=o/a,u=this.getSamplesPerFrame(e),h=u*c,f=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,g=[],v=s!==void 0;let y=e.samples,E=p?0:8,S=this.nextAudioPts||-1;const w=n*o,T=f.baseTime*o/f.timescale;if(this.isAudioContiguous=r=r||y.length&&S>0&&(i&&Math.abs(w-S)<9e3||Math.abs(Ki(y[0].pts-T,w)-S)<20*h),y.forEach(function(H){H.pts=Ki(H.pts-T,w)}),!r||S<0){if(y=y.filter(H=>H.pts>=0),!y.length)return;s===0?S=0:i&&!v?S=Math.max(0,w):S=y[0].pts}if(e.segmentCodec==="aac"){const H=this.config.maxAudioFramesDrift;for(let Q=0,W=S;Q<y.length;Q++){const V=y[Q],K=V.pts,B=K-W,Z=Math.abs(1e3*B/o);if(B<=-H*h&&v)Q===0&&(ee.warn(`Audio frame @ ${(K/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*B/o)} ms.`),this.nextAudioPts=S=W=K);else if(B>=H*h&&Z<sne&&v){let ue=Math.round(B/h);W=K-ue*h,W<0&&(ue--,W+=h),Q===0&&(this.nextAudioPts=S=W),ee.warn(`[mp4-remuxer]: Injecting ${ue} audio frame @ ${(W/o).toFixed(3)}s due to ${Math.round(1e3*B/o)} ms gap.`);for(let fe=0;fe<ue;fe++){const me=Math.max(W,0);let he=PL.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);he||(ee.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),he=V.unit.subarray()),y.splice(Q,0,{unit:he,pts:me}),W+=h,Q++}}V.pts=W,W+=h}}let C=null,_=null,L,D=0,P=y.length;for(;P--;)D+=y[P].unit.byteLength;for(let H=0,Q=y.length;H<Q;H++){const W=y[H],V=W.unit;let K=W.pts;if(_!==null){const Z=g[H-1];Z.duration=Math.round((K-_)/c)}else if(r&&e.segmentCodec==="aac"&&(K=S),C=K,D>0){D+=E;try{L=new Uint8Array(D)}catch(Z){this.observer.emit(M.ERROR,M.ERROR,{type:lt.MUX_ERROR,details:le.REMUX_ALLOC_ERROR,fatal:!1,error:Z,bytes:D,reason:`fail allocating audio mdat ${D}`});return}p||(new DataView(L.buffer).setUint32(0,D),L.set(re.types.mdat,4))}else return;L.set(V,E);const B=V.byteLength;E+=B,g.push(new OL(!0,u,B,0)),_=K}const N=g.length;if(!N)return;const k=g[g.length-1];this.nextAudioPts=S=_+c*k.duration;const $=p?new Uint8Array(0):re.moof(e.sequenceNumber++,C/c,Jn({},e,{samples:g}));e.samples=[];const z=C/o,j=S/o,G={data1:$,data2:L,startPTS:z,endPTS:j,startDTS:z,endDTS:j,type:"audio",hasAudio:!0,hasVideo:!1,nb:N};return this.isAudioContiguous=!0,G}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,a=s/o,c=this.nextAudioPts,u=this._initDTS,h=u.baseTime*9e4/u.timescale,f=(c!==null?c:i.startDTS*s)+h,p=i.endDTS*s+h,g=a*ML,v=Math.ceil((p-f)/g),y=PL.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(ee.warn("[mp4-remuxer]: remux empty Audio"),!y){ee.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const E=[];for(let S=0;S<v;S++){const w=f+S*g;E.push({unit:y,pts:w,dts:w})}return e.samples=E,this.remuxAudio(e,n,r,!1)}}function Ki(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function lne(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function QN(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let a=0;a<i;a++){const c=t.samples[a];c.pts=Ki(c.pts-n.baseTime*s/n.timescale,e*s)/s,c.dts=Ki(c.dts-r.baseTime*s/r.timescale,e*s)/s}const o=t.samples;return t.samples=[],{samples:o}}function ZN(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=Ki(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((o,a)=>o.pts-a.pts);const s=t.samples;return t.samples=[],{samples:s}}class OL{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class cne{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(mee(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=TN(e);i.audio&&(n=NL(i.audio,Jt.AUDIO)),i.video&&(r=NL(i.video,Jt.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:ee.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,o){var a,c;let{initPTS:u,lastEndTime:h}=this;const f={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};Fe(h)||(h=this.lastEndTime=s||0);const p=n.samples;if(!(p!=null&&p.length))return f;const g={initPTS:void 0,timescale:1};let v=this.initData;if((a=v)!=null&&a.length||(this.generateInitSegment(p),v=this.initData),!((c=v)!=null&&c.length))return ee.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(g.tracks=this.initTracks,this.emitInitSegment=!1);const y=vee(p,v),E=gee(v,p),S=E===null?s:E;(une(u,S,s,y)||g.timescale!==u.timescale&&o)&&(g.initPTS=S-s,u&&u.timescale===1&&ee.warn(`Adjusting initPTS by ${g.initPTS-u.baseTime}`),this.initPTS=u={baseTime:g.initPTS,timescale:1});const w=e?S-u.baseTime/u.timescale:h,T=w+y;bee(v,p,u.baseTime/u.timescale),y>0?this.lastEndTime=T:(ee.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const C=!!v.audio,_=!!v.video;let L="";C&&(L+="audio"),_&&(L+="video");const D={data1:p,startPTS:w,startDTS:w,endPTS:T,endDTS:T,type:L,hasAudio:C,hasVideo:_,nb:1,dropped:0};return f.audio=D.type==="audio"?D:void 0,f.video=D.type!=="audio"?D:void 0,f.initSegment=g,f.id3=QN(r,s,u,u),i.samples.length&&(f.text=ZN(i,s,u)),f}}function une(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function NL(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===Jt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return vy(n,!1);const r="mp4a.40.5";return ee.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return ee.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let qo;try{qo=self.performance.now.bind(self.performance)}catch{ee.debug("Unable to use Performance API on this environment"),qo=Id==null?void 0:Id.Date.now}const F0=[{demux:qte,remux:cne},{demux:za,remux:$0},{demux:zte,remux:$0},{demux:nne,remux:$0}];F0.splice(2,0,{demux:Xte,remux:$0});class $L{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=qo();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:c}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:h,trackSwitch:f,accurateTimeOffset:p,timeOffset:g,initSegmentChange:v}=i||a,{audioCodec:y,videoCodec:E,defaultInitPts:S,duration:w,initSegmentData:T}=c,C=dne(o,n);if(C&&C.method==="AES-128"){const P=this.getDecrypter();if(P.isSync()){let N=P.softwareDecrypt(o,C.key.buffer,C.iv.buffer);if(r.part>-1&&(N=P.flush()),!N)return s.executeEnd=qo(),y1(r);o=new Uint8Array(N)}else return this.decryptionPromise=P.webCryptoDecrypt(o,C.key.buffer,C.iv.buffer).then(N=>{const k=this.push(N,null,r);return this.decryptionPromise=null,k}),this.decryptionPromise}const _=this.needsProbing(h,f);if(_){const P=this.configureTransmuxer(o);if(P)return ee.warn(`[transmuxer] ${P.message}`),this.observer.emit(M.ERROR,M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_PARSING_ERROR,fatal:!1,error:P,reason:P.message}),s.executeEnd=qo(),y1(r)}(h||f||v||_)&&this.resetInitSegment(T,y,E,w,n),(h||v||_)&&this.resetInitialTimestamp(S),u||this.resetContiguity();const L=this.transmux(o,C,g,p,r),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,s.executeEnd=qo(),L}flush(e){const n=e.transmuxing;n.executeStart=qo();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:a}=i;if(r){const f=r.flush();f&&o.push(this.push(f,null,e))}const{demuxer:c,remuxer:u}=this;if(!c||!u)return n.executeEnd=qo(),[y1(e)];const h=c.flush(a);return B0(h)?h.then(f=>(this.flushRemux(o,f,e),o)):(this.flushRemux(o,h,e),o)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:a}=n,{accurateTimeOffset:c,timeOffset:u}=this.currentTransmuxState;ee.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const h=this.remuxer.remux(i,s,o,a,u,c,!0,this.id);e.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=qo()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,i),a.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:c}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,c,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let o;for(let p=0,g=F0.length;p<g;p++){var a;if((a=F0[p].demux)!=null&&a.probe(e)){o=F0[p];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,u=this.remuxer,h=o.remux,f=o.demux;(!u||!(u instanceof h))&&(this.remuxer=new h(r,n,i,s)),(!c||!(c instanceof f))&&(this.demuxer=new f(r,n,i),this.probe=f.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Uw(this.config)),e}}function dne(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const y1=t=>({remuxResult:{},chunkMeta:t});function B0(t){return"then"in t&&t.then instanceof Function}class hne{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class fne{constructor(e,n,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var JN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,f||c,p),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,v=new Array(g);p<g;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,p,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var E=this._events[y],S=arguments.length,w,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,f),!0;case 4:return E.fn.call(E.context,h,f,p),!0;case 5:return E.fn.call(E.context,h,f,p,g),!0;case 6:return E.fn.call(E.context,h,f,p,g,v),!0}for(T=1,w=new Array(S-1);T<S;T++)w[T-1]=arguments[T];E.fn.apply(E.context,w)}else{var C=E.length,_;for(T=0;T<C;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),S){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,h);break;case 3:E[T].fn.call(E[T].context,h,f);break;case 4:E[T].fn.call(E[T].context,h,f,p);break;default:if(!w)for(_=1,w=new Array(S-1);_<S;_++)w[_-1]=arguments[_];E[T].fn.apply(E[T].context,w)}}return!0},a.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,p){var g=n?n+u:u;if(!this._events[g])return this;if(!h)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var y=0,E=[],S=v.length;y<S;y++)(v[y].fn!==h||p&&!v[y].once||f&&v[y].context!==f)&&E.push(v[y]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(JN);var pne=JN.exports,Kw=$J(pne);class e5{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(u,h)=>{h=h||{},h.frag=this.frag,h.id=this.id,u===M.ERROR&&(this.error=h.error),this.hls.trigger(u,h)};this.observer=new Kw,this.observer.on(M.FRAG_DECRYPTED,o),this.observer.on(M.ERROR,o);const a=Bc(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},c={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||Pte())){try{s.workerPath?(ee.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=Ote(s.workerPath)):(ee.log(`injecting Web Worker for "${n}"`),this.workerContext=Mte()),this.onwmsg=f=>this.onWorkerMessage(f);const{worker:h}=this.workerContext;h.addEventListener("message",this.onwmsg),h.onerror=f=>{const p=new Error(`${f.message}  (${f.filename}:${f.lineno})`);s.enableWorker=!1,ee.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(M.ERROR,{type:lt.OTHER_ERROR,details:le.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:p})},h.postMessage({cmd:"init",typeSupported:c,vendor:"",id:n,config:JSON.stringify(s)})}catch(h){ee.warn(`Error setting up "${n}" Web Worker, fallback to inline`,h),this.resetWorker(),this.error=null,this.transmuxer=new $L(this.observer,c,s,"",n)}return}this.transmuxer=new $L(this.observer,c,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,o,a,c,u,h){var f,p;u.transmuxing.start=self.performance.now();const{transmuxer:g}=this,v=o?o.start:s.start,y=s.decryptdata,E=this.frag,S=!(E&&s.cc===E.cc),w=!(E&&u.level===E.level),T=E?u.sn-E.sn:-1,C=this.part?u.part-this.part.index:-1,_=T===0&&u.id>1&&u.id===(E==null?void 0:E.stats.chunkCount),L=!w&&(T===1||T===0&&(C===1||_&&C<=0)),D=self.performance.now();(w||T||s.stats.parsing.start===0)&&(s.stats.parsing.start=D),o&&(C||!L)&&(o.stats.parsing.start=D);const P=!(E&&((f=s.initSegment)==null?void 0:f.url)===((p=E.initSegment)==null?void 0:p.url)),N=new fne(S,L,c,w,v,P);if(!L||S||P){ee.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}
        discontinuity: ${S}
        trackSwitch: ${w}
        contiguous: ${L}
        accurateTimeOffset: ${c}
        timeOffset: ${v}
        initSegmentChange: ${P}`);const k=new hne(r,i,n,a,h);this.configureTransmuxer(k)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:u,state:N},e instanceof ArrayBuffer?[e]:[]);else if(g){const k=g.push(e,y,u,N);B0(k)?(g.async=!0,k.then($=>{this.handleTransmuxComplete($)}).catch($=>{this.transmuxerError($,u,"transmuxer-interface push error")})):(g.async=!1,this.handleTransmuxComplete(k))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);B0(r)||n.async?(B0(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){ee.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":ee[n.data.logType]&&ee[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const FL=100;class mne extends jw{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",it.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(M.ERROR,this.onError,this),e.on(M.BUFFER_RESET,this.onBufferReset,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(M.ERROR,this.onError,this),e.off(M.BUFFER_RESET,this.onBufferReset,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===ge.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=ge.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(FL),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=ge.IDLE):(this.loadedmetadata=!1,this.state=ge.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case ge.IDLE:this.doTickIdle();break;case ge.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=ge.WAITING_INIT_PTS}break}case ge.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=ge.IDLE}break}case ge.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:a}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=ge.FRAG_LOADING;const c=o.flush(),u={frag:i,part:s,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),a&&super._handleFragmentLoadComplete(u)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const c=this.getLoadPosition(),u=fn.bufferInfo(this.mediaBuffer,c,this.config.maxBufferHole);HS(u.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${u.end} is needed`),this.clearWaitingFragment())}}else this.state=ge.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=ge.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!this.buffering||!r&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[i]))return;const o=n[i],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=ge.WAITING_TRACK;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Jt.AUDIO,it.AUDIO));const u=this.getFwdBufferInfo(c,it.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,a)){e.trigger(M.BUFFER_EOS,{type:"audio"}),this.state=ge.ENDED;return}const h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,it.MAIN),f=u.len,p=this.getMaxBufferLength(h==null?void 0:h.len),g=a.fragments,v=g[0].start,y=this.getLoadPosition(),E=this.flushing?y:u.end;if(this.switchingTrack&&r){const C=y;a.PTSKnown&&C<v&&(u.end>v||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=v+.05)}if(f>=p&&!this.switchingTrack&&E<g[g.length-1].start)return;let S=this.getNextFragment(E,a),w=!1;if(S&&this.isLoopLoading(S,E)&&(w=!!S.gap,S=this.getNextFragmentLoopLoading(S,a,u,it.MAIN,p)),!S){this.bufferFlushed=!0;return}const T=h&&S.start>h.end+a.targetduration;if(T||!(h!=null&&h.len)&&u.len){const C=this.getAppendedFrag(S.start,it.MAIN);if(C===null||(w||(w=!!C.gap||!!T&&h.len===0),T&&!w||w&&u.nextStart&&u.nextStart<C.end))return}this.loadFragment(S,o,E)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new Ld(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(FL):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=ge.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=ge.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(M.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:o}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const a=i[o];let c=0;if(s.live||(r=a.details)!=null&&r.live){this.checkLiveUpdate(s);const h=this.mainDetails;if(s.deltaUpdateFailed||!h)return;if(!a.details&&s.hasProgramDateTime&&h.hasProgramDateTime)Sy(s,h),c=s.fragments[0].start;else{var u;c=this.alignPlaylists(s,a.details,(u=this.levelLastLoaded)==null?void 0:u.details)}}a.details=s,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,c),this.state===ge.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=ge.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:o,trackId:a,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const u=c[a];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const h=u.details;if(!h){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const f=o.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new e5(this.hls,it.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const g=this.initPTS[r.cc],v=(n=r.initSegment)==null?void 0:n.data;if(g!==void 0){const E=i?i.index:-1,S=E!==-1,w=new Bw(r.level,r.sn,r.stats.chunkCount,s.byteLength,E,S);p.push(s,v,f,"",r,i,h.totalduration,!1,w,g)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${h.startSN} ,${h.endSN}],track ${a}`);const{cache:y}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new FN,complete:!1};y.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=ge.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==it.AUDIO){if(!this.loadedmetadata&&r.type===it.MAIN){const s=this.videoBuffer||this.media;s&&fn.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(M.AUDIO_TRACK_SWITCHED,Sr({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=ge.ERROR;return}switch(n.details){case le.FRAG_GAP:case le.FRAG_PARSING_ERROR:case le.FRAG_DECRYPT_ERROR:case le.FRAG_LOAD_ERROR:case le.FRAG_LOAD_TIMEOUT:case le.KEY_LOAD_ERROR:case le.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(it.AUDIO,n);break;case le.AUDIO_TRACK_LOAD_ERROR:case le.AUDIO_TRACK_LOAD_TIMEOUT:case le.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ge.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===Mt.AUDIO_TRACK&&(this.state=ge.IDLE);break;case le.BUFFER_APPEND_ERROR:case le.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===le.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case le.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==Jt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==Jt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ge.ENDED&&(this.state=ge.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,it.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:c,part:u,level:h}=a,{details:f}=h,{audio:p,text:g,id3:v,initSegment:y}=s;if(this.fragContextChanged(c)||!f){this.fragmentTracker.removeFragment(c);return}if(this.state=ge.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const E=c.initSegment||c;this._bufferInitSegment(h,y.tracks,E,o),i.trigger(M.FRAG_PARSING_INIT_SEGMENT,{frag:E,id:r,tracks:y.tracks})}if(p){const{startPTS:E,endPTS:S,startDTS:w,endDTS:T}=p;u&&(u.elementaryStreams[Jt.AUDIO]={startPTS:E,endPTS:S,startDTS:w,endDTS:T}),c.setElementaryStreamInfo(Jt.AUDIO,E,S,w,T),this.bufferFragmentData(p,c,u,o)}if(v!=null&&(n=v.samples)!=null&&n.length){const E=Jn({id:r,frag:c,details:f},v);i.trigger(M.FRAG_PARSING_METADATA,E)}if(g){const E=Jn({id:r,frag:c,details:f},g);i.trigger(M.FRAG_PARSING_USERDATA,E)}}_bufferInitSegment(e,n,r,i){if(this.state!==ge.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(M.BUFFER_CODECS,n);const a=s.initSegment;if(a!=null&&a.byteLength){const c={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:a};this.hls.trigger(M.BUFFER_APPENDING,c)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===yr.NOT_LOADED||i===yr.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ge.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&Sy(n.details,o)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:a}=this.bufferedTrack;Cc({name:n,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:a},e,Wl)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(M.AUDIO_TRACK_SWITCHED,Sr({},e))}}function t5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Cp(t[n].attrs,e[n].attrs))return!1;return!0}function Cp(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function KS(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class gne extends Fw{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(M.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(p=>!r||r.indexOf(p.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(p=>p.default)&&(this.selectDefaultTrack=!1),a.forEach((p,g)=>{p.id=g});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const c=this.hls.config.audioPreference;if(!s&&c){const p=ho(c,a,Wl);if(p>-1)s=a[p];else{const g=ho(c,this.tracks);s=this.tracks[g]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const h={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(M.AUDIO_TRACKS_UPDATED,h);const f=this.trackId;if(u!==-1&&f===-1)this.setAudioTrack(u);else if(a.length&&f===-1){var o;const p=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(p.message),this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===Mt.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Cc(e,i,Wl))return i;const s=ho(e,this.tracksInGroup,Wl);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=n.loadLevel;o===-1&&(o=n.firstAutoLevel);const a=gte(e,n.levels,r,o,Wl);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=ho(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(M.AUDIO_TRACK_SWITCHING,Sr({},i)),s))return;const o=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(o)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Cc(e,i,Wl)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:c}=e;for(let u=0;u<n.length;u++){const h=n[u];if(Cc({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:c},h,Wl))return u}for(let u=0;u<n.length;u++){const h=n[u];if(Cp(e.attrs,h.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return u}for(let u=0;u<n.length;u++){const h=n[u];if(Cp(e.attrs,h.attrs,["LANGUAGE"]))return u}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger(M.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const BL=500;class vne extends jw{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",it.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.ERROR,this.onError,this),e.on(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(M.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.ERROR,this.onError,this),e.off(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(M.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(M.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=ge.IDLE,this.setInterval(BL),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=ge.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=r.start;for(let u=0;u<s.length;u++)if(a>=s[u].start&&a<=s[u].end){o=s[u];break}const c=r.start+r.duration;o?o.end=c:(o={start:a,end:c},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,s,it.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===it.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===it.SUBTITLE&&(n.details===le.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ge.STOPPED&&(this.state=ge.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&t5(this.levels,n)){this.levels=n.map(r=>new Ld(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new Ld(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,it.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(BL)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:a}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const c=s[a];if(a>=s.length||!c)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(o.live||(r=c.details)!=null&&r.live){const f=this.mainDetails;if(o.deltaUpdateFailed||!f)return;const p=f.fragments[0];if(!c.details)o.hasProgramDateTime&&f.hasProgramDateTime?(Sy(o,f),u=o.fragments[0].start):p&&(u=p.start,WS(o,u));else{var h;u=this.alignPlaylists(o,c.details,(h=this.levelLastLoaded)==null?void 0:h.details),u===0&&p&&(u=p.start,WS(o,u))}}c.details=o,this.levelLastLoaded=c,a===i&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,u),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===ge.IDLE&&(xy(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(a=>{throw s.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const c=performance.now();s.trigger(M.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:c}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=ge.IDLE})}}doTick(){if(!this.media){this.state=ge.IDLE;return}if(this.state===ge.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=fn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:a,len:c}=o,u=this.getFwdBufferInfo(this.media,it.MAIN),h=r.details,f=this.getMaxBufferLength(u==null?void 0:u.len)+h.levelTargetDuration;if(c>f)return;const p=h.fragments,g=p.length,v=h.edge;let y=null;const E=this.fragPrevious;if(a<v){const S=i.maxFragLookUpTolerance,w=a>v-S?0:S;y=xy(E,p,Math.max(p[0].start,a),w),!y&&E&&E.start<p[0].start&&(y=p[0])}else y=p[g-1];if(!y)return;if(y=this.mapToInitFragWhenRequired(y),y.sn!=="initSegment"){const S=y.sn-h.startSN,w=p[S-1];w&&w.cc===y.cc&&this.fragmentTracker.getState(w)===yr.NOT_LOADED&&(y=w)}this.fragmentTracker.getState(y)===yr.NOT_LOADED&&this.loadFragment(y,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new yne(this.tracksBuffered[this.currentTrackId]||[])}}class yne{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class bne extends Fw{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=M0(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADING,this.onLevelLoading,this),e.off(M.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(M.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(M.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),M0(this.media.textTracks).forEach(n=>{ed(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,f)=>{h.id=f});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!s&&a){this.selectDefaultTrack=!1;const h=ho(a,o);if(h>-1)s=o[h];else{const f=ho(a,this.tracks);s=this.tracks[f]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(M.SUBTITLE_TRACKS_UPDATED,u),c!==-1&&this.trackId===-1&&this.setSubtitleTrack(c)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Cc(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(Cp(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(Cp(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(KS(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===Mt.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Cc(e,r))return r;const i=ho(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=ho(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(M.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=M0(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>KS(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!Fe(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(M.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:a="",name:c,type:u,url:h}=i;this.hls.trigger(M.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:c,type:u,url:h});const f=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(f)}}class Ene{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(i){ee.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const UL=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class xne{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(M.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&ee.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=Iee(Bc(e.config.preferManagedMediaSource)),this.log=ee.log.bind(ee,n),this.warn=ee.warn.bind(ee,n),this.error=ee.error.bind(ee,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.BUFFER_RESET,this.onBufferReset,this),e.on(M.BUFFER_APPENDING,this.onBufferAppending,this),e.on(M.BUFFER_CODECS,this.onBufferCodecs,this),e.on(M.BUFFER_EOS,this.onBufferEos,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(M.FRAG_PARSED,this.onFragParsed,this),e.on(M.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.BUFFER_RESET,this.onBufferReset,this),e.off(M.BUFFER_APPENDING,this.onBufferAppending,this),e.off(M.BUFFER_CODECS,this.onBufferCodecs,this),e.off(M.BUFFER_EOS,this.onBufferEos,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(M.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(M.FRAG_PARSED,this.onFragParsed,this),e.off(M.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Ene(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,i=Bc(this.appendSource);if(r&&i){var s;const o=this.mediaSource=new i;this.log(`created media source: ${(s=o.constructor)==null?void 0:s.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const c=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||c&&o instanceof c,jL(r),Sne(r,a),r.load()}catch{r.src=a}else r.src=a;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&jL(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(M.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,i=Object.keys(n);if(i.forEach(o=>{if(r){const c=this.tracks[o];if(c&&typeof c.buffer.changeType=="function"){var a;const{id:u,codec:h,levelCodec:f,container:p,metadata:g}=n[o],v=lL(c.codec,c.levelCodec),y=v==null?void 0:v.replace(UL,"$1");let E=lL(h,f);const S=(a=E)==null?void 0:a.replace(UL,"$1");if(E&&y!==S){o.slice(0,5)==="audio"&&(E=vy(E,this.appendSource));const w=`${p};codecs=${E}`;this.appendChangeType(o,w),this.log(`switching codec ${v} to ${E}`),this.tracks[o]={buffer:c.buffer,codec:h,container:p,levelCodec:f,metadata:g,id:u}}}}else this.pendingTracks[o]=n[o]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:a,frag:c,part:u,chunkMeta:h}=n,f=h.buffering[a],p=self.performance.now();f.start=p;const g=c.stats.buffering,v=u?u.stats.buffering:null;g.start===0&&(g.start=p),v&&v.start===0&&(v.start=p);const y=s.audio;let E=!1;a==="audio"&&(y==null?void 0:y.container)==="audio/mpeg"&&(E=!this.lastMpegAudioChunk||h.id===1||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const S=c.start,w={execute:()=>{if(f.executeStart=self.performance.now(),E){const T=this.sourceBuffer[a];if(T){const C=S-T.timestampOffset;Math.abs(C)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${S} (delta: ${C}) sn: ${c.sn})`),T.timestampOffset=S)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const T=self.performance.now();f.executeEnd=f.end=T,g.first===0&&(g.first=T),v&&v.first===0&&(v.first=T);const{sourceBuffer:C}=this,_={};for(const L in C)_[L]=fn.getBuffered(C[L]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(M.BUFFER_APPENDED,{type:a,frag:c,part:u,chunkMeta:h,parent:c.type,timeRanges:_})},onError:T=>{const C={type:lt.MEDIA_ERROR,parent:c.type,details:le.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:c,part:u,chunkMeta:h,error:T,err:T,fatal:!1};if(T.code===DOMException.QUOTA_EXCEEDED_ERR)C.details=le.BUFFER_FULL_ERROR;else{const _=++this.appendErrors[a];C.details=le.BUFFER_APPEND_ERROR,this.warn(`Failed ${_}/${r.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),_>=r.config.appendErrorMaxRetry&&(C.fatal=!0)}r.trigger(M.ERROR,C)}};i.append(w,a,!!this.pendingTracks[a])}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(M.BUFFER_FLUSHED,{type:s})},onError:o=>{this.warn(`Failed to remove from ${s} SourceBuffer`,o)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[Jt.AUDIOVIDEO]?s.push("audiovideo"):(o[Jt.AUDIO]&&s.push("audio"),o[Jt.VIDEO]&&s.push("video"));const a=()=>{const c=self.performance.now();r.stats.buffering.end=c,i&&(i.stats.buffering.end=c);const u=i?i.stats:r.stats;this.hls.trigger(M.FRAG_BUFFERED,{frag:r,part:i,stats:u,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!n.type||n.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,o=r.currentTime,a=n.levelTargetDuration,c=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(Fe(c)&&c>0){const u=Math.max(c,a),h=Math.floor(o/a)*a-u;this.flushBackBuffer(o,a,h)}if(Fe(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const u=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),h=Math.max(u,a),f=Math.floor(o/a)*a+h;this.flushFrontBuffer(o,a,f)}}flushBackBuffer(e,n,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const c=s[a];if(c){const u=fn.getBuffered(c);if(u.length>0&&r>u.start(0)){if(this.hls.trigger(M.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger(M.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(c.ended&&u.end(u.length-1)-e<n*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(M.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:a})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const a=i[o];if(a){const c=fn.getBuffered(a),u=c.length;if(u<2)return;const h=c.start(u-1),f=c.end(u-1);if(r>h||e>=h&&e<=f)return;if(a.ended&&e-f<2*n){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(M.BUFFER_FLUSHING,{startOffset:h,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,a=Fe(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>a&&s>o||!Fe(o))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${o}.`),n.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(M.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var i;const o=e[s];if(!o)throw Error(`source buffer exists for track ${s}, however track does not`);let a=((i=o.levelCodec)==null?void 0:i.indexOf(","))===-1?o.levelCodec:o.codec;a&&s.slice(0,5)==="audio"&&(a=vy(a,this.appendSource));const c=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${c})`);try{const u=n[s]=r.addSourceBuffer(c),h=s;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(h,"bufferedchange",(f,p)=>{const g=p.removedRanges;g!=null&&g.length&&this.hls.trigger(M.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:u,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(u){this.error(`error while trying to add sourceBuffer: ${u.message}`),this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:s,mimeType:c})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:a}=this,c=a[e];if(!i||!s||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const u=Fe(i.duration)?i.duration:1/0,h=Fe(s.duration)?s.duration:1/0,f=Math.max(0,n),p=Math.min(r,u,h);p>f&&(!c.ending||c.ended)?(c.ended=!1,this.log(`Removing [${f},${p}] from the ${e} SourceBuffer`),c.remove(f,p)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function jL(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function Sne(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const Tne={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n5=t=>String.fromCharCode(Tne[t]||t),vs=15,jo=100,Ane={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},wne={17:2,18:4,21:6,22:8,23:10,19:13,20:15},_ne={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Cne={25:2,26:4,29:6,30:8,31:10,27:13,28:15},kne=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Rne{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;ee.log(`${this.time} [${e}] ${r}`)}}}const Pl=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class r5{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Ine{constructor(){this.uchar=" ",this.penState=new r5}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Lne{constructor(e){this.chars=[],this.pos=0,this.currPenState=new r5,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<jo;n++)this.chars.push(new Ine);this.logger=e}equals(e){for(let n=0;n<jo;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<jo;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<jo;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>jo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=jo)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=n5(e);if(this.pos>=jo){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<jo;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<jo;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class b1{constructor(e){this.rows=[],this.currRow=vs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<vs;n++)this.rows.push(new Lne(e));this.logger=e}reset(){for(let e=0;e<vs;e++)this.rows[e].clear();this.currRow=vs-1}equals(e){let n=!0;for(let r=0;r<vs;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<vs;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<vs;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<vs;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,c=this.logger.time;if(a!==null&&c!==null&&a<c)for(let u=0;u<this.nrRollUpRows;u++)this.rows[n-this.nrRollUpRows+u+1].copy(o.rows[s+u])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<vs;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class VL{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new b1(r),this.nonDisplayedMemory=new b1(r),this.lastOutputScreen=new b1(r),this.currRollUpRow=this.displayedMemory.rows[vs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[vs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class WL{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Pne(),this.logger=void 0;const i=this.logger=new Rne;this.channels=[null,new VL(e,n,i),new VL(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let o=!1,a=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Pl([n[r],n[r+1]])+"] -> ("+Pl([i,s])+")");const c=this.cmdHistory;if(i>=16&&i<=31){if(Dne(i,s,c)){Xg(null,null,c),this.logger.log(3,()=>"Repeated command ("+Pl([i,s])+") is dropped");continue}Xg(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else Xg(null,null,c);if(!o&&(a=this.parseChars(i,s),a)){const h=this.currentChannel;h&&h>0?this.channels[h].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Pl([i,s])+" orig: "+Pl([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Pl([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const o=e<=23?1:2;n>=64&&n<=95?r=o===1?Ane[e]:_ne[e]:r=o===1?wne[e]:Cne[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=o,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=n+80:s===18?o=n+112:o=n+144,this.logger.log(2,()=>"Special char '"+n5(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Pl(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((n-32)/2),o.background=kne[s],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Xg(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Xg(t,e,n){n.a=t,n.b=e}function Dne(t,e,n){return n.a===t&&n.b===e}function Pne(){return{a:null,b:null}}class Qg{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var zw=function(){if(Id!=null&&Id.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,c){if(typeof c!="string"||!Array.isArray(a))return!1;const u=c.toLowerCase();return~a.indexOf(u)?u:!1}function r(a){return n(t,a)}function i(a){return n(e,a)}function s(a,...c){let u=1;for(;u<arguments.length;u++){const h=arguments[u];for(const f in h)a[f]=h[f]}return a}function o(a,c,u){const h=this,f={enumerable:!0};h.hasBeenReset=!1;let p="",g=!1,v=a,y=c,E=u,S=null,w="",T=!0,C="auto",_="start",L=50,D="middle",P=50,N="middle";Object.defineProperty(h,"id",s({},f,{get:function(){return p},set:function(k){p=""+k}})),Object.defineProperty(h,"pauseOnExit",s({},f,{get:function(){return g},set:function(k){g=!!k}})),Object.defineProperty(h,"startTime",s({},f,{get:function(){return v},set:function(k){if(typeof k!="number")throw new TypeError("Start time must be set to a number.");v=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",s({},f,{get:function(){return y},set:function(k){if(typeof k!="number")throw new TypeError("End time must be set to a number.");y=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",s({},f,{get:function(){return E},set:function(k){E=""+k,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",s({},f,{get:function(){return S},set:function(k){S=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",s({},f,{get:function(){return w},set:function(k){const $=r(k);if($===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=$,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",s({},f,{get:function(){return T},set:function(k){T=!!k,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",s({},f,{get:function(){return C},set:function(k){if(typeof k!="number"&&k!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",s({},f,{get:function(){return _},set:function(k){const $=i(k);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");_=$,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",s({},f,{get:function(){return L},set:function(k){if(k<0||k>100)throw new Error("Position must be between 0 and 100.");L=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",s({},f,{get:function(){return D},set:function(k){const $=i(k);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");D=$,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",s({},f,{get:function(){return P},set:function(k){if(k<0||k>100)throw new Error("Size must be between 0 and 100.");P=k,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",s({},f,{get:function(){return N},set:function(k){const $=i(k);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");N=$,this.hasBeenReset=!0}})),h.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class Mne{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function i5(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class One{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function s5(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(n);if(o.length!==2)continue;const a=o[0],c=o[1];e(a,c)}}const zS=new zw(0,0,""),Zg=zS.align==="middle"?"middle":"center";function Nne(t,e,n){const r=t;function i(){const a=i5(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,c){const u=new One;s5(a,function(p,g){let v;switch(p){case"region":for(let y=n.length-1;y>=0;y--)if(n[y].id===g){u.set(p,n[y].region);break}break;case"vertical":u.alt(p,g,["rl","lr"]);break;case"line":v=g.split(","),u.integer(p,v[0]),u.percent(p,v[0])&&u.set("snapToLines",!1),u.alt(p,v[0],["auto"]),v.length===2&&u.alt("lineAlign",v[1],["start",Zg,"end"]);break;case"position":v=g.split(","),u.percent(p,v[0]),v.length===2&&u.alt("positionAlign",v[1],["start",Zg,"end","line-left","line-right","auto"]);break;case"size":u.percent(p,g);break;case"align":u.alt(p,g,["start",Zg,"end","left","right"]);break}},/:/,/\s/),c.region=u.get("region",null),c.vertical=u.get("vertical","");let h=u.get("line","auto");h==="auto"&&zS.line===-1&&(h=-1),c.line=h,c.lineAlign=u.get("lineAlign","start"),c.snapToLines=u.get("snapToLines",!0),c.size=u.get("size",100),c.align=u.get("align",Zg);let f=u.get("position","auto");f==="auto"&&zS.position===50&&(f=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=f}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),s(t,e)}function o5(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class $ne{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Mne,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,o=0;for(s=o5(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,n.buffer=s.slice(o),a}function i(s){s5(s,function(o,a){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const a=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new zw(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{Nne(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const Fne=/\r\n|\n\r|\n|\r/g,E1=function(e,n,r=0){return e.slice(r,r+n.length)===n},Bne=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Fe(n)||!Fe(r)||!Fe(i)||!Fe(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},x1=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function Yw(t,e,n){return x1(t.toString())+x1(e.toString())+x1(n)}const Une=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function jne(t,e,n,r,i,s,o){const a=new $ne,c=bo(new Uint8Array(t)).trim().replace(Fne,`
`).split(`
`),u=[],h=e?ine(e.baseTime,e.timescale):0;let f="00:00.000",p=0,g=0,v,y=!0;a.oncue=function(E){const S=n[r];let w=n.ccOffset;const T=(p-h)/9e4;if(S!=null&&S.new&&(g!==void 0?w=n.ccOffset=S.start:Une(n,r,T)),T){if(!e){v=new Error("Missing initPTS for VTT MPEGTS");return}w=T-n.presentationOffset}const C=E.endTime-E.startTime,_=Ki((E.startTime+w-g)*9e4,i*9e4)/9e4;E.startTime=Math.max(_,0),E.endTime=Math.max(_+C,0);const L=E.text.trim();E.text=decodeURIComponent(encodeURIComponent(L)),E.id||(E.id=Yw(E.startTime,E.endTime,L)),E.endTime>0&&u.push(E)},a.onparsingerror=function(E){v=E},a.onflush=function(){if(v){o(v);return}s(u)},c.forEach(E=>{if(y)if(E1(E,"X-TIMESTAMP-MAP=")){y=!1,E.slice(16).split(",").forEach(S=>{E1(S,"LOCAL:")?f=S.slice(6):E1(S,"MPEGTS:")&&(p=parseInt(S.slice(7)))});try{g=Bne(f)/1e3}catch(S){v=S}return}else E===""&&(y=!1);a.parse(E+`
`)}),a.flush()}const S1="stpp.ttml.im1t",a5=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,l5=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Vne={left:"start",center:"center",right:"end",start:"start",end:"end"};function HL(t,e,n,r){const i=ft(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(a=>bo(a)),o=rne(e.baseTime,1,e.timescale);try{s.forEach(a=>n(Wne(a,o)))}catch(a){r(a)}}function Wne(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((f,p)=>(f[p]=i.getAttribute(`ttp:${p}`)||s[p],f),{}),a=i.getAttribute("xml:space")!=="preserve",c=GL(T1(i,"styling","style")),u=GL(T1(i,"layout","region")),h=T1(i,"body","[begin]");return[].map.call(h,f=>{const p=c5(f,a);if(!p||!f.hasAttribute("begin"))return null;const g=w1(f.getAttribute("begin"),o),v=w1(f.getAttribute("dur"),o);let y=w1(f.getAttribute("end"),o);if(g===null)throw KL(f);if(y===null){if(v===null)throw KL(f);y=g+v}const E=new zw(g-e,y-e,p);E.id=Yw(E.startTime,E.endTime,E.text);const S=u[f.getAttribute("region")],w=c[f.getAttribute("style")],T=Hne(S,w,c),{textAlign:C}=T;if(C){const _=Vne[C];_&&(E.lineAlign=_),E.align=C}return Jn(E,T),E}).filter(f=>f!==null)}function T1(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function GL(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function c5(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?c5(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function Hne(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(i=n[o]),s.reduce((a,c)=>{const u=A1(e,r,c)||A1(t,r,c)||A1(i,r,c);return u&&(a[c]=u),a},{})}function A1(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function KL(t){return new Error(`Could not parse ttml timestamp ${t}`)}function w1(t,e){if(!t)return null;let n=i5(t);return n===null&&(a5.test(t)?n=Gne(t,e):l5.test(t)&&(n=Kne(t,e))),n}function Gne(t,e){const n=a5.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function Kne(t,e){const n=l5.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class zne{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YL(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(M.FRAG_LOADING,this.onFragLoading,this),e.on(M.FRAG_LOADED,this.onFragLoaded,this),e.on(M.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(M.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(M.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(M.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(M.FRAG_LOADING,this.onFragLoading,this),e.off(M.FRAG_LOADED,this.onFragLoaded,this),e.off(M.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(M.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(M.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(M.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(M.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new Qg(this,"textTrack1"),n=new Qg(this,"textTrack2"),r=new Qg(this,"textTrack3"),i=new Qg(this,"textTrack4");this.cea608Parser1=new WL(1,e,n),this.cea608Parser2=new WL(3,r,i)}}addCues(e,n,r,i,s){let o=!1;for(let a=s.length;a--;){const c=s[a],u=Yne(c[0],c[1],n,r);if(u>=0&&(c[0]=Math.min(c[0],n),c[1]=Math.max(c[1],r),o=!0,u/(r-n)>.5))return}if(o||s.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,i)}else{const a=this.Cues.newCue(null,n,r,i);this.hls.trigger(M.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(M.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(zL(s,{name:e,lang:n}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=n[e],a=this.getExistingTrack(s,o);if(a)r[e]=a,ed(r[e]),RN(r[e],i);else{const c=this.createTextTrack("captions",s,o);c&&(c[e]=!0,r[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(M.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{ed(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YL(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)ed(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===S1);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(t5(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,a=o?M0(o.textTracks):null;if(this.tracks.forEach((c,u)=>{let h;if(a){let f=null;for(let p=0;p<a.length;p++)if(a[p]&&zL(a[p],c)){f=a[p],a[p]=null;break}f&&(h=f)}if(h)ed(h);else{const f=u5(c);h=this.createTextTrack(f,c.name,c.lang),h&&(h.mode="disabled")}h&&this.textTracks.push(h)}),a!=null&&a.length){const c=a.filter(u=>u!==null).map(u=>u.label);c.length&&ee.warn(`Media element contains unused subtitle tracks: ${c.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(M.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===it.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:a}=this,{cc:c,sn:u}=n.frag,h=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(u!==a+1||u===a&&h!==this.lastPartIndex+1||c!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=c,this.lastSn=u,this.lastPartIndex=h}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===it.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in n;if(s==null||!s.encrypted||o){const a=this.tracks[r.level],c=this.vttCCs;c[r.cc]||(c[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===S1?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;HL(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{ee.log(`Failed to parse IMSC1: ${i}`),r.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[r.cc]&&a===-1){o.push(e);return}const c=this.hls,u=(n=r.initSegment)!=null&&n.data?ts(r.initSegment.data,new Uint8Array(i)):i;jne(u,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,h=>{this._appendCues(h,r.level),c.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},h=>{const f=h.message==="Missing initPTS for VTT MPEGTS";f?o.push(e):this._fallbackToIMSC1(r,i),ee.log(`Failed to parse VTT cue: ${h}`),!(f&&a>r.cc)&&c.trigger(M.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:h})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||HL(n,this.initPTS[e.cc],()=>{r.textCodec=S1,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>IN(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(M.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===it.SUBTITLE&&this.onFragLoaded(M.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:o}=n;if(!(s.type===it.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<o.length;a++){const c=o[a].bytes;if(c){const u=this.extractCea608Data(c);r.addData(o[a].pts,u[0]),i.addData(o[a].pts,u[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(c=>US(a[c],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(c=>US(a[c],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],a=127&e[i++],c=127&e[i++];if(a===0&&c===0)continue;if((4&o)!==0){const h=3&o;(h===0||h===1)&&(n[h].push(a),n[h].push(c))}}return n}}function u5(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function zL(t,e){return!!t&&t.kind===u5(e)&&KS(e,t)}function Yne(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function YL(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class qw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(M.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.BUFFER_CODECS,this.onBufferCodecs,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(M.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.BUFFER_CODECS,this.onBufferCodecs,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&Fe(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&ee.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,qw.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(a,c)=>c?a.width!==c.width||a.height!==c.height:!0;let s=e.length-1;const o=Math.max(n,r);for(let a=0;a<e.length;a+=1){const c=e[a];if((c.width>=o||c.height>=o)&&i(c,e[a+1])){s=a;break}}return s}}class qne{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(M.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(M.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,c=1e3*o/s,u=this.hls;if(u.trigger(M.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),c>0&&o>u.config.fpsDroppedMonitoringThreshold*a){let h=u.currentLevel;ee.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=h)&&(h=h-1,u.trigger(M.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:u.currentLevel}),u.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Jg="[eme]";class fd{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=fd.CDMCleanupPromise?[fd.CDMCleanupPromise]:[],this.debug=ee.debug.bind(ee,Jg),this.log=ee.log.bind(ee,Jg),this.warn=ee.warn.bind(ee,Jg),this.error=ee.error.bind(ee,Jg),this.onMediaEncrypted=n=>{const{initDataType:r,initData:i}=n,s=`"${n.type}" event: init data type: "${r}"`;if(this.debug(s),i!==null){if(!this.keyFormatPromise){let o=Object.keys(this.keySystemAccessPromises);o.length||(o=Wg(this.config));const a=o.map(a1).filter(c=>!!c);this.keyFormatPromise=this.getKeyFormatPromise(a)}this.keyFormatPromise.then(o=>{const a=s1(o);let c,u;if(r==="sinf"){if(a!==zt.FAIRPLAY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const v=sr(new Uint8Array(i));try{const y=Mw(JSON.parse(v).sinf),E=AN(y);if(!E)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");c=E.subarray(8,24),u=zt.FAIRPLAY}catch(y){this.warn(`${s} Failed to parse sinf: ${y}`);return}}else{if(a!==zt.WIDEVINE&&a!==zt.PLAYREADY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const v=_ee(i),y=v.filter(S=>!!S.systemId&&o1(S.systemId)===a);y.length>1&&this.warn(`${s} Using first of ${y.length} pssh found for selected key-system ${a}`);const E=y[0];if(!E){v.length===0||v.some(S=>!S.systemId)?this.warn(`${s} contains incomplete or invalid pssh data`):this.log(`ignoring ${s} for ${v.map(S=>o1(S.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(u=o1(E.systemId),E.version===0&&E.data)if(u===zt.WIDEVINE){const S=E.data.length-22;c=E.data.subarray(S,S+16)}else u===zt.PLAYREADY&&(c=gN(E.data))}if(!u||!c){this.log(`Unable to handle ${s} with key-system ${a}`);return}const h=no.hexDump(c),{keyIdToKeySessionPromise:f,mediaKeySessions:p}=this;let g=f[h];for(let v=0;v<p.length;v++){const y=p[v],E=y.decryptdata;if(!E.keyId)continue;const S=no.hexDump(E.keyId);if(h===S||E.uri.replace(/-/g,"").indexOf(h)!==-1){if(g=f[S],E.pssh)break;delete f[S],E.pssh=new Uint8Array(i),E.keyId=c,g=f[h]=g.then(()=>this.generateRequestWithPreferredKeySession(y,r,i,"encrypted-event-key-match")),g.catch(w=>this.handleError(w));break}}if(!g){if(u!==a){this.log(`Ignoring "${s}" with ${u} init data for selected key-system ${a}`);return}g=f[h]=this.getKeySystemSelectionPromise([u]).then(({keySystem:v,mediaKeys:y})=>{var E;this.throwIfDestroyed();const S=new wp("ISO-23001-7",h,(E=a1(v))!=null?E:"");return S.pssh=new Uint8Array(i),S.keyId=c,this.attemptSetMediaKeys(v,y).then(()=>{this.throwIfDestroyed();const w=this.createMediaKeySessionContext({decryptdata:S,keySystem:v,mediaKeys:y});return this.generateRequestWithPreferredKeySession(w,r,i,"encrypted-event-no-match")})}),g.catch(v=>this.handleError(v))}})}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(M.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(M.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(M.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(M.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(M.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===zt.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,c)=>!!o&&c.indexOf(o)===a,i=n.map(o=>o.audioCodec).filter(r),s=n.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const c=u=>{const h=u.shift();this.getMediaKeysPromise(h,i,s).then(f=>o({keySystem:h,mediaKeys:f})).catch(f=>{u.length?c(u):f instanceof Ui?a(f):a(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};c(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return mN===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=tee(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),o.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=c.createMediaKeys().then(h=>(this.log(`Media-keys created for "${e}"`),u.then(f=>f?this.setMediaKeysServerCertificate(h,e,f):h))),a.mediaKeys.catch(h=>{this.error(`Failed to create media-keys for "${e}"}: ${h}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${no.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return no.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${no.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=Wg(this.config),s=e.map(s1).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=a1(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const c=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n});return this.generateRequestWithPreferredKeySession(c,"cenc",n.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ui?this.hls.trigger(M.ERROR,e.data):this.hls.trigger(M.ERROR,{type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=s1(e.keyFormat),s=i?[i]:Wg(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=Wg(this.config)),e.length===0)throw new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const v=a.call(this.hls,n,r,e);if(!v)throw new Error("Invalid response from configured generateRequest filter");n=v.initDataType,r=e.decryptdata.pssh=v.initData?new Uint8Array(v.initData):null}catch(v){var c;if(this.warn(v.message),(c=this.hls)!=null&&c.config.debug)throw v}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${u} (init data type: ${n} length: ${r?r.byteLength:null})`);const h=new Kw,f=e._onmessage=v=>{const y=e.mediaKeysSession;if(!y){h.emit("error",new Error("invalid state"));return}const{messageType:E,message:S}=v;this.log(`"${E}" message event for session "${y.sessionId}" message size: ${S.byteLength}`),E==="license-request"||E==="license-renewal"?this.renewLicense(e,S).catch(w=>{this.handleError(w),h.emit("error",w)}):E==="license-release"?e.keySystem===zt.FAIRPLAY&&(this.updateKeySession(e,FS("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${E}"`)},p=e._onkeystatuseschange=v=>{if(!e.mediaKeysSession){h.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const E=e.keyStatus;h.emit("keyStatus",E),E==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",f),e.mediaKeysSession.addEventListener("keystatuseschange",p);const g=new Promise((v,y)=>{h.on("error",y),h.on("keyStatus",E=>{E.startsWith("usable")?v():E==="output-restricted"?y(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):E==="internal-error"?y(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${E}"`)):E==="expired"?y(new Error("key expired while generating request")):this.warn(`unhandled key status change "${E}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var v;this.log(`Request generated for key-session "${(v=e.mediaKeysSession)==null?void 0:v.sessionId}" keyId: ${u}`)}).catch(v=>{throw new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_NO_SESSION,error:v,fatal:!1},`Error generating key-session request: ${v}`)}).then(()=>g).catch(v=>{throw h.removeAllListeners(),this.removeSession(e),v}).then(()=>(h.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${no.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${no.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const c={responseType:"arraybuffer",url:s},u=n.certLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,g,v,y)=>{o(p.data)},onError:(p,g,v,y)=>{a(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:Sr({url:c.url,data:void 0},p)},`"${e}" certificate request failed (${s}). Status: ${p.code} (${p.text})`))},onTimeout:(p,g,v)=>{a(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(p,g,v)=>{a(new Error("aborted"))}};i.load(c,h,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(o=>{s(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let h;for(let f=0,p=s.length;f<p;f++){var o,a;h=s[f];const g=(o=h.querySelector("name"))==null?void 0:o.textContent,v=(a=h.querySelector("value"))==null?void 0:a.textContent;g&&v&&e.setRequestHeader(g,v)}}const c=i.querySelector("Challenge"),u=c==null?void 0:c.textContent;if(!u)throw new Error("Cannot find <Challenge> in key message");return FS(atob(u))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let c=a.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const u=this.config.licenseResponseCallback;if(u)try{c=u.call(this.hls,a,o,e)}catch(h){this.error(h)}i(c)}else{const c=r.errorRetry,u=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||a.status>=400&&a.status<500)s(new Ui({type:lt.KEY_SYSTEM_ERROR,details:le.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const h=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${h} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:c,licenseChallenge:u})=>{e.keySystem==zt.PLAYREADY&&(u=this.unpackPlayReadyKeyMessage(c,u)),c.send(u)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},wp.clearKeyUriToKeyIdMap();const r=n.length;fd.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}fd.CDMCleanupPromise=void 0;class Ui extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var Br;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(Br||(Br={}));var YS;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(YS||(YS={}));var gc;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(gc||(gc={}));const Xne={[gc.OBJECT]:["br","d","ot","tb"],[gc.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[gc.SESSION]:["cid","pr","sf","sid","st","v"],[gc.STATUS]:["bs","rtp"]};class Dd{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof Dd?r:new Dd(r))),this.value=e,this.params=n}}class d5{constructor(e){this.description=void 0,this.description=e}}const Qne="Dict";function Zne(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function Jne(t,e,n,r){return new Error(`failed to ${t} "${Zne(e)}" as ${n}`,{cause:r})}const qL="Bare Item",ere="Boolean",tre="Byte Sequence",nre="Decimal",rre="Integer";function ire(t){return t<-999999999999999||999999999999999<t}const sre=/[\x00-\x1f\x7f]+/,ore="Token",are="Key";function Co(t,e,n){return Jne("serialize",t,e,n)}function lre(t){if(typeof t!="boolean")throw Co(t,ere);return t?"?1":"?0"}function cre(t){return btoa(String.fromCharCode(...t))}function ure(t){if(ArrayBuffer.isView(t)===!1)throw Co(t,tre);return`:${cre(t)}:`}function h5(t){if(ire(t))throw Co(t,rre);return t.toString()}function dre(t){return`@${h5(t.getTime()/1e3)}`}function f5(t,e){if(t<0)return-f5(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}function hre(t){const e=f5(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Co(t,nre);const n=e.toString();return n.includes(".")?n:`${n}.0`}const fre="String";function pre(t){if(sre.test(t))throw Co(t,fre);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function mre(t){return t.description||t.toString().slice(7,-1)}function XL(t){const e=mre(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Co(e,ore);return e}function qS(t){switch(typeof t){case"number":if(!Fe(t))throw Co(t,qL);return Number.isInteger(t)?h5(t):hre(t);case"string":return pre(t);case"symbol":return XL(t);case"boolean":return lre(t);case"object":if(t instanceof Date)return dre(t);if(t instanceof Uint8Array)return ure(t);if(t instanceof d5)return XL(t);default:throw Co(t,qL)}}function XS(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Co(t,are);return t}function Xw(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${XS(e)}`:`;${XS(e)}=${qS(n)}`).join("")}function p5(t){return t instanceof Dd?`${qS(t.value)}${Xw(t.params)}`:qS(t)}function gre(t){return`(${t.value.map(p5).join(" ")})${Xw(t.params)}`}function vre(t,e={whitespace:!0}){if(typeof t!="object")throw Co(t,Qne);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof Dd||(s=new Dd(s));let o=XS(i);return s.value===!0?o+=Xw(s.params):(o+="=",Array.isArray(s.value)?o+=gre(s):o+=p5(s)),o}).join(`,${r}`)}function yre(t,e){return vre(t,e)}const bre=t=>t==="ot"||t==="sf"||t==="st",Ere=t=>typeof t=="number"?Fe(t):t!=null&&t!==""&&t!==!1;function xre(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function Sre(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}const U0=t=>Math.round(t),Tre=(t,e)=>(e!=null&&e.baseUrl&&(t=xre(t,e.baseUrl)),encodeURIComponent(t)),e0=t=>U0(t/100)*100,Are={br:U0,d:U0,bl:e0,dl:e0,mtp:e0,nor:Tre,rtp:e0,tb:U0};function wre(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),i=Jn({},Are,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(o=>{if(s!=null&&s(o))return;let a=t[o];const c=i[o];c&&(a=c(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||Ere(a)&&(bre(o)&&typeof a=="string"&&(a=new d5(a)),n[o]=a))}),n}function m5(t,e={}){return t?yre(wre(t,e),Jn({whitespace:!1},e)):""}function _re(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(Xne).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=n.reduce((s,o)=>{var a,c;const[u,h]=o,f=((a=r.find(p=>p[1].includes(u)))==null?void 0:a[0])||gc.REQUEST;return(c=s[f])!=null||(s[f]={}),s[f][u]=h,s},{});return Object.entries(i).reduce((s,[o,a])=>(s[o]=m5(a,e),s),{})}function Cre(t,e,n){return Jn(t,_re(e,n))}const kre="CMCD";function Rre(t,e={}){if(!t)return"";const n=m5(t,e);return`${kre}=${encodeURIComponent(n)}`}const QL=/CMCD=[^&#]+/;function Ire(t,e,n){const r=Rre(e,n);if(!r)return t;if(QL.test(t))return t.replace(QL,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class Lre{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Br.MANIFEST,su:!this.initialized})}catch(s){ee.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],a=this.getObjectType(s),c={d:s.duration*1e3,ot:a};(a===Br.VIDEO||a===Br.AUDIO||a==Br.MUXED)&&(c.br=o.bitrate/1e3,c.tb=this.getTopBandwidth(a)/1e3,c.bl=this.getBufferLength(a)),this.apply(i,c)}catch(s){ee.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||Sre(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHED,this.onMediaDetached,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHED,this.onMediaDetached,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:YS.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Jn(n,this.createData());const r=n.ot===Br.INIT||n.ot===Br.VIDEO||n.ot===Br.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((s,o)=>(i.includes(o)&&(s[o]=n[o]),s),{})),this.useHeaders?(e.headers||(e.headers={}),Cre(e.headers,n)):e.url=Ire(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Br.TIMED_TEXT;if(e.sn==="initSegment")return Br.INIT;if(n==="audio")return Br.AUDIO;if(n==="main")return this.hls.audioTracks.length?Br.VIDEO:Br.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===Br.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===Br.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:fn.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}}const Dre=3e5;class Pre{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=ee.log.bind(ee,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===Cr.SendAlternateToPenaltyBox&&r.flags===ms.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,o=this.pathwayId;if(n.context){const{groupId:a,pathwayId:c,type:u}=n.context;a&&i?o=this.getPathwayForGroupId(a,u,o):c&&(o=c)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=i.reduce((a,c)=>(a.indexOf(c.pathwayId)===-1&&a.push(c.pathwayId),a),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),r.resolved||ee.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>Dre&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,c=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,MN(n),this.hls.trigger(M.LEVELS_UPDATED,{levels:n});const u=this.hls.levels[a];c&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===Mt.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===Mt.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":c}=s;if(n.some(h=>h.pathwayId===o))return;const u=this.getLevelsForPathway(a).map(h=>{const f=new Cn(h.attrs);f["PATHWAY-ID"]=o;const p=f.AUDIO&&`${f.AUDIO}_clone_${o}`,g=f.SUBTITLES&&`${f.SUBTITLES}_clone_${o}`;p&&(r[f.AUDIO]=p,f.AUDIO=p),g&&(i[f.SUBTITLES]=g,f.SUBTITLES=g);const v=g5(h.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c),y=new Ld({attrs:f,audioCodec:h.audioCodec,bitrate:h.bitrate,height:h.height,name:h.name,url:v,videoCodec:h.videoCodec,width:h.width});if(h.audioGroups)for(let E=1;E<h.audioGroups.length;E++)y.addGroupId("audio",`${h.audioGroups[E]}_clone_${o}`);if(h.subtitleGroups)for(let E=1;E<h.subtitleGroups.length;E++)y.addGroupId("text",`${h.subtitleGroups[E]}_clone_${o}`);return y});n.push(...u),ZL(this.audioTracks,r,c,o),ZL(this.subtitleTracks,i,c,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const h=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+h)}const s={responseType:"json",url:i.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},c={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(h,f,p,g)=>{this.log(`Loaded steering manifest: "${i}"`);const v=h.data;if(v.VERSION!==1){this.log(`Steering VERSION ${v.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=v.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":E,"PATHWAY-PRIORITY":S}=v;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||p.url),E&&this.clonePathways(E);const w={steeringManifest:v,url:i.toString()};this.hls.trigger(M.STEERING_MANIFEST_LOADED,w),S&&this.updatePathwayPriority(S)},onError:(h,f,p,g)=>{if(this.log(`Error loading steering manifest: ${h.code} ${h.text} (${f.url})`),this.stopLoad(),h.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let v=this.timeToLoad*1e3;if(h.code===429){const y=this.loader;if(typeof(y==null?void 0:y.getResponseHeader)=="function"){const E=y.getResponseHeader("Retry-After");E&&(v=parseFloat(E)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,v)},onTimeout:(h,f,p)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,c,u)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function ZL(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(o=>o.groupId===i).map(o=>{const a=Jn({},o);return a.details=void 0,a.attrs=new Cn(a.attrs),a.url=a.attrs.URI=g5(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[i],a.attrs["PATHWAY-ID"]=r,a});t.push(...s)})}function g5(t,e,n,r){const{HOST:i,PARAMS:s,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const c=new self.URL(t);return i&&!a&&(c.host=i),s&&Object.keys(s).sort().forEach(u=>{u&&c.searchParams.set(u,s[u])}),c.href}const Mre=/^age:\s*[\d.]+\s*$/im;class v5{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Tb,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const a in i)e.setRequestHeader(a,i[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&Fe(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType==="text"?n.responseText:null;if(o>=200&&o<300){const f=a??n.response;if(f!=null){r.loading.end=Math.max(self.performance.now(),r.loading.first);const p=n.responseType==="arraybuffer"?f.byteLength:f.length;if(r.loaded=r.total=p,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const g=this.callbacks.onProgress;if(g&&g(r,e,f,n),!this.callbacks)return;const v={url:n.responseURL,data:f,code:o};this.callbacks.onSuccess(v,r,e,n);return}}const c=s.loadPolicy.errorRetry,u=r.retry,h={url:e.url,data:void 0,code:o};Ey(c,u,!1,h)?this.retry(c):(ee.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Ey(e,n,!0))this.retry(e);else{var r;ee.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=$w(e,r.retry),r.retry++,ee.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Mre.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function Ore(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const Nre=/(\d+)-(\d+)\/(\d+)/;class JL{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Ure,this.controller=new self.AbortController,this.stats=new Tb}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=$re(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",c=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:h}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=u&&Fe(u)?u:h,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(f=>{this.response=this.loader=f;const p=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=h,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},h-(p-i.loading.start)),!f.ok){const{status:g,statusText:v}=f;throw new jre(v||"fetch, bad network response",g,f)}return i.loading.first=p,i.total=Bre(f.headers)||i.total,o&&Fe(n.highWaterMark)?this.loadProgressively(f,i,e,n.highWaterMark,o):a?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{const p=this.response;if(!p)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const g=f[c];g&&(i.loaded=i.total=g);const v={url:p.url,data:f,code:p.status};o&&!Fe(n.highWaterMark)&&o(i,e,f,p),r.onSuccess(v,i,e,p)}).catch(f=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const p=f&&f.code||0,g=f?f.message:null;r.onError({code:p,text:g},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const o=new FN,a=e.body.getReader(),c=()=>a.read().then(u=>{if(u.done)return o.dataLength&&s(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const h=u.value,f=h.length;return n.loaded+=f,f<i||o.dataLength?(o.push(h),o.dataLength>=i&&s(n,r,o.flush(),e)):s(n,r,h,e),c()}).catch(()=>Promise.reject());return c()}}function $re(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Jn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function Fre(t){const e=Nre.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Bre(t){const e=t.get("Content-Range");if(e){const r=Fre(e);if(Fe(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function Ure(t,e){return new self.Request(t.url,e)}class jre extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const Vre=/\s/,Wre={newCue(t,e,n,r){const i=[];let s,o,a,c,u;const h=self.VTTCue||self.TextTrackCue;for(let p=0;p<r.rows.length;p++)if(s=r.rows[p],a=!0,c=0,u="",!s.isEmpty()){var f;for(let y=0;y<s.chars.length;y++)Vre.test(s.chars[y].uchar)&&a?c++:(u+=s.chars[y].uchar,a=!1);s.cueStartTime=e,e===n&&(n+=1e-4),c>=16?c--:c++;const g=o5(u.trim()),v=Yw(e,n,g);t!=null&&(f=t.cues)!=null&&f.getCueById(v)||(o=new h(e,n,g),o.id=v,o.line=p+1,o.align="left",o.position=10+Math.min(80,Math.floor(c*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((p,g)=>p.line==="auto"||g.line==="auto"?0:p.line>8&&g.line>8?g.line-p.line:p.line-g.line),i.forEach(p=>IN(t,p))),i}},Hre={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},y5=Sr(Sr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:v5,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:vte,bufferController:xne,capLevelController:qw,errorController:ste,fpsController:qne,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:mN,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:Hre},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Gre()),{},{subtitleStreamController:vne,subtitleTrackController:bne,timelineController:zne,audioStreamController:mne,audioTrackController:gne,emeController:fd,cmcdController:Lre,contentSteeringController:Pre});function Gre(){return{cueHandler:Wre,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Kre(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=QS(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,a=e[o]===void 0,c=[];i.forEach(u=>{const h=`${s}Loading${u}`,f=e[h];if(f!==void 0&&a){c.push(h);const p=n[o].default;switch(e[o]={default:p},u){case"TimeOut":p.maxLoadTimeMs=f,p.maxTimeToFirstByteMs=f;break;case"MaxRetry":p.errorRetry.maxNumRetry=f,p.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":p.errorRetry.retryDelayMs=f,p.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=f,p.timeoutRetry.maxRetryDelayMs=f;break}}}),c.length&&ee.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),Sr(Sr({},n),e)}function QS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(QS):Object.keys(t).reduce((e,n)=>(e[n]=QS(t[n]),e),{}):t}function zre(t){const e=t.loader;e!==JL&&e!==v5?(ee.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Ore()&&(t.loader=JL,t.progressive=!0,t.enableSoftwareAES=!0,ee.log("[config]: Progressive streaming enabled, using FetchLoader"))}let _1;class Yre extends Fw{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this),e.on(M.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this),e.off(M.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let a=!1,c=!1,u=!1;n.levels.forEach(h=>{var f,p;const g=h.attrs;let{audioCodec:v,videoCodec:y}=h;((f=v)==null?void 0:f.indexOf("mp4a.40.34"))!==-1&&(_1||(_1=/chrome|firefox/i.test(navigator.userAgent)),_1&&(h.audioCodec=v=void 0)),v&&(h.audioCodec=v=vy(v,r)),((p=y)==null?void 0:p.indexOf("avc1"))===0&&(y=h.videoCodec=Mee(y));const{width:E,height:S,unknownCodecs:w}=h;if(a||(a=!!(E&&S)),c||(c=!!y),u||(u=!!v),w!=null&&w.length||v&&!d1(v,"audio",r)||y&&!d1(y,"video",r))return;const{CODECS:T,"FRAME-RATE":C,"HDCP-LEVEL":_,"PATHWAY-ID":L,RESOLUTION:D,"VIDEO-RANGE":P}=g,k=`${`${L||"."}-`}${h.bitrate}-${D}-${C}-${T}-${P}-${_}`;if(s[k])if(s[k].uri!==h.url&&!h.attrs["PATHWAY-ID"]){const $=o[k]+=1;h.attrs["PATHWAY-ID"]=new Array($+1).join(".");const z=new Ld(h);s[k]=z,i.push(z)}else s[k].addGroupId("audio",g.AUDIO),s[k].addGroupId("text",g.SUBTITLES);else{const $=new Ld(h);s[k]=$,o[k]=1,i.push($)}}),this.filterAndSortMediaOptions(i,n,a,c,u)}filterAndSortMediaOptions(e,n,r,i,s){let o=[],a=[],c=e;if((r||i)&&s&&(c=c.filter(({videoCodec:v,videoRange:y,width:E,height:S})=>(!!v||!!(E&&S))&&zee(y))),c.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const v=new Error("no level with compatible codecs found in manifest");this.hls.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:v,reason:v.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:v}=this.hls.config;o=n.audioTracks.filter(y=>!y.audioCodec||d1(y.audioCodec,"audio",v)),eD(o)}n.subtitles&&(a=n.subtitles,eD(a));const u=c.slice(0);c.sort((v,y)=>{if(v.attrs["HDCP-LEVEL"]!==y.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(y.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&v.height!==y.height)return v.height-y.height;if(v.frameRate!==y.frameRate)return v.frameRate-y.frameRate;if(v.videoRange!==y.videoRange)return yy.indexOf(v.videoRange)-yy.indexOf(y.videoRange);if(v.videoCodec!==y.videoCodec){const E=aL(v.videoCodec),S=aL(y.videoCodec);if(E!==S)return S-E}if(v.uri===y.uri&&v.codecSet!==y.codecSet){const E=gy(v.codecSet),S=gy(y.codecSet);if(E!==S)return S-E}return v.averageBitrate!==y.averageBitrate?v.averageBitrate-y.averageBitrate:0});let h=u[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==u.length)){for(let v=0;v<u.length;v++)if(u[v].pathwayId===c[0].pathwayId){h=u[v];break}}this._levels=c;for(let v=0;v<c.length;v++)if(c[v]===h){var f;this._firstLevel=v;const y=h.bitrate,E=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${y}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const S=Math.min(y,this.hls.config.abrEwmaDefaultEstimateMax);S>E&&E===y5.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=S)}break}const p=s&&!i,g={levels:c,audioTracks:o,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:!p&&o.some(v=>!!v.url)};this.hls.trigger(M.MANIFEST_PARSED,g),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const h=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(M.ERROR,{type:lt.OTHER_ERROR,details:le.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:h,reason:h.message}),f)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${r}${s?" with Pathway "+s:""}`);const c={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(M.LEVEL_SWITCHING,c);const u=o.details;if(!u||u.live){const h=this.switchParams(o.uri,i==null?void 0:i.details,u);this.loadPlaylist(h)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===Mt.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===it.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,o=this._levels[i];if(!o){var a;this.warn(`Invalid level index ${i}`),(a=n.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger(M.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(o=>o.level=-1)),!1));MN(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(M.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(M.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function eD(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class qre{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=le.KEY_LOAD_ERROR,r,i,s){return new Yo({type:lt.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const o=n[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const u=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,le.KEY_LOAD_ERROR,u))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,le.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((i=a)!=null&&i.keyLoadPromise){var c;switch((c=a.mediaKeySessionContext)==null?void 0:c.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(u=>(s.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,le.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const c={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},u=r.keyLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,g,v,y)=>{const{frag:E,keyInfo:S,url:w}=v;if(!E.decryptdata||S!==this.keyUriToKeyInfo[w])return a(this.createKeyLoadError(E,le.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));S.decryptdata.key=E.decryptdata.key=new Uint8Array(p.data),E.keyLoader=null,S.loader=null,o({frag:E,keyInfo:S})},onError:(p,g,v,y)=>{this.resetLoader(g),a(this.createKeyLoadError(n,le.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),v,Sr({url:c.url,data:void 0},p)))},onTimeout:(p,g,v)=>{this.resetLoader(g),a(this.createKeyLoadError(n,le.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),v))},onAbort:(p,g,v)=>{this.resetLoader(g),a(this.createKeyLoadError(n,le.INTERNAL_ABORTED,new Error("key loading aborted"),v))}};s.load(c,h,f)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function b5(){return self.SourceBuffer||self.WebKitSourceBuffer}function E5(){if(!Bc())return!1;const e=b5();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function Xre(){if(!E5())return!1;const t=Bc();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(_p(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(_p(e,"audio"))))}function Qre(){var t;const e=b5();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Zre=250,j0=2,Jre=.1,eie=.05;class tie{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:a}=i,c=this.seeking&&!a,u=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),s!==null){if(this.stallReported){const E=self.performance.now()-s;ee.warn(`playback not stuck anymore @${o}, after ${Math.round(E)}ms`),this.stallReported=!1}this.stalled=null}return}if(u||c){this.stalled=null;return}if(i.paused&&!a||i.ended||i.playbackRate===0||!fn.getBuffered(i).length){this.nudgeRetry=0;return}const h=fn.bufferInfo(i,o,0),f=h.nextStart||0;if(a){const E=h.len>j0,S=!f||n&&n.start<=o||f-o>j0&&!this.fragmentTracker.getPartialFragment(o);if(E||S)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var p;if(!(h.len>0)&&!f)return;const S=Math.max(f,h.start||0)-o,w=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,C=(w==null||(p=w.details)==null?void 0:p.live)?w.details.targetduration*2:j0,_=this.fragmentTracker.getPartialFragment(o);if(S>0&&(S<=C||_)){i.paused||this._trySkipBufferHole(_);return}}const g=self.performance.now();if(s===null){this.stalled=g;return}const v=g-s;if(!a&&v>=Zre&&(this._reportStall(h),!this.media))return;const y=fn.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(y,v)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,a=i.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(ee.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);ee.warn(s.message),n.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=fn.bufferInfo(i,s,0),a=s<o.start?o.start:o.nextStart;if(a){const c=o.len<=n.maxBufferHole,u=o.len>0&&o.len<1&&i.readyState<3,h=a-s;if(h>0&&(c||u)){if(h>n.maxBufferHole){const{fragmentTracker:p}=this;let g=!1;if(s===0){const v=p.getAppendedFrag(0,it.MAIN);v&&a<v.end&&(g=!0)}if(!g){const v=e||p.getAppendedFrag(s,it.MAIN);if(v){let y=!1,E=v.end;for(;E<a;){const S=p.getPartialFragment(E);if(S)E+=S.duration;else{y=!0;break}}if(y)return 0}}}const f=Math.max(a+eie,s+Jre);if(ee.warn(`skipping hole, adjusting currentTime from ${s} to ${f}`),this.moved=!0,this.stalled=null,i.currentTime=f,e&&!e.gap){const p=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${f}`);r.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:e})}return f}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${s} to ${o}`);ee.warn(a.message),r.currentTime=o,n.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);ee.error(o.message),n.trigger(M.ERROR,{type:lt.MEDIA_ERROR,details:le.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const nie=100;class rie extends jw{constructor(e,n,r){super(e,n,r,"[stream-controller]",it.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(M.MANIFEST_LOADING,this.onManifestLoading,this),e.on(M.MANIFEST_PARSED,this.onManifestParsed,this),e.on(M.LEVEL_LOADING,this.onLevelLoading,this),e.on(M.LEVEL_LOADED,this.onLevelLoaded,this),e.on(M.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(M.ERROR,this.onError,this),e.on(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(M.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(M.BUFFER_CREATED,this.onBufferCreated,this),e.on(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(M.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(M.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(M.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(M.MANIFEST_LOADING,this.onManifestLoading,this),e.off(M.MANIFEST_PARSED,this.onManifestParsed,this),e.off(M.LEVEL_LOADED,this.onLevelLoaded,this),e.off(M.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(M.ERROR,this.onError,this),e.off(M.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(M.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(M.BUFFER_CREATED,this.onBufferCreated,this),e.off(M.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(M.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(M.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(nie),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=ge.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=ge.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ge.WAITING_LEVEL:{const{levels:n,level:r}=this,i=n==null?void 0:n[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=ge.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ge.IDLE;break}break}case ge.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i==null?void 0:i[s];this.resetStartWhenNotLoaded(o||null),this.state=ge.IDLE}}break}this.state===ge.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[s]))return;const o=r[s],a=this.getMainFwdBufferInfo();if(a===null)return;const c=this.getLevelDetails();if(c&&this._streamEnded(a,c)){const y={};this.altAudio&&(y.type="video"),this.hls.trigger(M.BUFFER_EOS,y),this.state=ge.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const u=o.details;if(!u||this.state===ge.WAITING_LEVEL||u.live&&this.levelLastLoaded!==o){this.level=s,this.state=ge.WAITING_LEVEL;return}const h=a.len,f=this.getMaxBufferLength(o.maxBitrate);if(h>=f)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:a.end;let g=this.getNextFragment(p,u);if(this.couldBacktrack&&!this.fragPrevious&&g&&g.sn!=="initSegment"&&this.fragmentTracker.getState(g)!==yr.OK){var v;const E=((v=this.backtrackFragment)!=null?v:g).sn-u.startSN,S=u.fragments[E-1];S&&g.cc===S.cc&&(g=S,this.fragmentTracker.removeFragment(S))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,p)){if(!g.gap){const E=this.audioOnly&&!this.altAudio?Jt.AUDIO:Jt.VIDEO,S=(E===Jt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;S&&this.afterBufferFlushed(S,E,it.MAIN)}g=this.getNextFragmentLoopLoading(g,u,a,it.MAIN,f)}g&&(g.initSegment&&!g.initSegment.data&&!this.bitrateTest&&(g=g.initSegment),this.loadFragment(g,o,p))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===yr.NOT_LOADED||i===yr.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,it.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,c=e[a],u=this.fragLastKbps;u&&this.fragCurrent?r=this.fragCurrent.duration*c.maxBitrate/(1e3*u)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const c=a.maxStartPTS?a.maxStartPTS:a.start,u=a.duration,h=Math.max(o.end,c+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*(this.couldBacktrack?.5:.125)),u*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ge.KEY_LOADING:case ge.FRAG_LOADING:case ge.FRAG_LOADING_WAITING_RETRY:case ge.PARSING:case ge.PARSED:this.state=ge.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new tie(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;Fe(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(M.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,i=!1;n.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!Qre(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==ge.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=ge.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,o=n.details,a=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const c=i[s],u=this.fragCurrent;u&&(this.state===ge.FRAG_LOADING||this.state===ge.FRAG_LOADING_WAITING_RETRY)&&u.level!==n.level&&u.loader&&this.abortCurrentFrag();let h=0;if(o.live||(r=c.details)!=null&&r.live){var f;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;h=this.alignPlaylists(o,c.details,(f=this.levelLastLoaded)==null?void 0:f.details)}if(c.details=o,this.levelLastLoaded=c,this.hls.trigger(M.LEVEL_UPDATED,{details:o,level:s}),this.state===ge.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=ge.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,h),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],c=a.details;if(!c){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const u=a.videoCodec,h=c.PTSKnown||!c.live,f=(n=r.initSegment)==null?void 0:n.data,p=this._getAudioCodec(a),g=this.transmuxer=this.transmuxer||new e5(this.hls,it.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=i?i.index:-1,y=v!==-1,E=new Bw(r.level,r.sn,r.stats.chunkCount,s.byteLength,v,y),S=this.initPTS[r.cc];g.push(s,f,p,u,r,i,c.totalduration,h,E,S)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(M.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(M.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,o=!1;for(const a in r){const c=r[a];if(c.id==="main"){if(s=a,i=c,a==="video"){const u=r[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==it.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ge.PARSED&&(this.state=ge.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=ge.ERROR;return}switch(n.details){case le.FRAG_GAP:case le.FRAG_PARSING_ERROR:case le.FRAG_DECRYPT_ERROR:case le.FRAG_LOAD_ERROR:case le.FRAG_LOAD_TIMEOUT:case le.KEY_LOAD_ERROR:case le.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(it.MAIN,n);break;case le.LEVEL_LOAD_ERROR:case le.LEVEL_LOAD_TIMEOUT:case le.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===ge.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===Mt.LEVEL&&(this.state=ge.IDLE);break;case le.BUFFER_APPEND_ERROR:case le.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===le.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case le.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!fn.getBuffered(e).length){const r=this.state!==ge.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=ge.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==Jt.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===Jt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,it.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=fn.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=ge.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(M.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:c,part:u,level:h}=a,{video:f,text:p,id3:g,initSegment:v}=s,{details:y}=h,E=this.altAudio?void 0:s.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=ge.PARSING,v){if(v!=null&&v.tracks){const T=c.initSegment||c;this._bufferInitSegment(h,v.tracks,T,o),i.trigger(M.FRAG_PARSING_INIT_SEGMENT,{frag:T,id:r,tracks:v.tracks})}const S=v.initPTS,w=v.timescale;Fe(S)&&(this.initPTS[c.cc]={baseTime:S,timescale:w},i.trigger(M.INIT_PTS_FOUND,{frag:c,id:r,initPTS:S,timescale:w}))}if(f&&y&&c.sn!=="initSegment"){const S=y.fragments[c.sn-1-y.startSN],w=c.sn===y.startSN,T=!S||c.cc>S.cc;if(s.independent!==!1){const{startPTS:C,endPTS:_,startDTS:L,endDTS:D}=f;if(u)u.elementaryStreams[f.type]={startPTS:C,endPTS:_,startDTS:L,endDTS:D};else if(f.firstKeyFrame&&f.independent&&o.id===1&&!T&&(this.couldBacktrack=!0),f.dropped&&f.independent){const P=this.getMainFwdBufferInfo(),N=(P?P.end:this.getLoadPosition())+this.config.maxBufferHole,k=f.firstKeyFramePTS?f.firstKeyFramePTS:C;if(!w&&N<k-this.config.maxBufferHole&&!T){this.backtrack(c);return}else T&&(c.gap=!0);c.setElementaryStreamInfo(f.type,c.start,_,c.start,D,!0)}else w&&C>j0&&(c.gap=!0);c.setElementaryStreamInfo(f.type,C,_,L,D),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(f,c,u,o,w||T)}else if(w||T)c.gap=!0;else{this.backtrack(c);return}}if(E){const{startPTS:S,endPTS:w,startDTS:T,endDTS:C}=E;u&&(u.elementaryStreams[Jt.AUDIO]={startPTS:S,endPTS:w,startDTS:T,endDTS:C}),c.setElementaryStreamInfo(Jt.AUDIO,S,w,T,C),this.bufferFragmentData(E,c,u,o)}if(y&&g!=null&&(n=g.samples)!=null&&n.length){const S={id:r,frag:c,details:y,samples:g.samples};i.trigger(M.FRAG_PARSING_METADATA,S)}if(y&&p){const S={id:r,frag:c,details:y,samples:p.samples};i.trigger(M.FRAG_PARSING_USERDATA,S)}}_bufferInitSegment(e,n,r,i){if(this.state!==ge.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:o,audiovideo:a}=n;if(s){let c=e.audioCodec;const u=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5");const h=s.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&u.indexOf("firefox")===-1&&(c="mp4a.40.5")}c&&c.indexOf("mp4a.40.5")!==-1&&u.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),s.levelCodec=c,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(M.BUFFER_CODECS,n),Object.keys(n).forEach(c=>{const h=n[c].initSegment;h!=null&&h.byteLength&&this.hls.trigger(M.BUFFER_APPENDING,{type:c,data:h,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,it.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ge.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(fn.isBuffered(e,r)?n=this.getAppendedFrag(r):fn.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger(M.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(M.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&Fe(n)&&Fe(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class vc{static get version(){return"1.5.20"}static isMSESupported(){return E5()}static isSupported(){return Xre()}static getMediaSource(){return Bc()}static get Events(){return M}static get ErrorTypes(){return lt}static get ErrorDetails(){return le}static get DefaultConfig(){return vc.defaultConfig?vc.defaultConfig:y5}static set DefaultConfig(e){vc.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Kw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,GJ(e.debug||!1,"Hls instance");const n=this.config=Kre(vc.DefaultConfig,e);this.userConfig=e,n.progressive&&zre(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:a}=n,c=new o(this),u=this.abrController=new r(this),h=this.bufferController=new i(this),f=this.capLevelController=new s(this),p=new a(this),g=new Bee(this),v=new Hee(this),y=n.contentSteeringController,E=y?new y(this):null,S=this.levelController=new Yre(this,E),w=new bte(this),T=new qre(this.config),C=this.streamController=new rie(this,w,T);f.setStreamController(C),p.setStreamController(C);const _=[g,S,C];E&&_.splice(1,0,E),this.networkControllers=_;const L=[u,h,f,p,v,w];this.audioTrackController=this.createController(n.audioTrackController,_);const D=n.audioStreamController;D&&_.push(new D(this,w,T)),this.subtitleTrackController=this.createController(n.subtitleTrackController,_);const P=n.subtitleStreamController;P&&_.push(new P(this,w,T)),this.createController(n.timelineController,L),T.emeController=this.emeController=this.createController(n.emeController,L),this.cmcdController=this.createController(n.cmcdController,L),this.latencyController=this.createController(Gee,L),this.coreComponents=L,_.push(c);const N=c.onErrorOut;typeof N=="function"&&this.on(M.ERROR,N,c)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(ee.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===M.ERROR;this.trigger(M.ERROR,{type:lt.OTHER_ERROR,details:le.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){ee.log("destroy"),this.trigger(M.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){ee.log("attachMedia"),this._media=e,this.trigger(M.MEDIA_ATTACHING,{media:e})}detachMedia(){ee.log("detachMedia"),this.trigger(M.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=Pw.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,ee.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(M.MANIFEST_LOADING,{url:e})}startLoad(e=-1){ee.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e),!(!this.started||!this.networkControllers));n++);}stopLoad(){ee.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){ee.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){ee.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){ee.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){ee.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){ee.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){ee.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){ee.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){ee.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){ee.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(ee.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Kee(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}vc.defaultConfig=void 0;var It=vc,hn={VIDEO:"video",DRM:"drm"},ze={NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},wb=t=>t===hn.VIDEO?"playback":t,Ba=class vf extends Error{constructor(e,n=vf.MEDIA_ERR_CUSTOM,r,i){var s;super(e),this.name="MediaError",this.code=n,this.context=i,this.fatal=r??(n>=vf.MEDIA_ERR_NETWORK&&n<=vf.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(s=vf.defaultMessages[this.code])!=null?s:"")}};Ba.MEDIA_ERR_ABORTED=1,Ba.MEDIA_ERR_NETWORK=2,Ba.MEDIA_ERR_DECODE=3,Ba.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Ba.MEDIA_ERR_ENCRYPTED=5,Ba.MEDIA_ERR_CUSTOM=100,Ba.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var De=Ba,iie=t=>t==null,Qw=(t,e)=>iie(e)?!1:t in e,ZS={ANY:"any",MUTED:"muted"},tn={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},fo={MSE:"mse",NATIVE:"native"},V0={HEADER:"header",QUERY:"query",NONE:"none"},wy=Object.values(V0),ll={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},tD={HLS:ll.M3U8};[...Object.values(ll)];var sie="en",JS={code:sie},zn=(t,e,n,r,i=t)=>{i.addEventListener(e,n,r),t.addEventListener("teardown",()=>{i.removeEventListener(e,n)},{once:!0})};function oie(t,e,n){e&&n>e&&(n=e);for(let r=0;r<t.length;r++)if(t.start(r)<=n&&t.end(r)>=n)return!0;return!1}var Zw=t=>{let e=t.indexOf("?");if(e<0)return[t];let n=t.slice(0,e),r=t.slice(e);return[n,r]},_b=t=>{let e=t.type;if(e){let r=e.toUpperCase();return Qw(r,tD)?tD[r]:e}let{src:n}=t;return n?aie(n):""},x5=t=>t==="VOD"?tn.ON_DEMAND:tn.LIVE,S5=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,aie=t=>{let e="";try{e=new URL(t).pathname}catch{console.error("invalid url")}let n=e.lastIndexOf(".");if(n<0)return"";let r=e.slice(n+1).toUpperCase();return Qw(r,ll)?ll[r]:""},pd=t=>{let e=(t??"").split(".")[1];if(e)try{let n=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{return}},lie=({exp:t},e=Date.now())=>!t||t*1e3<e,cie=({sub:t},e)=>t!==e,uie=({aud:t},e)=>!t,die=({aud:t},e)=>t!==e,T5="en";function Ge(t,e=!0){var n,r;let i=e&&(r=(n=JS)==null?void 0:n[t])!=null?r:t,s=e?JS.code:T5;return new hie(i,s)}var hie=class{constructor(e,n=(r=>(r=JS)!=null?r:T5)()){this.message=e,this.locale=n}format(e){return this.message.replace(/\{(\w+)\}/g,(n,r)=>{var i;return(i=e[r])!=null?i:""})}toString(){return this.message}},fie=Object.values(ZS),nD=t=>typeof t=="boolean"||typeof t=="string"&&fie.includes(t),pie=(t,e,n)=>{let{autoplay:r}=t,i=!1,s=!1,o=nD(r)?r:!!r,a=()=>{i||zn(e,"playing",()=>{i=!0},{once:!0})};if(a(),zn(e,"loadstart",()=>{i=!1,a(),C1(e,o)},{once:!0}),zn(e,"loadstart",()=>{n||(t.streamType&&t.streamType!==tn.UNKNOWN?s=t.streamType===tn.LIVE:s=!Number.isFinite(e.duration)),C1(e,o)},{once:!0}),n&&n.once(It.Events.LEVEL_LOADED,(c,u)=>{var h;t.streamType&&t.streamType!==tn.UNKNOWN?s=t.streamType===tn.LIVE:s=(h=u.details.live)!=null?h:!1}),!o){let c=()=>{!s||Number.isFinite(t.startTime)||(n!=null&&n.liveSyncPosition?e.currentTime=n.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};n&&zn(e,"play",()=>{e.preload==="metadata"?n.once(It.Events.LEVEL_UPDATED,c):c()},{once:!0})}return c=>{i||(o=nD(c)?c:!!c,C1(e,o))}},C1=(t,e)=>{if(!e)return;let n=t.muted,r=()=>t.muted=n;switch(e){case ZS.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(r)});break;case ZS.MUTED:t.muted=!0,t.play().catch(r);break;default:t.play().catch(()=>{});break}},mie=({preload:t,src:e},n,r)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?n.setAttribute("preload",f):n.removeAttribute("preload")};if(!r)return i(t),i;let s=!1,o=!1,a=r.config.maxBufferLength,c=r.config.maxBufferSize,u=f=>{i(f);let p=f??n.preload;o||p==="none"||(p==="metadata"?(r.config.maxBufferLength=1,r.config.maxBufferSize=1):(r.config.maxBufferLength=a,r.config.maxBufferSize=c),h())},h=()=>{!s&&e&&(s=!0,r.loadSource(e))};return zn(n,"play",()=>{o=!0,r.config.maxBufferLength=a,r.config.maxBufferSize=c,h()},{once:!0}),u(t),u};function gie(t,e){var n;if(!("videoTracks"in t))return;let r=new WeakMap;e.on(It.Events.MANIFEST_PARSED,function(u,h){c();let f=t.addVideoTrack("main");f.selected=!0;for(let[p,g]of h.levels.entries()){let v=f.addRendition(g.url[0],g.width,g.height,g.videoCodec,g.bitrate);r.set(g,`${p}`),v.id=`${p}`}}),e.on(It.Events.AUDIO_TRACKS_UPDATED,function(u,h){a();for(let f of h.audioTracks){let p=f.default?"main":"alternative",g=t.addAudioTrack(p,f.name,f.lang);g.id=`${f.id}`,f.default&&(g.enabled=!0)}}),t.audioTracks.addEventListener("change",()=>{var u;let h=+((u=[...t.audioTracks].find(p=>p.enabled))==null?void 0:u.id),f=e.audioTracks.map(p=>p.id);h!=e.audioTrack&&f.includes(h)&&(e.audioTrack=h)}),e.on(It.Events.LEVELS_UPDATED,function(u,h){var f;let p=t.videoTracks[(f=t.videoTracks.selectedIndex)!=null?f:0];if(!p)return;let g=h.levels.map(v=>r.get(v));for(let v of t.videoRenditions)v.id&&!g.includes(v.id)&&p.removeRendition(v)});let i=u=>{let h=u.target.selectedIndex;h!=e.nextLevel&&s(h)},s=u=>{let h=t.currentTime,f=!1,p=(g,v)=>{f||(f=!Number.isFinite(v.endOffset))};e.on(It.Events.BUFFER_FLUSHING,p),e.nextLevel=u,e.off(It.Events.BUFFER_FLUSHING,p),f||e.trigger(It.Events.BUFFER_FLUSHING,{startOffset:h+10,endOffset:1/0,type:"video"})};(n=t.videoRenditions)==null||n.addEventListener("change",i);let o=()=>{for(let u of t.videoTracks)t.removeVideoTrack(u)},a=()=>{for(let u of t.audioTracks)t.removeAudioTrack(u)},c=()=>{o(),a()};e.once(It.Events.DESTROYING,c)}var k1=t=>"time"in t?t.time:t.startTime;function vie(t,e){e.on(It.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:s})=>{s.forEach(o=>{var a,c;let u=(a=o.subtitleTrack)!=null?a:o.closedCaptions,h=e.subtitleTracks.findIndex(({lang:p,name:g,type:v})=>p==(u==null?void 0:u.lang)&&g===o.label&&v.toLowerCase()===o.kind),f=((c=o._id)!=null?c:o.default)?"default":`${o.kind}${h}`;Jw(t,o.kind,o.label,u==null?void 0:u.lang,f,o.default)})});let n=()=>{if(!e.subtitleTracks.length)return;let i=Array.from(t.textTracks).find(a=>a.id&&a.mode==="showing"&&["subtitles","captions"].includes(a.kind));if(!i)return;let s=e.subtitleTracks[e.subtitleTrack],o=s?s.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||(i==null?void 0:i.id)!==o){let a=e.subtitleTracks.findIndex(({lang:c,name:u,type:h,default:f})=>i.id==="default"&&f||c==i.language&&u===i.label&&h.toLowerCase()===i.kind);e.subtitleTrack=a}(i==null?void 0:i.id)===o&&i.cues&&Array.from(i.cues).forEach(a=>{i.addCue(a)})};t.textTracks.addEventListener("change",n),e.on(It.Events.CUES_PARSED,(i,{track:s,cues:o})=>{let a=t.textTracks.getTrackById(s);if(!a)return;let c=a.mode==="disabled";c&&(a.mode="hidden"),o.forEach(u=>{var h;(h=a.cues)!=null&&h.getCueById(u.id)||a.addCue(u)}),c&&(a.mode="disabled")}),e.once(It.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",n),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let r=()=>{Array.from(t.textTracks).forEach(i=>{var s,o;if(!["subtitles","caption"].includes(i.kind)&&(i.label==="thumbnails"||i.kind==="chapters")){if(!((s=i.cues)!=null&&s.length)){let a="track";i.kind&&(a+=`[kind="${i.kind}"]`),i.label&&(a+=`[label="${i.label}"]`);let c=t.querySelector(a),u=(o=c==null?void 0:c.getAttribute("src"))!=null?o:"";c==null||c.removeAttribute("src"),setTimeout(()=>{c==null||c.setAttribute("src",u)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(It.Events.MANIFEST_LOADED,r),e.once(It.Events.MEDIA_ATTACHED,r)}function Jw(t,e,n,r,i,s){let o=document.createElement("track");return o.kind=e,o.label=n,r&&(o.srclang=r),i&&(o.id=i),s&&(o.default=!0),o.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",o.setAttribute("data-removeondestroy",""),t.append(o),o.track}function yie(t,e){let n=Array.prototype.find.call(t.querySelectorAll("track"),r=>r.track===e);n==null||n.remove()}function dm(t,e,n){var r;return(r=Array.from(t.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind===n))==null?void 0:r.track}async function A5(t,e,n,r){let i=dm(t,n,r);return i||(i=Jw(t,r,n),i.mode="hidden",await new Promise(s=>setTimeout(()=>s(void 0),0))),i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort((s,o)=>k1(o)-k1(s)).forEach(s=>{var o,a;let c=s.value,u=k1(s);if("endTime"in s&&s.endTime!=null)i==null||i.addCue(new VTTCue(u,s.endTime,r==="chapters"?c:JSON.stringify(c??null)));else{let h=Array.prototype.findIndex.call(i==null?void 0:i.cues,v=>v.startTime>=u),f=(o=i==null?void 0:i.cues)==null?void 0:o[h],p=f?f.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,g=(a=i==null?void 0:i.cues)==null?void 0:a[h-1];g&&(g.endTime=u),i==null||i.addCue(new VTTCue(u,p,r==="chapters"?c:JSON.stringify(c??null)))}}),t.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),i}var e_="cuepoints",w5=Object.freeze({label:e_});async function _5(t,e,n=w5){return A5(t,e,n.label,"metadata")}var eT=t=>({time:t.startTime,value:JSON.parse(t.text)});function bie(t,e={label:e_}){let n=dm(t,e.label,"metadata");return n!=null&&n.cues?Array.from(n.cues,r=>eT(r)):[]}function C5(t,e={label:e_}){var n,r;let i=dm(t,e.label,"metadata");if(!((n=i==null?void 0:i.activeCues)!=null&&n.length))return;if(i.activeCues.length===1)return eT(i.activeCues[0]);let{currentTime:s}=t,o=Array.prototype.find.call((r=i.activeCues)!=null?r:[],({startTime:a,endTime:c})=>a<=s&&c>s);return eT(o||i.activeCues[0])}async function Eie(t,e=w5){return new Promise(n=>{zn(t,"loadstart",async()=>{let r=await _5(t,[],e);zn(t,"cuechange",()=>{let i=C5(t);if(i){let s=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},r),n(r)})})}var t_="chapters",k5=Object.freeze({label:t_}),tT=t=>({startTime:t.startTime,endTime:t.endTime,value:t.text});async function R5(t,e,n=k5){return A5(t,e,n.label,"chapters")}function xie(t,e={label:t_}){var n;let r=dm(t,e.label,"chapters");return(n=r==null?void 0:r.cues)!=null&&n.length?Array.from(r.cues,i=>tT(i)):[]}function I5(t,e={label:t_}){var n,r;let i=dm(t,e.label,"chapters");if(!((n=i==null?void 0:i.activeCues)!=null&&n.length))return;if(i.activeCues.length===1)return tT(i.activeCues[0]);let{currentTime:s}=t,o=Array.prototype.find.call((r=i.activeCues)!=null?r:[],({startTime:a,endTime:c})=>a<=s&&c>s);return tT(o||i.activeCues[0])}async function Sie(t,e=k5){return new Promise(n=>{zn(t,"loadstart",async()=>{let r=await R5(t,[],e);zn(t,"cuechange",()=>{let i=I5(t);if(i){let s=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},r),n(r)})})}function Tie(t,e){if(e){let n=e.playingDate;if(n!=null)return new Date(n.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function Aie(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let n=t.getStartDate();return new Date(n.getTime()+t.currentTime*1e3)}return new Date(NaN)}var Jf={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},wie=t=>{if(t===hn.VIDEO)return Jf.VIDEO;if(t===hn.DRM)return Jf.DRM},_ie=(t,e)=>{var n,r;let i=wb(t),s=`${i}Token`;return(n=e.tokens)!=null&&n[i]?(r=e.tokens)==null?void 0:r[i]:Qw(s,e)?e[s]:void 0},_y=(t,e,n,r=!1,i=!(s=>(s=globalThis.navigator)==null?void 0:s.onLine)())=>{var s,o;if(i){let E=Ge("Your device appears to be offline",r),S,w=De.MEDIA_ERR_NETWORK,T=new De(E,w,!0,S);return T.errorCategory=e,T.muxCode=ze.NETWORK_OFFLINE,T.data=t,T}let a="status"in t?t.status:t.code,c=Date.now(),u=De.MEDIA_ERR_NETWORK;if(a===200)return;let h=wb(e),f=_ie(e,n),p=wie(e),[g]=Zw((s=n.playbackId)!=null?s:"");if(!a||!g)return;let v=pd(f);if(f&&!v){let E=Ge("The {tokenNamePrefix}-token provided is invalid or malformed.",r).format({tokenNamePrefix:h}),S=Ge("Compact JWT string: {token}",r).format({token:f}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_TOKEN_MALFORMED,w.data=t,w}if(a>=500){let E=new De("",u,!0);return E.errorCategory=e,E.muxCode=ze.NETWORK_UNKNOWN_ERROR,E}if(a===403)if(v){if(lie(v,c)){let E={timeStyle:"medium",dateStyle:"medium"},S=Ge("The videos secured {tokenNamePrefix}-token has expired.",r).format({tokenNamePrefix:h}),w=Ge("Expired at: {expiredDate}. Current time: {currentDate}.",r).format({expiredDate:new Intl.DateTimeFormat("en",E).format((o=v.exp)!=null?o:0*1e3),currentDate:new Intl.DateTimeFormat("en",E).format(c)}),T=new De(S,u,!0,w);return T.errorCategory=e,T.muxCode=ze.NETWORK_TOKEN_EXPIRED,T.data=t,T}if(cie(v,g)){let E=Ge("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",r).format({tokenNamePrefix:h}),S=Ge("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",r).format({tokenNamePrefix:h,playbackId:g,tokenPlaybackId:v.sub}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_TOKEN_SUB_MISMATCH,w.data=t,w}if(uie(v)){let E=Ge("The {tokenNamePrefix}-token is formatted with incorrect information.",r).format({tokenNamePrefix:h}),S=Ge("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",r).format({tokenNamePrefix:h,expectedAud:p}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_TOKEN_AUD_MISSING,w.data=t,w}if(die(v,p)){let E=Ge("The {tokenNamePrefix}-token is formatted with incorrect information.",r).format({tokenNamePrefix:h}),S=Ge("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",r).format({tokenNamePrefix:h,expectedAud:p,aud:v.aud}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_TOKEN_AUD_MISMATCH,w.data=t,w}}else{let E=Ge("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",r).format({tokenNamePrefix:h,category:e}),S=Ge("Specified playback ID: {playbackId}",r).format({playbackId:g}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_TOKEN_MISSING,w.data=t,w}if(a===412){let E=Ge("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",r),S=Ge("Specified playback ID: {playbackId}",r).format({playbackId:g}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_NOT_READY,w.data=t,w}if(a===404){let E=Ge("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",r),S=Ge("Specified playback ID: {playbackId}",r).format({playbackId:g}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_NOT_FOUND,w.data=t,w}if(a===400){let E=Ge("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),S=Ge("Specified playback ID: {playbackId}",r).format({playbackId:g}),w=new De(E,u,!0,S);return w.errorCategory=e,w.muxCode=ze.NETWORK_INVALID_URL,w.data=t,w}let y=new De("",u,!0);return y.errorCategory=e,y.muxCode=ze.NETWORK_UNKNOWN_ERROR,y.data=t,y},rD=It.DefaultConfig.capLevelController,L5=class D5 extends rD{constructor(e){super(e)}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((n,r)=>this.isLevelAllowed(n)&&r<=e)}getMaxLevel(e){let n=super.getMaxLevel(e),r=this.getValidLevels(e);if(!r[n])return n;let i=Math.min(r[n].width,r[n].height),s=D5.minMaxResolution;return i>=s?n:rD.getMaxLevelByMediaSize(r,s*(16/9),s)}};L5.minMaxResolution=720;var Cie=L5,kie=Cie,W0={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},Rie=t=>{if(t.includes("fps"))return W0.FAIRPLAY;if(t.includes("playready"))return W0.PLAYREADY;if(t.includes("widevine"))return W0.WIDEVINE},Iie=async t=>fetch(t).then(e=>e.status!==200?Promise.reject(e):e.text()).then(e=>{let n=e.split(`
`).find((r,i,s)=>i&&s[i-1].startsWith("#EXT-X-STREAM-INF"));return fetch(n).then(r=>r.status!==200?Promise.reject(r):r.text()).then(r=>r.split(`
`))}),Lie=t=>{var e,n,r;let i=(n=((e=t.find(c=>c.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:n.trim(),s=x5(i),o=S5(i),a;if(s===tn.LIVE){let c=t.find(u=>u.startsWith("#EXT-X-PART-INF"));if(c)a=+c.split(":")[1].split("=")[1]*2;else{let u=t.find(f=>f.startsWith("#EXT-X-TARGETDURATION")),h=(r=u==null?void 0:u.split(":"))==null?void 0:r[1];a=+(h??6)*3}}return{streamType:s,targetLiveWindow:o,liveEdgeStartOffset:a}},Die=async(t,e)=>{if(e===ll.MP4)return{streamType:tn.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0};if(e===ll.M3U8){let n=await Iie(t);return Lie(n)}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0}},Pie=async(t,e,n=_b({src:t}))=>{var r,i,s;let{streamType:o,targetLiveWindow:a,liveEdgeStartOffset:c}=await Die(t,n);((r=Er.get(e))!=null?r:{}).liveEdgeStartOffset=c,((i=Er.get(e))!=null?i:{}).targetLiveWindow=a,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((s=Er.get(e))!=null?s:{}).streamType=o,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},Mie=t=>{var e;let n=t.type,r=x5(n),i=S5(n),s,o=!!((e=t.partList)!=null&&e.length);return r===tn.LIVE&&(s=o?t.partTarget*2:t.targetduration*3),{streamType:r,targetLiveWindow:i,liveEdgeStartOffset:s,lowLatency:o}},Oie=(t,e,n)=>{var r,i,s,o,a,c,u,h;let{streamType:f,targetLiveWindow:p,liveEdgeStartOffset:g,lowLatency:v}=Mie(t);if(f===tn.LIVE){v?(n.config.backBufferLength=(r=n.userConfig.backBufferLength)!=null?r:4,n.config.maxFragLookUpTolerance=(i=n.userConfig.maxFragLookUpTolerance)!=null?i:.001,n.config.abrBandWidthUpFactor=(s=n.userConfig.abrBandWidthUpFactor)!=null?s:n.config.abrBandWidthFactor):n.config.backBufferLength=(o=n.userConfig.backBufferLength)!=null?o:8;let y=Object.freeze({get length(){return e.seekable.length},start(E){return e.seekable.start(E)},end(E){var S;return E>this.length||E<0||Number.isFinite(e.duration)?e.seekable.end(E):(S=n.liveSyncPosition)!=null?S:e.seekable.end(E)}});((a=Er.get(e))!=null?a:{}).seekable=y}((c=Er.get(e))!=null?c:{}).liveEdgeStartOffset=g,((u=Er.get(e))!=null?u:{}).targetLiveWindow=p,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((h=Er.get(e))!=null?h:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},iD,sD,Nie=(sD=(iD=globalThis==null?void 0:globalThis.navigator)==null?void 0:iD.userAgent)!=null?sD:"",oD,aD,lD,$ie=(lD=(aD=(oD=globalThis==null?void 0:globalThis.navigator)==null?void 0:oD.userAgentData)==null?void 0:aD.platform)!=null?lD:"",Fie=Nie.toLowerCase().includes("android")||["x11","android"].some(t=>$ie.toLowerCase().includes(t)),Er=new WeakMap,nl="mux.com",cD,uD,P5=(uD=(cD=It).isSupported)==null?void 0:uD.call(cD),Bie=Fie,n_=()=>Dw.utils.now(),Uie=Dw.utils.generateUUID,nT=({playbackId:t,customDomain:e=nl,maxResolution:n,minResolution:r,renditionOrder:i,programStartTime:s,programEndTime:o,assetStartTime:a,assetEndTime:c,playbackToken:u,tokens:{playback:h=u}={},extraSourceParams:f={}}={})=>{if(!t)return;let[p,g=""]=Zw(t),v=new URL(`https://stream.${e}/${p}.m3u8${g}`);return h||v.searchParams.has("token")?(v.searchParams.forEach((y,E)=>{E!="token"&&v.searchParams.delete(E)}),h&&v.searchParams.set("token",h)):(n&&v.searchParams.set("max_resolution",n),r&&(v.searchParams.set("min_resolution",r),n&&+n.slice(0,-1)<+r.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",r,"maxResolution",n)),i&&v.searchParams.set("rendition_order",i),s&&v.searchParams.set("program_start_time",`${s}`),o&&v.searchParams.set("program_end_time",`${o}`),a&&v.searchParams.set("asset_start_time",`${a}`),c&&v.searchParams.set("asset_end_time",`${c}`),Object.entries(f).forEach(([y,E])=>{E!=null&&v.searchParams.set(y,E)})),v.toString()},Cb=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},M5=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(".m3u8");return e||void 0},jie=t=>{var e,n,r;return(e=t==null?void 0:t.metadata)!=null&&e.video_id?t.metadata.video_id:V5(t)&&(r=(n=Cb(t.playbackId))!=null?n:M5(t.src))!=null?r:t.src},O5=t=>{var e;return(e=Er.get(t))==null?void 0:e.error},rT=t=>{var e,n;return(n=(e=Er.get(t))==null?void 0:e.streamType)!=null?n:tn.UNKNOWN},Vie=t=>{var e,n;return(n=(e=Er.get(t))==null?void 0:e.targetLiveWindow)!=null?n:Number.NaN},r_=t=>{var e,n;return(n=(e=Er.get(t))==null?void 0:e.seekable)!=null?n:t.seekable},Wie=t=>{var e;let n=(e=Er.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof n!="number")return Number.NaN;let r=r_(t);return r.length?r.end(r.length-1)-n:Number.NaN},i_=.034,Hie=(t,e,n=i_)=>Math.abs(t-e)<=n,N5=(t,e,n=i_)=>t>e||Hie(t,e,n),Gie=(t,e=i_)=>t.paused&&N5(t.currentTime,t.duration,e),$5=(t,e)=>{var n,r,i;if(!e||!t.buffered.length)return;if(t.readyState>2)return!1;let s=e.currentLevel>=0?(r=(n=e.levels)==null?void 0:n[e.currentLevel])==null?void 0:r.details:(i=e.levels.find(f=>!!f.details))==null?void 0:i.details;if(!s||s.live)return;let{fragments:o}=s;if(!(o!=null&&o.length))return;if(t.currentTime<t.duration-(s.targetduration+.5))return!1;let a=o[o.length-1];if(t.currentTime<=a.start)return!1;let c=a.start+a.duration/2,u=t.buffered.start(t.buffered.length-1),h=t.buffered.end(t.buffered.length-1);return c>u&&c<h},F5=(t,e)=>t.ended||t.loop?t.ended:e&&$5(t,e)?!0:Gie(t),Kie=(t,e,n)=>{B5(e,n);let{metadata:r={}}=t,{view_session_id:i=Uie()}=r,s=jie(t);r.view_session_id=i,r.video_id=s,t.metadata=r;let o=h=>{var f;(f=e.mux)==null||f.emit("hb",{view_drm_type:h})};t.drmTypeCb=o,Er.set(e,{});let a=zie(t,e),c=mie(t,e,a);Jie(t,e,a),ese(t,e,a),Eie(e),Sie(e);let u=pie(t,e,a);return{engine:a,setAutoplay:u,setPreload:c}},B5=(t,e)=>{let n=e==null?void 0:e.engine;n&&(n.detachMedia(),n.destroy()),t!=null&&t.mux&&!t.mux.deleted&&(t.mux.destroy(),delete t.mux),t&&(t.removeAttribute("src"),t.load(),t.removeEventListener("error",H5),t.removeEventListener("error",iT),t.removeEventListener("durationchange",W5),Er.delete(t),t.dispatchEvent(new Event("teardown")))};function U5(t,e){var n;let r=_b(t);if(r!==ll.M3U8)return!0;let i=!r||((n=e.canPlayType(r))!=null?n:!0),{preferPlayback:s}=t,o=s===fo.MSE,a=s===fo.NATIVE;return i&&(a||!(P5&&(o||Bie)))}var zie=(t,e)=>{let{debug:n,streamType:r,startTime:i=-1,metadata:s,preferCmcd:o,_hlsConfig:a={}}=t,c=_b(t)===ll.M3U8,u=U5(t,e);if(c&&!u&&P5){let h={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},f=Yie(r),p=qie(t),g=o!==V0.NONE?{useHeaders:o===V0.HEADER,sessionId:s==null?void 0:s.view_session_id,contentId:s==null?void 0:s.video_id}:void 0;return new It({debug:n,startPosition:i,cmcd:g,xhrSetup:(v,y)=>{var E,S;if(o&&o!==V0.QUERY)return;let w=new URL(y);if(!w.searchParams.has("CMCD"))return;let T=((S=(E=w.searchParams.get("CMCD"))==null?void 0:E.split(","))!=null?S:[]).filter(C=>C.startsWith("sid")||C.startsWith("cid")).join(",");w.searchParams.set("CMCD",T),v.open("GET",w)},capLevelController:kie,...h,...f,...p,...a})}},Yie=t=>t===tn.LIVE?{backBufferLength:8}:{},qie=t=>{let{tokens:{drm:e}={},playbackId:n,drmTypeCb:r}=t,i=Cb(n);return!e||!i?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:H0(t,"fairplay"),serverCertificateUrl:j5(t,"fairplay")},"com.widevine.alpha":{licenseUrl:H0(t,"widevine")},"com.microsoft.playready":{licenseUrl:H0(t,"playready")}},requestMediaKeySystemAccessFunc:(s,o)=>(s==="com.widevine.alpha"&&(o=[...o.map(a=>{var c;let u=(c=a.videoCapabilities)==null?void 0:c.map(h=>({...h,robustness:"HW_SECURE_ALL"}));return{...a,videoCapabilities:u}}),...o]),navigator.requestMediaKeySystemAccess(s,o).then(a=>{let c=Rie(s);return r==null||r(c),a}))}},Xie=async t=>{let e=await fetch(t);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},Qie=async(t,e)=>{let n=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:t});if(n.status!==200)return Promise.reject(n);let r=await n.arrayBuffer();return new Uint8Array(r)},Zie=(t,e)=>{zn(e,"encrypted",async n=>{try{let r=n.initDataType;if(r!=="skd"){console.error(`Received unexpected initialization data type "${r}"`);return}if(!e.mediaKeys){let c=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[r],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(h=>{var f;return(f=t.drmTypeCb)==null||f.call(t,W0.FAIRPLAY),h}).catch(()=>{let h=Ge("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),f=new De(h,De.MEDIA_ERR_ENCRYPTED,!0);f.errorCategory=hn.DRM,f.muxCode=ze.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,ao(e,f)});if(!c)return;let u=await c.createMediaKeys();try{let h=await Xie(j5(t,"fairplay")).catch(f=>{if(f instanceof Response){let p=_y(f,hn.DRM,t);return console.error("mediaError",p==null?void 0:p.message,p==null?void 0:p.context),p?Promise.reject(p):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(f)});await u.setServerCertificate(h).catch(()=>{let f=Ge("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),p=new De(f,De.MEDIA_ERR_ENCRYPTED,!0);return p.errorCategory=hn.DRM,p.muxCode=ze.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(p)})}catch(h){ao(e,h);return}await e.setMediaKeys(u)}let i=n.initData;if(i==null){console.error(`Could not start encrypted playback due to missing initData in ${n.type} event`);return}let s=e.mediaKeys.createSession();s.addEventListener("keystatuseschange",()=>{s.keyStatuses.forEach(c=>{let u;if(c==="internal-error"){let h=Ge("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");u=new De(h,De.MEDIA_ERR_ENCRYPTED,!0),u.errorCategory=hn.DRM,u.muxCode=ze.ENCRYPTED_CDM_ERROR}else if(c==="output-restricted"||c==="output-downscaled"){let h=Ge("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");u=new De(h,De.MEDIA_ERR_ENCRYPTED,!1),u.errorCategory=hn.DRM,u.muxCode=ze.ENCRYPTED_OUTPUT_RESTRICTED}u&&ao(e,u)})});let o=await Promise.all([s.generateRequest(r,i).catch(()=>{let c=Ge("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),u=new De(c,De.MEDIA_ERR_ENCRYPTED,!0);u.errorCategory=hn.DRM,u.muxCode=ze.ENCRYPTED_GENERATE_REQUEST_FAILED,ao(e,u)}),new Promise(c=>{s.addEventListener("message",u=>{c(u.message)},{once:!0})})]).then(([,c])=>c);s.generateRequest(r,i);let a=await Qie(o,H0(t,"fairplay")).catch(c=>{if(c instanceof Response){let u=_y(c,hn.DRM,t);return console.error("mediaError",u==null?void 0:u.message,u==null?void 0:u.context),u?Promise.reject(u):Promise.reject(new Error("Unexpected error in license key request"))}return Promise.reject(c)});await s.update(a).catch(()=>{let c=Ge("Failed to update DRM license. This may be an issue with the player or your protected content."),u=new De(c,De.MEDIA_ERR_ENCRYPTED,!0);return u.errorCategory=hn.DRM,u.muxCode=ze.ENCRYPTED_UPDATE_LICENSE_FAILED,Promise.reject(u)})}catch(r){ao(e,r);return}})},H0=({playbackId:t,tokens:{drm:e}={},customDomain:n=nl},r)=>{let i=Cb(t);return`https://license.${n.toLocaleLowerCase().endsWith(nl)?n:nl}/license/${r}/${i}?token=${e}`},j5=({playbackId:t,tokens:{drm:e}={},customDomain:n=nl},r)=>{let i=Cb(t);return`https://license.${n.toLocaleLowerCase().endsWith(nl)?n:nl}/appcert/${r}/${i}?token=${e}`},V5=({playbackId:t,src:e,customDomain:n})=>{if(t)return!0;if(typeof e!="string")return!1;let r=window==null?void 0:window.location.href,i=new URL(e,r).hostname.toLocaleLowerCase();return i.includes(nl)||!!n&&i.includes(n.toLocaleLowerCase())},Jie=(t,e,n)=>{var r;let{envKey:i,disableTracking:s}=t,o=V5(t);if(!s&&(i||o)){let{playerInitTime:a,playerSoftwareName:c,playerSoftwareVersion:u,beaconCollectionDomain:h,debug:f,disableCookies:p}=t,g={...t.metadata,video_title:((r=t==null?void 0:t.metadata)==null?void 0:r.video_title)||void 0},v=y=>typeof y.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(y):y;Dw.monitor(e,{debug:f,beaconCollectionDomain:h,hlsjs:n,Hls:n?It:void 0,automaticErrorTracking:!1,errorTranslator:v,disableCookies:p,data:{...i?{env_key:i}:{},player_software_name:c,player_software:c,player_software_version:u,player_init_time:a,...g}})}},ese=(t,e,n)=>{var r,i;let s=U5(t,e),{src:o}=t,a=()=>{e.ended||!F5(e,n)||($5(e,n)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},c,u,h=()=>{let f=r_(e),p,g;f.length>0&&(p=f.start(0),g=f.end(0)),(u!==g||c!==p)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),c=p,u=g};if(zn(e,"durationchange",h),e&&s){let f=_b(t);if(typeof o=="string"){let p=()=>{if(rT(e)!==tn.LIVE||Number.isFinite(e.duration))return;let v=setInterval(h,1e3);e.addEventListener("teardown",()=>{clearInterval(v)},{once:!0}),zn(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(v)})},g=async()=>Pie(o,e,f).then(p).catch(v=>{if(v instanceof Response){let y=_y(v,hn.VIDEO,t);if(y){ao(e,y);return}}});if(e.preload==="none"){let v=()=>{g(),e.removeEventListener("loadedmetadata",y)},y=()=>{g(),e.removeEventListener("play",v)};zn(e,"play",v,{once:!0}),zn(e,"loadedmetadata",y,{once:!0})}else g();(r=t.tokens)!=null&&r.drm?Zie(t,e):zn(e,"encrypted",()=>{let v=Ge("Attempting to play DRM-protected content without providing a DRM token."),y=new De(v,De.MEDIA_ERR_ENCRYPTED,!0);y.errorCategory=hn.DRM,y.muxCode=ze.ENCRYPTED_MISSING_TOKEN,ao(e,y)},{once:!0}),e.setAttribute("src",o),t.startTime&&(((i=Er.get(e))!=null?i:{}).startTime=t.startTime,e.addEventListener("durationchange",W5,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",H5),e.addEventListener("error",iT),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(p=>{p.remove()})},{once:!0}),zn(e,"pause",a),zn(e,"seeked",a),zn(e,"play",()=>{e.ended||N5(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else n&&o?(n.once(It.Events.LEVEL_LOADED,(f,p)=>{Oie(p.details,e,n),h(),rT(e)===tn.LIVE&&!Number.isFinite(e.duration)&&(n.on(It.Events.LEVEL_UPDATED,h),zn(e,"durationchange",()=>{Number.isFinite(e.duration)&&n.off(It.Events.LEVELS_UPDATED,h)}))}),n.on(It.Events.ERROR,(f,p)=>{ao(e,tse(p,t))}),e.addEventListener("error",iT),zn(e,"waiting",a),gie(t,n),vie(e,n),n.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function W5(t){var e;let n=t.target,r=(e=Er.get(n))==null?void 0:e.startTime;if(r&&oie(n.seekable,n.duration,r)){let i=n.preload==="auto";i&&(n.preload="none"),n.currentTime=r,i&&(n.preload="auto")}}async function H5(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:n,code:r}=e.error,i=new De(n,r);if(e.src&&r===De.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var s;let o=(s=O5(e))!=null?s:e.error;(o==null?void 0:o.code)===De.MEDIA_ERR_SRC_NOT_SUPPORTED&&ao(e,i)},500);return}if(e.src&&(r!==De.MEDIA_ERR_DECODE||r!==void 0))try{let{status:s}=await fetch(e.src);i.data={response:{code:s}}}catch{}ao(e,i)}function ao(t,e){var n;e.fatal&&(((n=Er.get(t))!=null?n:{}).error=e,t.dispatchEvent(new CustomEvent("error",{detail:e})))}function iT(t){var e,n;if(!(t instanceof CustomEvent)||!(t.detail instanceof De))return;let r=t.target,i=t.detail;!i||!i.fatal||(((e=Er.get(r))!=null?e:{}).error=i,(n=r.mux)==null||n.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var tse=(t,e)=>{var n,r,i;console.error("getErrorFromHlsErrorData()",t);let s={[It.ErrorTypes.NETWORK_ERROR]:De.MEDIA_ERR_NETWORK,[It.ErrorTypes.MEDIA_ERROR]:De.MEDIA_ERR_DECODE,[It.ErrorTypes.KEY_SYSTEM_ERROR]:De.MEDIA_ERR_ENCRYPTED},o=h=>[It.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,It.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(h.details)?De.MEDIA_ERR_NETWORK:s[h.type],a=h=>{if(h.type===It.ErrorTypes.KEY_SYSTEM_ERROR)return hn.DRM;if(h.type===It.ErrorTypes.NETWORK_ERROR)return hn.VIDEO},c,u=o(t);if(u===De.MEDIA_ERR_NETWORK&&t.response){let h=(n=a(t))!=null?n:hn.VIDEO;c=(r=_y(t.response,h,e))!=null?r:new De("",u)}else if(u===De.MEDIA_ERR_ENCRYPTED)if(t.details===It.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let h=Ge("Attempting to play DRM-protected content without providing a DRM token.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_MISSING_TOKEN}else if(t.details===It.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let h=Ge("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(t.details===It.ErrorDetails.KEY_SYSTEM_NO_SESSION){let h=Ge("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,!0),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(t.details===It.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let h=Ge("Failed to update DRM license. This may be an issue with the player or your protected content.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(t.details===It.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let h=Ge("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(t.details===It.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let h=Ge("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_CDM_ERROR}else if(t.details===It.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let h=Ge("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");c=new De(h,De.MEDIA_ERR_ENCRYPTED,!1),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_OUTPUT_RESTRICTED}else c=new De(t.error.message,De.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hn.DRM,c.muxCode=ze.ENCRYPTED_ERROR;else c=new De("",u,t.fatal);return c.context||(c.context=`${t.url?`url: ${t.url}
`:""}${t.response&&(t.response.code||t.response.text)?`response: ${t.response.code}, ${t.response.text}
`:""}${t.reason?`failure reason: ${t.reason}
`:""}${t.level?`level: ${t.level}
`:""}${t.parent?`parent stream controller: ${t.parent}
`:""}${t.buffer?`buffer length: ${t.buffer}
`:""}${t.error?`error: ${t.error}
`:""}${t.event?`event: ${t.event}
`:""}${t.err?`error message: ${(i=t.err)==null?void 0:i.message}
`:""}`),c.data=t,c};const je={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},nn={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},G5={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_WIDTH:"mediaWidth"},K5=Object.entries(G5),F=K5.reduce((t,[e,n])=>(t[e]=n.toLowerCase(),t),{}),nse={USER_INACTIVE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},Gc=K5.reduce((t,[e,n])=>(t[e]=n.toLowerCase(),t),{...nse});Object.entries(Gc).reduce((t,[e,n])=>{const r=F[e];return r&&(t[n]=r),t},{userinactivechange:"userinactive"});const rse=Object.entries(F).reduce((t,[e,n])=>{const r=Gc[e];return r&&(t[n]=r),t},{userinactive:"userinactivechange"}),Eo={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},md={DISABLED:"disabled",SHOWING:"showing"},dD={MOUSE:"mouse",TOUCH:"touch"},ji={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},Xo={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},ise={FULLSCREEN:"fullscreen"},sse={2:"Network Error",3:"Decode Error",4:"Source Not Supported",5:"Encryption Error"},ose={2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."},z5=t=>{var e,n;return t.code===1?null:{title:(e=sse[t.code])!=null?e:`Error ${t.code}`,message:(n=ose[t.code])!=null?n:t.message}},$n={ENTER_AIRPLAY:"Start airplay",EXIT_AIRPLAY:"Stop airplay",AUDIO_TRACK_MENU:"Audio",CAPTIONS:"Captions",ENABLE_CAPTIONS:"Enable captions",DISABLE_CAPTIONS:"Disable captions",START_CAST:"Start casting",STOP_CAST:"Stop casting",ENTER_FULLSCREEN:"Enter fullscreen mode",EXIT_FULLSCREEN:"Exit fullscreen mode",MUTE:"Mute",UNMUTE:"Unmute",ENTER_PIP:"Enter picture in picture mode",EXIT_PIP:"Enter picture in picture mode",PLAY:"Play",PAUSE:"Pause",PLAYBACK_RATE:"Playback rate",RENDITIONS:"Quality",SEEK_BACKWARD:"Seek backward",SEEK_FORWARD:"Seek forward",SETTINGS:"Settings"},Ri={AUDIO_PLAYER:()=>"audio player",VIDEO_PLAYER:()=>"video player",VOLUME:()=>"volume",SEEK:()=>"seek",CLOSED_CAPTIONS:()=>"closed captions",PLAYBACK_RATE:({playbackRate:t=1}={})=>`current playback rate ${t}`,PLAYBACK_TIME:()=>"playback time",MEDIA_LOADING:()=>"media loading",SETTINGS:()=>"settings",AUDIO_TRACKS:()=>"audio tracks",QUALITY:()=>"quality"},Gr={PLAY:()=>"play",PAUSE:()=>"pause",MUTE:()=>"mute",UNMUTE:()=>"unmute",ENTER_AIRPLAY:()=>"start airplay",EXIT_AIRPLAY:()=>"stop airplay",ENTER_CAST:()=>"start casting",EXIT_CAST:()=>"stop casting",ENTER_FULLSCREEN:()=>"enter fullscreen mode",EXIT_FULLSCREEN:()=>"exit fullscreen mode",ENTER_PIP:()=>"enter picture in picture mode",EXIT_PIP:()=>"exit picture in picture mode",SEEK_FORWARD_N_SECS:({seekOffset:t=30}={})=>`seek forward ${t} seconds`,SEEK_BACK_N_SECS:({seekOffset:t=30}={})=>`seek back ${t} seconds`,SEEK_LIVE:()=>"seek to live",PLAYING_LIVE:()=>"playing live"};function ase(t){return t==null?void 0:t.map(cse).join(" ")}function lse(t){return t==null?void 0:t.split(/\s+/).map(use)}function cse(t){if(t){const{id:e,width:n,height:r}=t;return[e,n,r].filter(i=>i!=null).join(":")}}function use(t){if(t){const[e,n,r]=t.split(":");return{id:e,width:+n,height:+r}}}function dse(t){return t==null?void 0:t.map(fse).join(" ")}function hse(t){return t==null?void 0:t.split(/\s+/).map(pse)}function fse(t){if(t){const{id:e,kind:n,language:r,label:i}=t;return[e,n,r,i].filter(s=>s!=null).join(":")}}function pse(t){if(t){const[e,n,r,i]=t.split(":");return{id:e,kind:n,language:r,label:i}}}function mse(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function s_(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function Y5(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const q5=t=>new Promise(e=>setTimeout(e,t)),hD=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],gse=(t,e)=>{const n=t===1?hD[e].singular:hD[e].plural;return`${t} ${n}`},ep=t=>{if(!s_(t))return"";const e=Math.abs(t),n=e!==t,r=new Date(0,0,0,0,0,e,0);return`${[r.getHours(),r.getMinutes(),r.getSeconds()].map((a,c)=>a&&gse(a,c)).filter(a=>a).join(", ")}${n?" remaining":""}`};function kc(t,e){let n=!1;t<0&&(n=!0,t=0-t),t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600);const o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=i=r="0"),s=s>0||a>0?s+":":"",i=((s||o>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,(n?"-":"")+s+i+r}let X5=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}};class Q5 extends X5{}let fD=class extends Q5{constructor(){super(...arguments),this.role=null}},vse=class{observe(){}unobserve(){}disconnect(){}};const Z5={createElement:function(){return new kp.HTMLElement},createElementNS:function(){return new kp.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(t){return!1}},kp={ResizeObserver:vse,document:Z5,Node:Q5,Element:fD,HTMLElement:class extends fD{constructor(){super(...arguments),this.innerHTML=""}get content(){return new kp.DocumentFragment}},DocumentFragment:class extends X5{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(t){return null},setItem(t,e){},removeItem(t){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(t){return{matches:!1,media:t}}},J5=typeof window>"u"||typeof window.customElements>"u",e4=Object.keys(kp).every(t=>t in globalThis),ne=J5&&!e4?kp:globalThis,Xe=J5&&!e4?Z5:globalThis.document,pD=new WeakMap,o_=t=>{let e=pD.get(t);return e||pD.set(t,e=new Set),e},t4=new ne.ResizeObserver(t=>{for(const e of t)for(const n of o_(e.target))n(e)});function Pd(t,e){o_(t).add(e),t4.observe(t)}function Rp(t,e){const n=o_(t);n.delete(e),n.size||t4.unobserve(t)}function yse(t){const e={};for(const n of t)e[n.name]=n.value;return e}function ss(t){var e;return(e=sT(t))!=null?e:Xd(t,"media-controller")}function sT(t){var e;const{MEDIA_CONTROLLER:n}=nn,r=t.getAttribute(n);if(r)return(e=kb(t))==null?void 0:e.getElementById(r)}const n4=(t,e,n=".value")=>{const r=t.querySelector(n);r&&(r.textContent=e)},bse=(t,e)=>{const n=`slot[name="${e}"]`,r=t.shadowRoot.querySelector(n);return r?r.children:[]},r4=(t,e)=>bse(t,e)[0],da=(t,e)=>!t||!e?!1:t!=null&&t.contains(e)?!0:da(t,e.getRootNode().host),Xd=(t,e)=>{if(!t)return null;const n=t.closest(e);return n||Xd(t.getRootNode().host,e)};function a_(t=document){var e;const n=t==null?void 0:t.activeElement;return n?(e=a_(n.shadowRoot))!=null?e:n:null}function kb(t){var e;const n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t);return n instanceof ShadowRoot||n instanceof Document?n:null}function i4(t,{depth:e=3,checkOpacity:n=!0,checkVisibilityCSS:r=!0}={}){if(t.checkVisibility)return t.checkVisibility({checkOpacity:n,checkVisibilityCSS:r});let i=t;for(;i&&e>0;){const s=getComputedStyle(i);if(n&&s.opacity==="0"||r&&s.visibility==="hidden"||s.display==="none")return!1;i=i.parentElement,e--}return!0}function Ese(t,e,n,r){const i=R1(n,r),s=R1(n,{x:t,y:e}),o=R1(r,{x:t,y:e});return s>i||o>i?s>o?1:0:s/i}function R1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function or(t,e){const n=xse(t,r=>r===e);return n||s4(t,e)}function xse(t,e){var n,r;let i;for(i of(n=t.querySelectorAll("style:not([media])"))!=null?n:[]){let s;try{s=(r=i.sheet)==null?void 0:r.cssRules}catch{continue}for(const o of s??[])if(e(o.selectorText))return o}}function s4(t,e){var n,r;const i=(n=t.querySelectorAll("style:not([media])"))!=null?n:[],s=i==null?void 0:i[i.length-1];return s!=null&&s.sheet?(s==null||s.sheet.insertRule(`${e}{}`,s.sheet.cssRules.length),(r=s.sheet.cssRules)==null?void 0:r[s.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",t),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function Sn(t,e,n=Number.NaN){const r=t.getAttribute(e);return r!=null?+r:n}function Qn(t,e,n){const r=+n;if(n==null||Number.isNaN(r)){t.hasAttribute(e)&&t.removeAttribute(e);return}Sn(t,e,void 0)!==r&&t.setAttribute(e,`${r}`)}function cr(t,e){return t.hasAttribute(e)}function ur(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}cr(t,e)!=n&&t.toggleAttribute(e,n)}function er(t,e,n=null){var r;return(r=t.getAttribute(e))!=null?r:n}function tr(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const r=`${n}`;er(t,e,void 0)!==r&&t.setAttribute(e,r)}var o4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},$a=(t,e,n)=>(o4(t,e,"read from private field"),n?n.call(t):e.get(t)),Sse=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},t0=(t,e,n,r)=>(o4(t,e,"write to private field"),e.set(t,n),n),li;const a4=Xe.createElement("template");a4.innerHTML=`
<style>
  :host {
    display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
    box-sizing: border-box;
  }
</style>
`;class Tse extends ne.HTMLElement{constructor(e={}){if(super(),Sse(this,li,void 0),!this.shadowRoot){const n=this.attachShadow({mode:"open"}),r=a4.content.cloneNode(!0);this.nativeEl=r;let i=e.slotTemplate;i||(i=Xe.createElement("template"),i.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(i.content.cloneNode(!0)),n.appendChild(r)}}static get observedAttributes(){return[nn.MEDIA_CONTROLLER,F.MEDIA_PAUSED]}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===nn.MEDIA_CONTROLLER&&(n&&((s=(i=$a(this,li))==null?void 0:i.unassociateElement)==null||s.call(i,this),t0(this,li,null)),r&&this.isConnected&&(t0(this,li,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=$a(this,li))==null?void 0:a.associateElement)==null||c.call(a,this)))}connectedCallback(){var e,n,r,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),t0(this,li,Ase(this)),this.getAttribute(nn.MEDIA_CONTROLLER)&&((n=(e=$a(this,li))==null?void 0:e.associateElement)==null||n.call(e,this)),(r=$a(this,li))==null||r.addEventListener("pointerdown",this),(i=$a(this,li))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,n,r,i;this.getAttribute(nn.MEDIA_CONTROLLER)&&((n=(e=$a(this,li))==null?void 0:e.unassociateElement)==null||n.call(e,this)),(r=$a(this,li))==null||r.removeEventListener("pointerdown",this),(i=$a(this,li))==null||i.removeEventListener("click",this),t0(this,li,null)}handleEvent(e){var n;const r=(n=e.composedPath())==null?void 0:n[0];if(["video","media-controller"].includes(r==null?void 0:r.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:s,clientY:o}=e,{left:a,top:c,width:u,height:h}=this.getBoundingClientRect(),f=s-a,p=o-c;if(f<0||p<0||f>u||p>h||u===0&&h===0)return;const{pointerType:g=this._pointerType}=e;if(this._pointerType=void 0,g===dD.TOUCH){this.handleTap(e);return}else if(g===dD.MOUSE){this.handleMouseClick(e);return}}}}get mediaPaused(){return cr(this,F.MEDIA_PAUSED)}set mediaPaused(e){ur(this,F.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const n=this.mediaPaused?je.MEDIA_PLAY_REQUEST:je.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new ne.CustomEvent(n,{composed:!0,bubbles:!0}))}}li=new WeakMap;function Ase(t){var e;const n=t.getAttribute(nn.MEDIA_CONTROLLER);return n?(e=t.getRootNode())==null?void 0:e.getElementById(n):Xd(t,"media-controller")}ne.customElements.get("media-gesture-receiver")||ne.customElements.define("media-gesture-receiver",Tse);var l_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},el=(t,e,n)=>(l_(t,e,"read from private field"),n?n.call(t):e.get(t)),Vo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},yf=(t,e,n,r)=>(l_(t,e,"write to private field"),e.set(t,n),n),Cs=(t,e,n)=>(l_(t,e,"access private method"),n),Cy,Lu,Ip,td,oT,l4,aT,c4,Lp,Rb,Ib,c_,Md,Dp;const Ot={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive"},u4=Xe.createElement("template");u4.innerHTML=`
  <style>
    
    :host([${F.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
      outline: none;
    }

    :host {
      box-sizing: border-box;
      position: relative;
      display: inline-block;
      line-height: 0;
      background-color: var(--media-background-color, #000);
    }

    :host(:not([${Ot.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      flex-flow: column nowrap;
      align-items: start;
      pointer-events: none;
      background: none;
    }

    slot[name=media] {
      display: var(--media-slot-display, contents);
    }

    
    :host([${Ot.AUDIO}]) slot[name=media] {
      display: var(--media-slot-display, none);
    }

    
    :host([${Ot.AUDIO}]) [part~=layer][part~=gesture-layer] {
      height: 0;
      display: block;
    }

    
    :host(:not([${Ot.AUDIO}])[${Ot.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
    :host(:not([${Ot.AUDIO}])[${Ot.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
      display: none;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
      pointer-events: auto;
    }

    :host(:not([${Ot.AUDIO}])) *[part~=layer][part~=centered-layer] {
      align-items: center;
      justify-content: center;
    }

    :host(:not([${Ot.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
    :host(:not([${Ot.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
      align-self: stretch;
      flex-grow: 1;
    }

    slot[name=middle-chrome] {
      display: inline;
      flex-grow: 1;
      pointer-events: none;
      background: none;
    }

    
    ::slotted([slot=media]),
    ::slotted([slot=poster]) {
      width: 100%;
      height: 100%;
    }

    
    :host(:not([${Ot.AUDIO}])) .spacer {
      flex-grow: 1;
    }

    
    :host(:-webkit-full-screen) {
      
      width: 100% !important;
      height: 100% !important;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not([${Ot.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
      opacity: 1;
      transition: opacity 0.25s;
    }

    
    :host([${Ot.USER_INACTIVE}]:not([${F.MEDIA_PAUSED}]):not([${F.MEDIA_IS_AIRPLAYING}]):not([${F.MEDIA_IS_CASTING}]):not([${Ot.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${Ot.NO_AUTOHIDE}]):not([role=dialog])) {
      opacity: 0;
      transition: opacity 1s;
    }

    :host([${Ot.USER_INACTIVE}]:not([${F.MEDIA_PAUSED}]):not([${F.MEDIA_IS_CASTING}]):not([${Ot.AUDIO}])) ::slotted([slot=media]) {
      cursor: none;
    }

    ::slotted(media-control-bar)  {
      align-self: stretch;
    }

    
    :host(:not([${Ot.AUDIO}])[${F.MEDIA_HAS_PLAYED}]) slot[name=poster] {
      display: none;
    }

    ::slotted([role=dialog]) {
      width: 100%;
      height: 100%;
      align-self: center;
    }

    ::slotted([role=menu]) {
      align-self: end;
    }
  </style>

  <slot name="media" part="layer media-layer"></slot>
  <slot name="poster" part="layer poster-layer"></slot>
  <slot name="gestures-chrome" part="layer gesture-layer">
    <media-gesture-receiver slot="gestures-chrome"></media-gesture-receiver>
  </slot>
  <span part="layer vertical-layer">
    <slot name="top-chrome" part="top chrome"></slot>
    <slot name="middle-chrome" part="middle chrome"></slot>
    <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
    
    <slot part="bottom chrome"></slot>
  </span>
  <slot name="dialog" part="layer dialog-layer"></slot>
`;const wse=Object.values(F),_se="sm:384 md:576 lg:768 xl:960";function Cse(t){kse(t.target,t.contentRect.width)}function kse(t,e){var n;if(!t.isConnected)return;const r=(n=t.getAttribute(Ot.BREAKPOINTS))!=null?n:_se,i=Rse(r),s=Ise(i,e);let o=!1;if(Object.keys(i).forEach(a=>{if(s.includes(a)){t.hasAttribute(`breakpoint${a}`)||(t.setAttribute(`breakpoint${a}`,""),o=!0);return}t.hasAttribute(`breakpoint${a}`)&&(t.removeAttribute(`breakpoint${a}`),o=!0)}),o){const a=new CustomEvent(Gc.BREAKPOINTS_CHANGE,{detail:s});t.dispatchEvent(a)}}function Rse(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(n=>n.split(":")))}function Ise(t,e){return Object.keys(t).filter(n=>e>=parseInt(t[n]))}class d4 extends ne.HTMLElement{constructor(){super(),Vo(this,oT),Vo(this,aT),Vo(this,Lp),Vo(this,Ib),Vo(this,Md),Vo(this,Cy,0),Vo(this,Lu,null),Vo(this,Ip,null),Vo(this,td,void 0),this.breakpointsComputed=!1,this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(u4.content.cloneNode(!0)));const e=o=>{const a=this.media;for(const c of o)c.type==="childList"&&(c.removedNodes.forEach(u=>{if(u.slot=="media"&&c.target==this){let h=c.previousSibling&&c.previousSibling.previousElementSibling;if(!h||!a)this.mediaUnsetCallback(u);else{let f=h.slot!=="media";for(;(h=h.previousSibling)!==null;)h.slot=="media"&&(f=!1);f&&this.mediaUnsetCallback(u)}}}),a&&c.addedNodes.forEach(u=>{u===a&&this.handleMediaUpdated(a)}))};new MutationObserver(e).observe(this,{childList:!0,subtree:!0});let r=!1;Pd(this,o=>{r||(setTimeout(()=>{Cse(o),r=!1,this.breakpointsComputed||(this.breakpointsComputed=!0,this.dispatchEvent(new CustomEvent(Gc.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))},0),r=!0)});const s=this.querySelector(":scope > slot[slot=media]");s&&s.addEventListener("slotchange",()=>{if(!s.assignedElements({flatten:!0}).length){el(this,Lu)&&this.mediaUnsetCallback(el(this,Lu));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[Ot.AUTOHIDE,Ot.GESTURES_DISABLED].concat(wse).filter(e=>![F.MEDIA_RENDITION_LIST,F.MEDIA_AUDIO_TRACK_LIST,F.MEDIA_CHAPTERS_CUES,F.MEDIA_WIDTH,F.MEDIA_HEIGHT,F.MEDIA_ERROR,F.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,n,r){e.toLowerCase()==Ot.AUTOHIDE&&(this.autohide=r)}get media(){let e=this.querySelector(":scope > [slot=media]");return(e==null?void 0:e.nodeName)=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(yf(this,Lu,e),e.localName.includes("-")&&await ne.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;const r=this.getAttribute(Ot.AUDIO)!=null?Ri.AUDIO_PLAYER():Ri.VIDEO_PLAYER();this.setAttribute("role","region"),this.setAttribute("aria-label",r),this.handleMediaUpdated(this.media),this.setAttribute(Ot.USER_INACTIVE,""),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=ne.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;this.media&&this.mediaUnsetCallback(this.media),(e=ne.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){yf(this,Lu,null)}handleEvent(e){switch(e.type){case"pointerdown":yf(this,Cy,e.timeStamp);break;case"pointermove":Cs(this,oT,l4).call(this,e);break;case"pointerup":Cs(this,aT,c4).call(this,e);break;case"mouseleave":Cs(this,Lp,Rb).call(this);break;case"mouseup":this.removeAttribute(Ot.KEYBOARD_CONTROL);break;case"keyup":Cs(this,Md,Dp).call(this),this.setAttribute(Ot.KEYBOARD_CONTROL,"");break}}set autohide(e){const n=Number(e);yf(this,td,isNaN(n)?0:n)}get autohide(){return(el(this,td)===void 0?2:el(this,td)).toString()}}Cy=new WeakMap;Lu=new WeakMap;Ip=new WeakMap;td=new WeakMap;oT=new WeakSet;l4=function(t){t.pointerType!=="mouse"&&t.timeStamp-el(this,Cy)<250||(Cs(this,Ib,c_).call(this),clearTimeout(el(this,Ip)),[this,this.media].includes(t.target)&&Cs(this,Md,Dp).call(this))};aT=new WeakSet;c4=function(t){if(t.pointerType==="touch"){const e=!this.hasAttribute(Ot.USER_INACTIVE);[this,this.media].includes(t.target)&&e?Cs(this,Lp,Rb).call(this):Cs(this,Md,Dp).call(this)}else t.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e==null?void 0:e.localName))&&Cs(this,Md,Dp).call(this)};Lp=new WeakSet;Rb=function(){if(el(this,td)<0||this.hasAttribute(Ot.USER_INACTIVE))return;this.setAttribute(Ot.USER_INACTIVE,"");const t=new ne.CustomEvent(Gc.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(t)};Ib=new WeakSet;c_=function(){if(!this.hasAttribute(Ot.USER_INACTIVE))return;this.removeAttribute(Ot.USER_INACTIVE);const t=new ne.CustomEvent(Gc.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(t)};Md=new WeakSet;Dp=function(){Cs(this,Ib,c_).call(this),clearTimeout(el(this,Ip));const t=parseInt(this.autohide);t<0||yf(this,Ip,setTimeout(()=>{Cs(this,Lp,Rb).call(this)},t*1e3))};ne.customElements.get("media-container")||ne.customElements.define("media-container",d4);var h4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},vr=(t,e,n)=>(h4(t,e,"read from private field"),n?n.call(t):e.get(t)),ef=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},n0=(t,e,n,r)=>(h4(t,e,"write to private field"),e.set(t,n),n),Du,Pu,ky,yc,Ko,Ua;class Lb{constructor(e,n,{defaultValue:r}={defaultValue:void 0}){ef(this,Ko),ef(this,Du,void 0),ef(this,Pu,void 0),ef(this,ky,void 0),ef(this,yc,new Set),n0(this,Du,e),n0(this,Pu,n),n0(this,ky,new Set(r))}[Symbol.iterator](){return vr(this,Ko,Ua).values()}get length(){return vr(this,Ko,Ua).size}get value(){var e;return(e=[...vr(this,Ko,Ua)].join(" "))!=null?e:""}set value(e){var n;e!==this.value&&(n0(this,yc,new Set),this.add(...(n=e==null?void 0:e.split(" "))!=null?n:[]))}toString(){return this.value}item(e){return[...vr(this,Ko,Ua)][e]}values(){return vr(this,Ko,Ua).values()}forEach(e,n){vr(this,Ko,Ua).forEach(e,n)}add(...e){var n,r;e.forEach(i=>vr(this,yc).add(i)),!(this.value===""&&!((n=vr(this,Du))!=null&&n.hasAttribute(`${vr(this,Pu)}`)))&&((r=vr(this,Du))==null||r.setAttribute(`${vr(this,Pu)}`,`${this.value}`))}remove(...e){var n;e.forEach(r=>vr(this,yc).delete(r)),(n=vr(this,Du))==null||n.setAttribute(`${vr(this,Pu)}`,`${this.value}`)}contains(e){return vr(this,Ko,Ua).has(e)}toggle(e,n){return typeof n<"u"?n?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,n){return this.remove(e),this.add(n),e===n}}Du=new WeakMap;Pu=new WeakMap;ky=new WeakMap;yc=new WeakMap;Ko=new WeakSet;Ua=function(){return vr(this,yc).size?vr(this,yc):vr(this,ky)};const Lse=(t="")=>t.split(/\s+/),f4=(t="")=>{const[e,n,r]=t.split(":"),i=r?decodeURIComponent(r):void 0;return{kind:e==="cc"?Eo.CAPTIONS:Eo.SUBTITLES,language:n,label:i}},Db=(t="",e={})=>Lse(t).map(n=>{const r=f4(n);return{...e,...r}}),p4=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?f4(e):e):typeof t=="string"?Db(t):[t]:[],lT=({kind:t,label:e,language:n}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${n}:${encodeURIComponent(e)}`:n,Pp=(t=[])=>Array.prototype.map.call(t,lT).join(" "),Dse=(t,e)=>n=>n[t]===e,m4=t=>{const e=Object.entries(t).map(([n,r])=>Dse(n,r));return n=>e.every(r=>r(n))},tp=(t,e=[],n=[])=>{const r=p4(n).map(m4),i=s=>r.some(o=>o(s));Array.from(e).filter(i).forEach(s=>{s.mode=t})},Pb=(t,e=()=>!0)=>{if(!(t!=null&&t.textTracks))return[];const n=typeof e=="function"?e:m4(e);return Array.from(t.textTracks).filter(n)},g4=t=>{var e;return!!((e=t.mediaSubtitlesShowing)!=null&&e.length)||t.hasAttribute(F.MEDIA_SUBTITLES_SHOWING)},Pse=t=>{var e;const{media:n,fullscreenElement:r}=t,i=r&&"requestFullscreen"in r?"requestFullscreen":r&&"webkitRequestFullScreen"in r?"webkitRequestFullScreen":void 0;if(i){const s=(e=r[i])==null?void 0:e.call(r);if(s instanceof Promise)return s.catch(()=>{})}else n!=null&&n.webkitEnterFullscreen?n.webkitEnterFullscreen():n!=null&&n.requestFullscreen&&n.requestFullscreen()},mD="exitFullscreen"in Xe?"exitFullscreen":"webkitExitFullscreen"in Xe?"webkitExitFullscreen":"webkitCancelFullScreen"in Xe?"webkitCancelFullScreen":void 0,Mse=t=>{var e;const{documentElement:n}=t;if(mD){const r=(e=n==null?void 0:n[mD])==null?void 0:e.call(n);if(r instanceof Promise)return r.catch(()=>{})}},bf="fullscreenElement"in Xe?"fullscreenElement":"webkitFullscreenElement"in Xe?"webkitFullscreenElement":void 0,Ose=t=>{const{documentElement:e,media:n}=t,r=e==null?void 0:e[bf];return!r&&"webkitDisplayingFullscreen"in n&&"webkitPresentationMode"in n&&n.webkitDisplayingFullscreen&&n.webkitPresentationMode===ise.FULLSCREEN?n:r},Nse=t=>{var e;const{media:n,documentElement:r,fullscreenElement:i=n}=t;if(!n||!r)return!1;const s=Ose(t);if(!s)return!1;if(s===i||s===n)return!0;if(s.localName.includes("-")){let o=s.shadowRoot;if(!(bf in o))return da(s,i);for(;o!=null&&o[bf];){if(o[bf]===i)return!0;o=(e=o[bf])==null?void 0:e.shadowRoot}}return!1},$se="fullscreenEnabled"in Xe?"fullscreenEnabled":"webkitFullscreenEnabled"in Xe?"webkitFullscreenEnabled":void 0,Fse=t=>{const{documentElement:e,media:n}=t;return!!(e!=null&&e[$se])||n&&"webkitSupportsFullscreen"in n};let r0;const u_=()=>{var t,e;return r0||(r0=(e=(t=Xe)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),r0)},Bse=async(t=u_())=>{if(!t)return!1;const e=t.volume;t.volume=e/2+.1;const n=new AbortController,r=await Promise.race([Use(t,n.signal),jse(t,e)]);return n.abort(),r},Use=(t,e)=>new Promise(n=>{t.addEventListener("volumechange",()=>n(!0),{signal:e})}),jse=async(t,e)=>{for(let n=0;n<10;n++){if(t.volume===e)return!1;await q5(10)}return t.volume!==e},Vse=/.*Version\/.*Safari\/.*/.test(ne.navigator.userAgent),v4=(t=u_())=>ne.matchMedia("(display-mode: standalone)").matches&&Vse?!1:typeof(t==null?void 0:t.requestPictureInPicture)=="function",y4=(t=u_())=>Fse({documentElement:Xe,media:t}),Wse=y4(),Hse=v4(),Gse=!!ne.WebKitPlaybackTargetAvailabilityEvent,Kse=!!ne.chrome,Ry=t=>Pb(t.media,e=>[Eo.SUBTITLES,Eo.CAPTIONS].includes(e.kind)).sort((e,n)=>e.kind>=n.kind?1:-1),b4=t=>Pb(t.media,e=>e.mode===md.SHOWING&&[Eo.SUBTITLES,Eo.CAPTIONS].includes(e.kind)),E4=(t,e)=>{const n=Ry(t),r=b4(t),i=!!r.length;if(n.length){if(e===!1||i&&e!==!0)tp(md.DISABLED,n,r);else if(e===!0||!i&&e!==!1){let s=n[0];const{options:o}=t;if(!(o!=null&&o.noSubtitlesLangPref)){const h=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),f=h?[h,...globalThis.navigator.languages]:globalThis.navigator.languages,p=n.filter(g=>f.some(v=>g.language.toLowerCase().startsWith(v.split("-")[0]))).sort((g,v)=>{const y=f.findIndex(S=>g.language.toLowerCase().startsWith(S.split("-")[0])),E=f.findIndex(S=>v.language.toLowerCase().startsWith(S.split("-")[0]));return y-E});p[0]&&(s=p[0])}const{language:a,label:c,kind:u}=s;tp(md.DISABLED,n,r),tp(md.SHOWING,n,[{language:a,label:c,kind:u}])}}},d_=(t,e)=>t===e?!0:t==null||e==null||typeof t!=typeof e?!1:typeof t=="number"&&Number.isNaN(t)&&Number.isNaN(e)?!0:typeof t!="object"?!1:Array.isArray(t)?zse(t,e):Object.entries(t).every(([n,r])=>n in e&&d_(r,e[n])),zse=(t,e)=>{const n=Array.isArray(t),r=Array.isArray(e);return n!==r?!1:n||r?t.length!==e.length?!1:t.every((i,s)=>d_(i,e[s])):!0},Yse=Object.values(Xo);let Iy;const qse=Bse().then(t=>(Iy=t,Iy)),Xse=async(...t)=>{await Promise.all(t.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof ne.HTMLElement))return;const n=e.localName;if(!n.includes("-"))return;const r=ne.customElements.get(n);r&&e instanceof r||(await ne.customElements.whenDefined(n),ne.customElements.upgrade(e))}))},G0={mediaError:{get(t){const{media:e}=t;return e==null?void 0:e.error},mediaEvents:["emptied","error"]},mediaErrorCode:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.error)==null?void 0:e.code},mediaEvents:["emptied","error"]},mediaErrorMessage:{get(t){var e,n;const{media:r}=t;return(n=(e=r==null?void 0:r.error)==null?void 0:e.message)!=null?n:""},mediaEvents:["emptied","error"]},mediaWidth:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.paused)!=null?e:!0},set(t,e){var n;const{media:r}=e;r&&(t?r.pause():(n=r.play())==null||n.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(t,e){const{media:n}=t;return n?e?e.type==="playing":!n.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.playbackRate)!=null?e:1},set(t,e){const{media:n}=e;n&&Number.isFinite(+t)&&(n.playbackRate=+t)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.muted)!=null?e:!1},set(t,e){const{media:n}=e;n&&(n.muted=t)},mediaEvents:["volumechange"]},mediaVolume:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.volume)!=null?e:1},set(t,e){const{media:n}=e;if(n){try{t==null?ne.localStorage.removeItem("media-chrome-pref-volume"):ne.localStorage.setItem("media-chrome-pref-volume",t.toString())}catch{}Number.isFinite(+t)&&(n.volume=+t)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noVolumePref:n}}=e;if(!n)try{const r=ne.localStorage.getItem("media-chrome-pref-volume");if(r==null)return;G0.mediaVolume.set(+r,e),t(+r)}catch(r){console.debug("Error getting volume pref",r)}}]},mediaVolumeLevel:{get(t){const{media:e}=t;return typeof(e==null?void 0:e.volume)>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(t){var e;const{media:n}=t;return(e=n==null?void 0:n.currentTime)!=null?e:0},set(t,e){const{media:n}=e;!n||!s_(t)||(n.currentTime=t)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(t){const{media:e,options:{defaultDuration:n}={}}=t;return n&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?n:Number.isFinite(e==null?void 0:e.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(t){const{media:e}=t;return(e==null?void 0:e.readyState)<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(t){var e;const{media:n}=t;if(!((e=n==null?void 0:n.seekable)!=null&&e.length))return;const r=n.seekable.start(0),i=n.seekable.end(n.seekable.length-1);if(!(!r&&!i))return[Number(r.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(t){var e;const{media:n}=t,r=(e=n==null?void 0:n.buffered)!=null?e:[];return Array.from(r).map((i,s)=>[Number(r.start(s).toFixed(3)),Number(r.end(s).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(t){const{media:e,options:{defaultStreamType:n}={}}=t,r=[Xo.LIVE,Xo.ON_DEMAND].includes(n)?n:void 0;if(!e)return r;const{streamType:i}=e;if(Yse.includes(i))return i===Xo.UNKNOWN?r:i;const s=e.duration;return s===1/0?Xo.LIVE:Number.isFinite(s)?Xo.ON_DEMAND:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:n}=e,r=G0.mediaStreamType.get(t);return(n==null||Number.isNaN(n))&&r===Xo.LIVE?0:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(t){const{media:e,options:{liveEdgeOffset:n=10}={}}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(G0.mediaStreamType.get(t)===Xo.LIVE))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const s=i.end(i.length-1)-n;return e.currentTime>=s},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(t){return Ry(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(t){return b4(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var n,r;const{media:i,options:s}=e;if(!i)return;const o=a=>{var c;!s.defaultSubtitles||a&&![Eo.CAPTIONS,Eo.SUBTITLES].includes((c=a==null?void 0:a.track)==null?void 0:c.kind)||E4(e,!0)};return(n=i.textTracks)==null||n.addEventListener("addtrack",o),(r=i.textTracks)==null||r.addEventListener("removetrack",o),o(),()=>{var a,c;(a=i.textTracks)==null||a.removeEventListener("addtrack",o),(c=i.textTracks)==null||c.removeEventListener("removetrack",o)}}]},mediaChaptersCues:{get(t){var e;const{media:n}=t;if(!n)return[];const[r]=Pb(n,{kind:Eo.CHAPTERS});return Array.from((e=r==null?void 0:r.cues)!=null?e:[]).map(({text:i,startTime:s,endTime:o})=>({text:i,startTime:s,endTime:o}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;if(!r)return;const i=r.querySelector('track[kind="chapters"][default][src]'),s=(n=r.shadowRoot)==null?void 0:n.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return i==null||i.addEventListener("load",t),s==null||s.addEventListener("load",t),()=>{i==null||i.removeEventListener("load",t),s==null||s.removeEventListener("load",t)}}]},mediaIsPip:{get(t){var e,n;const{media:r,documentElement:i}=t;if(!r||!i||!i.pictureInPictureElement)return!1;if(i.pictureInPictureElement===r)return!0;if(i.pictureInPictureElement instanceof HTMLMediaElement)return(e=r.localName)!=null&&e.includes("-")?da(r,i.pictureInPictureElement):!1;if(i.pictureInPictureElement.localName.includes("-")){let s=i.pictureInPictureElement.shadowRoot;for(;s!=null&&s.pictureInPictureElement;){if(s.pictureInPictureElement===r)return!0;s=(n=s.pictureInPictureElement)==null?void 0:n.shadowRoot}}return!1},set(t,e){const{media:n}=e;if(n)if(t){if(!Xe.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!n.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const r=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};n.requestPictureInPicture().catch(i=>{if(i.code===11){if(!n.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(n.readyState===0&&n.preload==="none"){const s=()=>{n.removeEventListener("loadedmetadata",o),n.preload="none"},o=()=>{n.requestPictureInPicture().catch(r),s()};n.addEventListener("loadedmetadata",o),n.preload="metadata",setTimeout(()=>{n.readyState===0&&r(),s()},1e3)}else throw i}else throw i})}else Xe.pictureInPictureElement&&Xe.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(t){var e;const{media:n}=t;return[...(e=n==null?void 0:n.videoRenditions)!=null?e:[]].map(r=>({...r}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(t){var e,n,r;const{media:i}=t;return(r=(n=i==null?void 0:i.videoRenditions)==null?void 0:n[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:r.id},set(t,e){const{media:n}=e;if(!(n!=null&&n.videoRenditions)){console.warn("MediaController: Rendition selection not supported by this media.");return}const r=t,i=Array.prototype.findIndex.call(n.videoRenditions,s=>s.id==r);n.videoRenditions.selectedIndex!=i&&(n.videoRenditions.selectedIndex=i)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(t){var e;const{media:n}=t;return[...(e=n==null?void 0:n.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(t){var e,n;const{media:r}=t;return(n=[...(e=r==null?void 0:r.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:n.id},set(t,e){const{media:n}=e;if(!(n!=null&&n.audioTracks)){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const r=t;for(const i of n.audioTracks)i.enabled=r==i.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(t){return Nse(t)},set(t,e){t?Pse(e):Mse(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(t){var e;const{media:n}=t;return!(n!=null&&n.remote)||((e=n.remote)==null?void 0:e.state)==="disconnected"?!1:!!n.remote.state},set(t,e){var n,r;const{media:i}=e;if(i&&!(t&&((n=i.remote)==null?void 0:n.state)!=="disconnected")&&!(!t&&((r=i.remote)==null?void 0:r.state)!=="connected")){if(typeof i.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}i.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(t,e){const{media:n}=e;if(n){if(!(n.webkitShowPlaybackTargetPicker&&ne.WebKitPlaybackTargetAvailabilityEvent)){console.warn("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}n.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(t){const{media:e}=t;if(!Wse||!y4(e))return ji.UNSUPPORTED}},mediaPipUnavailable:{get(t){const{media:e}=t;if(!Hse||!v4(e))return ji.UNSUPPORTED}},mediaVolumeUnavailable:{get(t){const{media:e}=t;if(Iy===!1||(e==null?void 0:e.volume)==null)return ji.UNSUPPORTED},stateOwnersUpdateHandlers:[t=>{Iy==null&&qse.then(e=>t(e?void 0:ji.UNSUPPORTED))}]},mediaCastUnavailable:{get(t,{availability:e="not-available"}={}){var n;const{media:r}=t;if(!Kse||!((n=r==null?void 0:r.remote)!=null&&n.state))return ji.UNSUPPORTED;if(!(e==null||e==="available"))return ji.UNAVAILABLE},stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(n=r==null?void 0:r.remote)==null||n.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=r==null?void 0:r.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(t,e){if(!Gse)return ji.UNSUPPORTED;if((e==null?void 0:e.availability)==="not-available")return ji.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(n=r==null?void 0:r.remote)==null||n.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=r==null?void 0:r.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(t){var e;const{media:n}=t;if(!(n!=null&&n.videoRenditions))return ji.UNSUPPORTED;if(!((e=n.videoRenditions)!=null&&e.length))return ji.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(t){var e,n;const{media:r}=t;if(!(r!=null&&r.audioTracks))return ji.UNSUPPORTED;if(((n=(e=r.audioTracks)==null?void 0:e.length)!=null?n:0)<=1)return ji.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]}},Qse={[je.MEDIA_PREVIEW_REQUEST](t,e,{detail:n}){var r,i,s;const{media:o}=e,a=n??void 0;let c,u;if(o&&a!=null){const[g]=Pb(o,{kind:Eo.METADATA,label:"thumbnails"}),v=Array.prototype.find.call((r=g==null?void 0:g.cues)!=null?r:[],(y,E,S)=>E===0?y.endTime>a:E===S.length-1?y.startTime<=a:y.startTime<=a&&y.endTime>a);if(v){const y=/'^(?:[a-z]+:)?\/\//i.test(v.text)||(i=o==null?void 0:o.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,E=new URL(v.text,y);u=new URLSearchParams(E.hash).get("#xywh").split(",").map(w=>+w),c=E.href}}const h=t.mediaDuration.get(e);let p=(s=t.mediaChaptersCues.get(e).find((g,v,y)=>v===y.length-1&&h===g.endTime?g.startTime<=a&&g.endTime>=a:g.startTime<=a&&g.endTime>a))==null?void 0:s.text;return n!=null&&p==null&&(p=""),{mediaPreviewTime:a,mediaPreviewImage:c,mediaPreviewCoords:u,mediaPreviewChapter:p}},[je.MEDIA_PAUSE_REQUEST](t,e){t["mediaPaused"].set(!0,e)},[je.MEDIA_PLAY_REQUEST](t,e){var n;const r="mediaPaused";if(t.mediaStreamType.get(e)===Xo.LIVE){const o=!(t.mediaTargetLiveWindow.get(e)>0),a=(n=t.mediaSeekable.get(e))==null?void 0:n[1];o&&a&&t.mediaCurrentTime.set(a,e)}t[r].set(!1,e)},[je.MEDIA_PLAYBACK_RATE_REQUEST](t,e,{detail:n}){const r="mediaPlaybackRate",i=n;t[r].set(i,e)},[je.MEDIA_MUTE_REQUEST](t,e){t["mediaMuted"].set(!0,e)},[je.MEDIA_UNMUTE_REQUEST](t,e){const n="mediaMuted";t.mediaVolume.get(e)||t.mediaVolume.set(.25,e),t[n].set(!1,e)},[je.MEDIA_VOLUME_REQUEST](t,e,{detail:n}){const r="mediaVolume",i=n;i&&t.mediaMuted.get(e)&&t.mediaMuted.set(!1,e),t[r].set(i,e)},[je.MEDIA_SEEK_REQUEST](t,e,{detail:n}){const r="mediaCurrentTime",i=n;t[r].set(i,e)},[je.MEDIA_SEEK_TO_LIVE_REQUEST](t,e){var n;const r="mediaCurrentTime",i=(n=t.mediaSeekable.get(e))==null?void 0:n[1];Number.isNaN(Number(i))||t[r].set(i,e)},[je.MEDIA_SHOW_SUBTITLES_REQUEST](t,e,{detail:n}){var r;const{options:i}=e,s=Ry(e),o=p4(n),a=(r=o[0])==null?void 0:r.language;a&&!i.noSubtitlesLangPref&&ne.localStorage.setItem("media-chrome-pref-subtitles-lang",a),tp(md.SHOWING,s,o)},[je.MEDIA_DISABLE_SUBTITLES_REQUEST](t,e,{detail:n}){const r=Ry(e),i=n??[];tp(md.DISABLED,r,i)},[je.MEDIA_TOGGLE_SUBTITLES_REQUEST](t,e,{detail:n}){E4(e,n)},[je.MEDIA_RENDITION_REQUEST](t,e,{detail:n}){const r="mediaRenditionSelected",i=n;t[r].set(i,e)},[je.MEDIA_AUDIO_TRACK_REQUEST](t,e,{detail:n}){const r="mediaAudioTrackEnabled",i=n;t[r].set(i,e)},[je.MEDIA_ENTER_PIP_REQUEST](t,e){const n="mediaIsPip";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[n].set(!0,e)},[je.MEDIA_EXIT_PIP_REQUEST](t,e){t["mediaIsPip"].set(!1,e)},[je.MEDIA_ENTER_FULLSCREEN_REQUEST](t,e){const n="mediaIsFullscreen";t.mediaIsPip.get(e)&&t.mediaIsPip.set(!1,e),t[n].set(!0,e)},[je.MEDIA_EXIT_FULLSCREEN_REQUEST](t,e){t["mediaIsFullscreen"].set(!1,e)},[je.MEDIA_ENTER_CAST_REQUEST](t,e){const n="mediaIsCasting";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[n].set(!0,e)},[je.MEDIA_EXIT_CAST_REQUEST](t,e){t["mediaIsCasting"].set(!1,e)},[je.MEDIA_AIRPLAY_REQUEST](t,e){t["mediaIsAirplaying"].set(!0,e)}},Zse=({media:t,fullscreenElement:e,documentElement:n,stateMediator:r=G0,requestMap:i=Qse,options:s={},monitorStateOwnersOnlyWithSubscriptions:o=!0})=>{const a=[],c={options:{...s}};let u=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const h=y=>{y!=null&&(d_(y,u)||(u=Object.freeze({...u,...y}),a.forEach(E=>E(u))))},f=()=>{const y=Object.entries(r).reduce((E,[S,{get:w}])=>(E[S]=w(c),E),{});h(y)},p={};let g;const v=async(y,E)=>{var S,w,T,C,_,L,D,P,N,k,$,z,j,q,G,H;const Q=!!g;if(g={...c,...g??{},...y},Q)return;await Xse(...Object.values(y));const W=a.length>0&&E===0&&o,V=c.media!==g.media,K=((S=c.media)==null?void 0:S.textTracks)!==((w=g.media)==null?void 0:w.textTracks),B=((T=c.media)==null?void 0:T.videoRenditions)!==((C=g.media)==null?void 0:C.videoRenditions),Z=((_=c.media)==null?void 0:_.audioTracks)!==((L=g.media)==null?void 0:L.audioTracks),ue=((D=c.media)==null?void 0:D.remote)!==((P=g.media)==null?void 0:P.remote),fe=c.documentElement!==g.documentElement,me=!!c.media&&(V||W),he=!!((N=c.media)!=null&&N.textTracks)&&(K||W),Te=!!((k=c.media)!=null&&k.videoRenditions)&&(B||W),_e=!!(($=c.media)!=null&&$.audioTracks)&&(Z||W),Ie=!!((z=c.media)!=null&&z.remote)&&(ue||W),Pe=!!c.documentElement&&(fe||W),et=me||he||Te||_e||Ie||Pe,Be=a.length===0&&E===1&&o,mt=!!g.media&&(V||Be),We=!!((j=g.media)!=null&&j.textTracks)&&(K||Be),gt=!!((q=g.media)!=null&&q.videoRenditions)&&(B||Be),$t=!!((G=g.media)!=null&&G.audioTracks)&&(Z||Be),Ye=!!((H=g.media)!=null&&H.remote)&&(ue||Be),ht=!!g.documentElement&&(fe||Be),Ft=mt||We||gt||$t||Ye||ht;if(!(et||Ft)){Object.entries(g).forEach(([Oe,Le])=>{c[Oe]=Le}),f(),g=void 0;return}Object.entries(r).forEach(([Oe,{get:Le,mediaEvents:Tn=[],textTracksEvents:Ht=[],videoRenditionsEvents:Fn=[],audioTracksEvents:Wn=[],remoteEvents:Ct=[],rootEvents:kt=[],stateOwnersUpdateHandlers:Rt=[]}])=>{p[Oe]||(p[Oe]={});const bt=Et=>{const Lt=Le(c,Et);h({[Oe]:Lt})};let Re;Re=p[Oe].mediaEvents,Tn.forEach(Et=>{Re&&me&&(c.media.removeEventListener(Et,Re),p[Oe].mediaEvents=void 0),mt&&(g.media.addEventListener(Et,bt),p[Oe].mediaEvents=bt)}),Re=p[Oe].textTracksEvents,Ht.forEach(Et=>{var Lt,pe;Re&&he&&((Lt=c.media.textTracks)==null||Lt.removeEventListener(Et,Re),p[Oe].textTracksEvents=void 0),We&&((pe=g.media.textTracks)==null||pe.addEventListener(Et,bt),p[Oe].textTracksEvents=bt)}),Re=p[Oe].videoRenditionsEvents,Fn.forEach(Et=>{var Lt,pe;Re&&Te&&((Lt=c.media.videoRenditions)==null||Lt.removeEventListener(Et,Re),p[Oe].videoRenditionsEvents=void 0),gt&&((pe=g.media.videoRenditions)==null||pe.addEventListener(Et,bt),p[Oe].videoRenditionsEvents=bt)}),Re=p[Oe].audioTracksEvents,Wn.forEach(Et=>{var Lt,pe;Re&&_e&&((Lt=c.media.audioTracks)==null||Lt.removeEventListener(Et,Re),p[Oe].audioTracksEvents=void 0),$t&&((pe=g.media.audioTracks)==null||pe.addEventListener(Et,bt),p[Oe].audioTracksEvents=bt)}),Re=p[Oe].remoteEvents,Ct.forEach(Et=>{var Lt,pe;Re&&Ie&&((Lt=c.media.remote)==null||Lt.removeEventListener(Et,Re),p[Oe].remoteEvents=void 0),Ye&&((pe=g.media.remote)==null||pe.addEventListener(Et,bt),p[Oe].remoteEvents=bt)}),Re=p[Oe].rootEvents,kt.forEach(Et=>{Re&&Pe&&(c.documentElement.removeEventListener(Et,Re),p[Oe].rootEvents=void 0),ht&&(g.documentElement.addEventListener(Et,bt),p[Oe].rootEvents=bt)});const qt=p[Oe].stateOwnersUpdateHandlers;Rt.forEach(Et=>{qt&&et&&qt(),Ft&&(p[Oe].stateOwnersUpdateHandlers=Et(bt,g))})}),Object.entries(g).forEach(([Oe,Le])=>{c[Oe]=Le}),f(),g=void 0};return v({media:t,fullscreenElement:e,documentElement:n,options:s}),{dispatch(y){const{type:E,detail:S}=y;if(i[E]&&u.mediaErrorCode==null){h(i[E](r,c,y));return}E==="mediaelementchangerequest"?v({media:S}):E==="fullscreenelementchangerequest"?v({fullscreenElement:S}):E==="documentelementchangerequest"?v({documentElement:S}):E==="optionschangerequest"&&Object.entries(S??{}).forEach(([w,T])=>{c.options[w]=T})},getState(){return u},subscribe(y){return v({},a.length+1),a.push(y),y(u),()=>{const E=a.indexOf(y);E>=0&&(v({},a.length-1),a.splice(E,1))}}}};var Jse=Zse,h_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_t=(t,e,n)=>(h_(t,e,"read from private field"),n?n.call(t):e.get(t)),Wo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Fa=(t,e,n,r)=>(h_(t,e,"write to private field"),e.set(t,n),n),qa=(t,e,n)=>(h_(t,e,"access private method"),n),Xa,Ef,bn,xf,Gs,K0,z0,cT,Od,Mp,Y0,uT;const x4=["ArrowLeft","ArrowRight","Enter"," ","f","m","k","c"],gD=10,Pt={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYS_USED:"keysused",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_HOTKEYS:"nohotkeys",NO_VOLUME_PREF:"novolumepref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_DEFAULT_STORE:"nodefaultstore",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset"};class S4 extends d4{constructor(){super(),Wo(this,z0),Wo(this,Od),Wo(this,Y0),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,Wo(this,Xa,new Lb(this,Pt.HOTKEYS)),Wo(this,Ef,void 0),Wo(this,bn,void 0),Wo(this,xf,void 0),Wo(this,Gs,void 0),Wo(this,K0,n=>{var r;(r=_t(this,bn))==null||r.dispatch(n)}),this.associateElement(this);let e={};Fa(this,xf,n=>{Object.entries(n).forEach(([r,i])=>{if(r in e&&e[r]===i)return;this.propagateMediaState(r,i);const s=r.toLowerCase(),o=new ne.CustomEvent(rse[s],{composed:!0,detail:i});this.dispatchEvent(o)}),e=n}),this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(Pt.NO_HOTKEYS,Pt.HOTKEYS,Pt.DEFAULT_STREAM_TYPE,Pt.DEFAULT_SUBTITLES,Pt.DEFAULT_DURATION)}get mediaStore(){return _t(this,bn)}set mediaStore(e){var n,r;if(_t(this,bn)&&((n=_t(this,Gs))==null||n.call(this),Fa(this,Gs,void 0)),Fa(this,bn,e),!_t(this,bn)&&!this.hasAttribute(Pt.NO_DEFAULT_STORE)){qa(this,z0,cT).call(this);return}Fa(this,Gs,(r=_t(this,bn))==null?void 0:r.subscribe(_t(this,xf)))}get fullscreenElement(){var e;return(e=_t(this,Ef))!=null?e:this}set fullscreenElement(e){var n;this.hasAttribute(Pt.FULLSCREEN_ELEMENT)&&this.removeAttribute(Pt.FULLSCREEN_ELEMENT),Fa(this,Ef,e),(n=_t(this,bn))==null||n.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}attributeChangedCallback(e,n,r){var i,s,o,a,c,u;if(super.attributeChangedCallback(e,n,r),e===Pt.NO_HOTKEYS)r!==n&&r===""?(this.hasAttribute(Pt.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):r!==n&&r===null&&this.enableHotkeys();else if(e===Pt.HOTKEYS)_t(this,Xa).value=r;else if(e===Pt.DEFAULT_SUBTITLES&&r!==n)(i=_t(this,bn))==null||i.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(Pt.DEFAULT_SUBTITLES)}});else if(e===Pt.DEFAULT_STREAM_TYPE)(o=_t(this,bn))==null||o.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(s=this.getAttribute(Pt.DEFAULT_STREAM_TYPE))!=null?s:void 0}});else if(e===Pt.LIVE_EDGE_OFFSET)(a=_t(this,bn))==null||a.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(Pt.LIVE_EDGE_OFFSET)?+this.getAttribute(Pt.LIVE_EDGE_OFFSET):void 0}});else if(e===Pt.FULLSCREEN_ELEMENT){const h=r?(c=this.getRootNode())==null?void 0:c.getElementById(r):void 0;Fa(this,Ef,h),(u=_t(this,bn))==null||u.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}}connectedCallback(){var e,n;!_t(this,bn)&&!this.hasAttribute(Pt.NO_DEFAULT_STORE)&&qa(this,z0,cT).call(this),(e=_t(this,bn))==null||e.dispatch({type:"documentelementchangerequest",detail:Xe}),super.connectedCallback(),_t(this,bn)&&!_t(this,Gs)&&Fa(this,Gs,(n=_t(this,bn))==null?void 0:n.subscribe(_t(this,xf))),this.enableHotkeys()}disconnectedCallback(){var e,n,r,i;(e=super.disconnectedCallback)==null||e.call(this),_t(this,bn)&&((n=_t(this,bn))==null||n.dispatch({type:"documentelementchangerequest",detail:void 0}),(r=_t(this,bn))==null||r.dispatch({type:je.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})),_t(this,Gs)&&((i=_t(this,Gs))==null||i.call(this),Fa(this,Gs,void 0))}mediaSetCallback(e){var n;super.mediaSetCallback(e),(n=_t(this,bn))==null||n.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var n;super.mediaUnsetCallback(e),(n=_t(this,bn))==null||n.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,n){bD(this.mediaStateReceivers,e,n)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(n.has(e))return;const r=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),s=soe(e,r,i);Object.values(je).forEach(o=>{e.addEventListener(o,_t(this,K0))}),n.set(e,s)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(!n.has(e))return;n.get(e)(),n.delete(e),Object.values(je).forEach(i=>{e.removeEventListener(i,_t(this,K0))})}registerMediaStateReceiver(e){if(!e)return;const n=this.mediaStateReceivers;n.indexOf(e)>-1||(n.push(e),_t(this,bn)&&Object.entries(_t(this,bn).getState()).forEach(([i,s])=>{bD([e],i,s)}))}unregisterMediaStateReceiver(e){const n=this.mediaStateReceivers,r=n.indexOf(e);r<0||n.splice(r,1)}enableHotkeys(){this.addEventListener("keydown",qa(this,Y0,uT))}disableHotkeys(){this.removeEventListener("keydown",qa(this,Y0,uT)),this.removeEventListener("keyup",qa(this,Od,Mp))}get hotkeys(){return _t(this,Xa)}keyboardShortcutHandler(e){var n,r,i,s,o;const a=e.target;if(((i=(r=(n=a.getAttribute(Pt.KEYS_USED))==null?void 0:n.split(" "))!=null?r:a==null?void 0:a.keysUsed)!=null?i:[]).map(p=>p==="Space"?" ":p).filter(Boolean).includes(e.key))return;let u,h,f;if(!_t(this,Xa).contains(`no${e.key.toLowerCase()}`)&&!(e.key===" "&&_t(this,Xa).contains("nospace")))switch(e.key){case" ":case"k":u=_t(this,bn).getState().mediaPaused?je.MEDIA_PLAY_REQUEST:je.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new ne.CustomEvent(u,{composed:!0,bubbles:!0}));break;case"m":u=this.mediaStore.getState().mediaVolumeLevel==="off"?je.MEDIA_UNMUTE_REQUEST:je.MEDIA_MUTE_REQUEST,this.dispatchEvent(new ne.CustomEvent(u,{composed:!0,bubbles:!0}));break;case"f":u=this.mediaStore.getState().mediaIsFullscreen?je.MEDIA_EXIT_FULLSCREEN_REQUEST:je.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new ne.CustomEvent(u,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new ne.CustomEvent(je.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":{const p=this.hasAttribute(Pt.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(Pt.KEYBOARD_BACKWARD_SEEK_OFFSET):gD;h=Math.max(((s=this.mediaStore.getState().mediaCurrentTime)!=null?s:0)-p,0),f=new ne.CustomEvent(je.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:h}),this.dispatchEvent(f);break}case"ArrowRight":{const p=this.hasAttribute(Pt.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(Pt.KEYBOARD_FORWARD_SEEK_OFFSET):gD;h=Math.max(((o=this.mediaStore.getState().mediaCurrentTime)!=null?o:0)+p,0),f=new ne.CustomEvent(je.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:h}),this.dispatchEvent(f);break}}}}Xa=new WeakMap;Ef=new WeakMap;bn=new WeakMap;xf=new WeakMap;Gs=new WeakMap;K0=new WeakMap;z0=new WeakSet;cT=function(){var t;this.mediaStore=Jse({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(Pt.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(Pt.DEFAULT_DURATION)?+this.getAttribute(Pt.DEFAULT_DURATION):void 0,defaultStreamType:(t=this.getAttribute(Pt.DEFAULT_STREAM_TYPE))!=null?t:void 0,liveEdgeOffset:this.hasAttribute(Pt.LIVE_EDGE_OFFSET)?+this.getAttribute(Pt.LIVE_EDGE_OFFSET):void 0,noVolumePref:this.hasAttribute(Pt.NO_VOLUME_PREF),noSubtitlesLangPref:this.hasAttribute(Pt.NO_SUBTITLES_LANG_PREF)}})};Od=new WeakSet;Mp=function(t){const{key:e}=t;if(!x4.includes(e)){this.removeEventListener("keyup",qa(this,Od,Mp));return}this.keyboardShortcutHandler(t)};Y0=new WeakSet;uT=function(t){const{metaKey:e,altKey:n,key:r}=t;if(e||n||!x4.includes(r)){this.removeEventListener("keyup",qa(this,Od,Mp));return}[" ","ArrowLeft","ArrowRight"].includes(r)&&!(_t(this,Xa).contains(`no${r.toLowerCase()}`)||r===" "&&_t(this,Xa).contains("nospace"))&&t.preventDefault(),this.addEventListener("keyup",qa(this,Od,Mp),{once:!0})};const eoe=Object.values(F),toe=Object.values(G5),T4=t=>{var e,n,r,i;let{observedAttributes:s}=t.constructor;!s&&((e=t.nodeName)!=null&&e.includes("-"))&&(ne.customElements.upgrade(t),{observedAttributes:s}=t.constructor);const o=(i=(r=(n=t==null?void 0:t.getAttribute)==null?void 0:n.call(t,nn.MEDIA_CHROME_ATTRIBUTES))==null?void 0:r.split)==null?void 0:i.call(r,/\s+/);return Array.isArray(s||o)?(s||o).filter(a=>eoe.includes(a)):[]},noe=t=>{var e,n;return(e=t.nodeName)!=null&&e.includes("-")&&ne.customElements.get((n=t.nodeName)==null?void 0:n.toLowerCase())&&!(t instanceof ne.customElements.get(t.nodeName.toLowerCase()))&&ne.customElements.upgrade(t),toe.some(r=>r in t)},dT=t=>noe(t)||!!T4(t).length,vD=t=>{var e;return(e=t==null?void 0:t.join)==null?void 0:e.call(t,":")},yD={[F.MEDIA_SUBTITLES_LIST]:Pp,[F.MEDIA_SUBTITLES_SHOWING]:Pp,[F.MEDIA_SEEKABLE]:vD,[F.MEDIA_BUFFERED]:t=>t==null?void 0:t.map(vD).join(" "),[F.MEDIA_PREVIEW_COORDS]:t=>t==null?void 0:t.join(" "),[F.MEDIA_RENDITION_LIST]:ase,[F.MEDIA_AUDIO_TRACK_LIST]:dse},roe=async(t,e,n)=>{var r,i;if(t.isConnected||await q5(0),typeof n=="boolean"||n==null)return ur(t,e,n);if(typeof n=="number")return Qn(t,e,n);if(typeof n=="string")return tr(t,e,n);if(Array.isArray(n)&&!n.length)return t.removeAttribute(e);const s=(i=(r=yD[e])==null?void 0:r.call(yD,n))!=null?i:n;return t.setAttribute(e,s)},ioe=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},Hl=(t,e)=>{if(ioe(t))return;const n=(i,s)=>{var o,a;dT(i)&&s(i);const{children:c=[]}=i??{},u=(a=(o=i==null?void 0:i.shadowRoot)==null?void 0:o.children)!=null?a:[];[...c,...u].forEach(f=>Hl(f,s))},r=t==null?void 0:t.nodeName.toLowerCase();if(r.includes("-")&&!dT(t)){ne.customElements.whenDefined(r).then(()=>{n(t,e)});return}n(t,e)},bD=(t,e,n)=>{t.forEach(r=>{if(e in r){r[e]=n;return}const i=T4(r),s=e.toLowerCase();i.includes(s)&&roe(r,s,n)})},soe=(t,e,n)=>{Hl(t,e);const r=h=>{var f;const p=(f=h==null?void 0:h.composedPath()[0])!=null?f:h.target;e(p)},i=h=>{var f;const p=(f=h==null?void 0:h.composedPath()[0])!=null?f:h.target;n(p)};t.addEventListener(je.REGISTER_MEDIA_STATE_RECEIVER,r),t.addEventListener(je.UNREGISTER_MEDIA_STATE_RECEIVER,i);const s=h=>{h.forEach(f=>{const{addedNodes:p=[],removedNodes:g=[],type:v,target:y,attributeName:E}=f;v==="childList"?(Array.prototype.forEach.call(p,S=>Hl(S,e)),Array.prototype.forEach.call(g,S=>Hl(S,n))):v==="attributes"&&E===nn.MEDIA_CHROME_ATTRIBUTES&&(dT(y)?e(y):n(y))})};let o=[];const a=h=>{const f=h.target;f.name!=="media"&&(o.forEach(p=>Hl(p,n)),o=[...f.assignedElements({flatten:!0})],o.forEach(p=>Hl(p,e)))};t.addEventListener("slotchange",a);const c=new MutationObserver(s);return c.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{Hl(t,n),t.removeEventListener("slotchange",a),c.disconnect(),t.removeEventListener(je.REGISTER_MEDIA_STATE_RECEIVER,r),t.removeEventListener(je.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};ne.customElements.get("media-controller")||ne.customElements.define("media-controller",S4);var ooe=S4,f_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Kn=(t,e,n)=>(f_(t,e,"read from private field"),n?n.call(t):e.get(t)),Au=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},i0=(t,e,n,r)=>(f_(t,e,"write to private field"),e.set(t,n),n),aoe=(t,e,n)=>(f_(t,e,"access private method"),n),Ks,nd,Qa,Mu,q0,hT,A4;const s0={TOOLTIP_PLACEMENT:"tooltipplacement"},w4=Xe.createElement("template");w4.innerHTML=`
<style>
  :host {
    position: relative;
    font: var(--media-font,
      var(--media-font-weight, bold)
      var(--media-font-size, 14px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
    padding: var(--media-button-padding, var(--media-control-padding, 10px));
    justify-content: var(--media-button-justify-content, center);
    display: inline-flex;
    align-items: center;
    vertical-align: middle;
    box-sizing: border-box;
    transition: background .15s linear;
    pointer-events: auto;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }

  
  :host(:focus-visible) {
    box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
    outline: 0;
  }
  
  :host(:where(:focus)) {
    box-shadow: none;
    outline: 0;
  }

  :host(:hover) {
    background: var(--media-control-hover-background, rgba(50 50 70 / .7));
  }

  svg, img, ::slotted(svg), ::slotted(img) {
    width: var(--media-button-icon-width);
    height: var(--media-button-icon-height, var(--media-control-height, 24px));
    transform: var(--media-button-icon-transform);
    transition: var(--media-button-icon-transition);
    fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
    vertical-align: middle;
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
  }

  media-tooltip {
    
    max-width: 0;
    overflow-x: clip;
    opacity: 0;
    transition: opacity .3s, max-width 0s 9s;
  }

  :host(:hover) media-tooltip,
  :host(:focus-visible) media-tooltip {
    max-width: 100vw;
    opacity: 1;
    transition: opacity .3s;
  }

  :host([notooltip]) slot[name="tooltip"] {
    display: none;
  }
</style>

<slot name="tooltip">
  <media-tooltip part="tooltip" aria-hidden="true">
    <slot name="tooltip-content"></slot>
  </media-tooltip>
</slot>
`;class Di extends ne.HTMLElement{constructor(e={}){var n;if(super(),Au(this,hT),Au(this,Ks,void 0),this.preventClick=!1,this.tooltipEl=null,this.tooltipContent="",Au(this,nd,r=>{this.preventClick||this.handleClick(r),setTimeout(Kn(this,Qa),0)}),Au(this,Qa,()=>{var r,i;(i=(r=this.tooltipEl)==null?void 0:r.updateXOffset)==null||i.call(r)}),Au(this,Mu,r=>{const{key:i}=r;if(!this.keysUsed.includes(i)){this.removeEventListener("keyup",Kn(this,Mu));return}this.preventClick||this.handleClick(r)}),Au(this,q0,r=>{const{metaKey:i,altKey:s,key:o}=r;if(i||s||!this.keysUsed.includes(o)){this.removeEventListener("keyup",Kn(this,Mu));return}this.addEventListener("keyup",Kn(this,Mu),{once:!0})}),!this.shadowRoot){this.attachShadow({mode:"open"});const r=w4.content.cloneNode(!0);this.nativeEl=r;let i=e.slotTemplate;i||(i=Xe.createElement("template"),i.innerHTML=`<slot>${e.defaultContent||""}</slot>`),e.tooltipContent&&(r.querySelector('slot[name="tooltip-content"]').innerHTML=(n=e.tooltipContent)!=null?n:"",this.tooltipContent=e.tooltipContent),this.nativeEl.appendChild(i.content.cloneNode(!0)),this.shadowRoot.appendChild(r)}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",s0.TOOLTIP_PLACEMENT,nn.MEDIA_CONTROLLER]}enable(){this.addEventListener("click",Kn(this,nd)),this.addEventListener("keydown",Kn(this,q0)),this.tabIndex=0}disable(){this.removeEventListener("click",Kn(this,nd)),this.removeEventListener("keydown",Kn(this,q0)),this.removeEventListener("keyup",Kn(this,Mu)),this.tabIndex=-1}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===nn.MEDIA_CONTROLLER?(n&&((s=(i=Kn(this,Ks))==null?void 0:i.unassociateElement)==null||s.call(i,this),i0(this,Ks,null)),r&&this.isConnected&&(i0(this,Ks,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=Kn(this,Ks))==null?void 0:a.associateElement)==null||c.call(a,this))):e==="disabled"&&r!==n?r==null?this.enable():this.disable():e===s0.TOOLTIP_PLACEMENT&&this.tooltipEl&&r!==n&&(this.tooltipEl.placement=r),Kn(this,Qa).call(this)}connectedCallback(){var e,n,r;const{style:i}=or(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","button");const s=this.getAttribute(nn.MEDIA_CONTROLLER);s&&(i0(this,Ks,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(n=Kn(this,Ks))==null?void 0:n.associateElement)==null||r.call(n,this)),ne.customElements.whenDefined("media-tooltip").then(()=>aoe(this,hT,A4).call(this))}disconnectedCallback(){var e,n;this.disable(),(n=(e=Kn(this,Ks))==null?void 0:e.unassociateElement)==null||n.call(e,this),i0(this,Ks,null),this.removeEventListener("mouseenter",Kn(this,Qa)),this.removeEventListener("focus",Kn(this,Qa)),this.removeEventListener("click",Kn(this,nd))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return er(this,s0.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){tr(this,s0.TOOLTIP_PLACEMENT,e)}handleClick(e){}}Ks=new WeakMap;nd=new WeakMap;Qa=new WeakMap;Mu=new WeakMap;q0=new WeakMap;hT=new WeakSet;A4=function(){this.addEventListener("mouseenter",Kn(this,Qa)),this.addEventListener("focus",Kn(this,Qa)),this.addEventListener("click",Kn(this,nd));const t=this.tooltipPlacement;t&&this.tooltipEl&&(this.tooltipEl.placement=t)};ne.customElements.get("media-chrome-button")||ne.customElements.define("media-chrome-button",Di);const ED=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`,_4=Xe.createElement("template");_4.innerHTML=`
  <style>
    :host([${F.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
      display: none !important;
    }

    
    :host(:not([${F.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
      display: none !important;
    }

    :host([${F.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
    :host(:not([${F.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${ED}</slot>
    <slot name="exit">${ED}</slot>
  </slot>
`;const loe=`
  <slot name="tooltip-enter">${$n.ENTER_AIRPLAY}</slot>
  <slot name="tooltip-exit">${$n.EXIT_AIRPLAY}</slot>
`,xD=t=>{const e=t.mediaIsAirplaying?Gr.EXIT_AIRPLAY():Gr.ENTER_AIRPLAY();t.setAttribute("aria-label",e)};class coe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_IS_AIRPLAYING,F.MEDIA_AIRPLAY_UNAVAILABLE]}constructor(e={}){super({slotTemplate:_4,tooltipContent:loe,...e})}connectedCallback(){super.connectedCallback(),xD(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_IS_AIRPLAYING&&xD(this)}get mediaIsAirplaying(){return cr(this,F.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){ur(this,F.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return er(this,F.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){tr(this,F.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new ne.CustomEvent(je.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}ne.customElements.get("media-airplay-button")||ne.customElements.define("media-airplay-button",coe);const uoe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,doe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`,C4=Xe.createElement("template");C4.innerHTML=`
  <style>
    :host([aria-checked="true"]) slot[name=off] {
      display: none !important;
    }

    
    :host(:not([aria-checked="true"])) slot[name=on] {
      display: none !important;
    }

    :host([aria-checked="true"]) slot[name=tooltip-enable],
    :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="on">${uoe}</slot>
    <slot name="off">${doe}</slot>
  </slot>
`;const hoe=`
  <slot name="tooltip-enable">${$n.ENABLE_CAPTIONS}</slot>
  <slot name="tooltip-disable">${$n.DISABLE_CAPTIONS}</slot>
`,SD=t=>{t.setAttribute("aria-checked",g4(t).toString())};class foe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_SUBTITLES_LIST,F.MEDIA_SUBTITLES_SHOWING]}constructor(e={}){super({slotTemplate:C4,tooltipContent:hoe,...e}),this._captionsReady=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Ri.CLOSED_CAPTIONS()),SD(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_SUBTITLES_SHOWING&&SD(this)}get mediaSubtitlesList(){return TD(this,F.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){AD(this,F.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return TD(this,F.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){AD(this,F.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new ne.CustomEvent(je.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}const TD=(t,e)=>{const n=t.getAttribute(e);return n?Db(n):[]},AD=(t,e,n)=>{if(!(n!=null&&n.length)){t.removeAttribute(e);return}const r=Pp(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ne.customElements.get("media-captions-button")||ne.customElements.define("media-captions-button",foe);const poe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',moe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>',k4=Xe.createElement("template");k4.innerHTML=`
  <style>
  :host([${F.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
    display: none !important;
  }

  
  :host(:not([${F.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
    display: none !important;
  }

  :host([${F.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
    :host(:not([${F.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${poe}</slot>
    <slot name="exit">${moe}</slot>
  </slot>
`;const goe=`
  <slot name="tooltip-enter">${$n.START_CAST}</slot>
  <slot name="tooltip-exit">${$n.STOP_CAST}</slot>
`,wD=t=>{const e=t.mediaIsCasting?Gr.EXIT_CAST():Gr.ENTER_CAST();t.setAttribute("aria-label",e)};class voe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_IS_CASTING,F.MEDIA_CAST_UNAVAILABLE]}constructor(e={}){super({slotTemplate:k4,tooltipContent:goe,...e})}connectedCallback(){super.connectedCallback(),wD(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_IS_CASTING&&wD(this)}get mediaIsCasting(){return cr(this,F.MEDIA_IS_CASTING)}set mediaIsCasting(e){ur(this,F.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return er(this,F.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){tr(this,F.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?je.MEDIA_EXIT_CAST_REQUEST:je.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new ne.CustomEvent(e,{composed:!0,bubbles:!0}))}}ne.customElements.get("media-cast-button")||ne.customElements.define("media-cast-button",voe);var p_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Rc=(t,e,n)=>(p_(t,e,"read from private field"),e.get(t)),Ho=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},m_=(t,e,n,r)=>(p_(t,e,"write to private field"),e.set(t,n),n),Ml=(t,e,n)=>(p_(t,e,"access private method"),n),Ly,Op,Uc,X0,fT,pT,R4,mT,I4,gT,L4,vT,D4,yT,P4;function yoe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        transition: display .15s, opacity .15s ease-in, transform .15s ease-in;
        transition-behavior: allow-discrete;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, opacity .2s ease-out, transform .15s ease-out;
        transition-behavior: allow-discrete;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(t)}
  `}function boe(t){return`
    <slot id="content"></slot>
  `}const tf={OPEN:"open",ANCHOR:"anchor"};class Mb extends ne.HTMLElement{constructor(){super(),Ho(this,X0),Ho(this,pT),Ho(this,mT),Ho(this,gT),Ho(this,vT),Ho(this,yT),Ho(this,Ly,!1),Ho(this,Op,null),Ho(this,Uc,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[tf.OPEN,tf.ANCHOR]}get open(){return cr(this,tf.OPEN)}set open(e){ur(this,tf.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":Ml(this,gT,L4).call(this,e);break;case"focusout":Ml(this,vT,D4).call(this,e);break;case"keydown":Ml(this,yT,P4).call(this,e);break}}connectedCallback(){Ml(this,X0,fT).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,n,r){Ml(this,X0,fT).call(this),e===tf.OPEN&&r!==n&&(this.open?Ml(this,pT,R4).call(this):Ml(this,mT,I4).call(this))}focus(){m_(this,Op,a_());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),n=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||n)return;const r=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');r==null||r.focus()}get keysUsed(){return["Escape","Tab"]}}Ly=new WeakMap;Op=new WeakMap;Uc=new WeakMap;X0=new WeakSet;fT=function(){if(!Rc(this,Ly)&&(m_(this,Ly,!0),!this.shadowRoot)){this.attachShadow({mode:"open"});const t=yse(this.attributes);this.shadowRoot.innerHTML=`
        ${this.constructor.getTemplateHTML(t)}
      `}};pT=new WeakSet;R4=function(){var t;(t=Rc(this,Uc))==null||t.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};mT=new WeakSet;I4=function(){var t;(t=Rc(this,Uc))==null||t.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};gT=new WeakSet;L4=function(t){m_(this,Uc,t.relatedTarget),da(this,t.relatedTarget)||(this.open=!this.open)};vT=new WeakSet;D4=function(t){var e;da(this,t.relatedTarget)||((e=Rc(this,Op))==null||e.focus(),Rc(this,Uc)&&Rc(this,Uc)!==t.relatedTarget&&this.open&&(this.open=!1))};yT=new WeakSet;P4=function(t){var e,n,r,i,s;const{key:o,ctrlKey:a,altKey:c,metaKey:u}=t;a||c||u||this.keysUsed.includes(o)&&(t.preventDefault(),t.stopPropagation(),o==="Tab"?(t.shiftKey?(n=(e=this.previousElementSibling)==null?void 0:e.focus)==null||n.call(e):(i=(r=this.nextElementSibling)==null?void 0:r.focus)==null||i.call(r),this.blur()):o==="Escape"&&((s=Rc(this,Op))==null||s.focus(),this.open=!1))};Mb.getTemplateHTML=yoe;Mb.getSlotTemplateHTML=boe;ne.customElements.get("media-chrome-dialog")||ne.customElements.define("media-chrome-dialog",Mb);var g_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_n=(t,e,n)=>(g_(t,e,"read from private field"),n?n.call(t):e.get(t)),_r=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ja=(t,e,n,r)=>(g_(t,e,"write to private field"),e.set(t,n),n),ys=(t,e,n)=>(g_(t,e,"access private method"),n),zs,Ob,Q0,Z0,Ss,Dy,J0,ev,tv,v_,M4,nv,bT,rv,ET,Py,y_,xT,O4,ST,N4,TT,$4,AT,F4;const B4=Xe.createElement("template");B4.innerHTML=`
  <style>
    :host {
      --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
      --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

      box-shadow: var(--_focus-visible-box-shadow, none);
      background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
      display: inline-flex;
      align-items: center;
      
      vertical-align: middle;
      box-sizing: border-box;
      position: relative;
      width: 100px;
      transition: background .15s linear;
      cursor: pointer;
      pointer-events: auto;
      touch-action: none; 
    }

    
    input[type=range]:focus {
      outline: 0;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      outline: 0;
    }

    :host(:hover) {
      background: var(--media-control-hover-background, rgb(50 50 70 / .7));
    }

    #leftgap {
      padding-left: var(--media-range-padding-left, var(--_media-range-padding));
    }

    #rightgap {
      padding-right: var(--media-range-padding-right, var(--_media-range-padding));
    }

    #startpoint,
    #endpoint {
      position: absolute;
    }

    #endpoint {
      right: 0;
    }

    #container {
      
      width: var(--media-range-track-width, 100%);
      transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      min-width: 40px;
    }

    #range {
      
      display: var(--media-time-range-hover-display, block);
      bottom: var(--media-time-range-hover-bottom, -7px);
      height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
      width: 100%;
      position: absolute;
      cursor: pointer;

      -webkit-appearance: none; 
      -webkit-tap-highlight-color: transparent;
      background: transparent; 
      margin: 0;
      z-index: 1;
    }

    @media (hover: hover) {
      #range {
        bottom: var(--media-time-range-hover-bottom, -5px);
        height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
      }
    }

    
    
    #range::-webkit-slider-thumb {
      -webkit-appearance: none;
      background: transparent;
      width: .1px;
      height: .1px;
    }

    
    #range::-moz-range-thumb {
      background: transparent;
      border: transparent;
      width: .1px;
      height: .1px;
    }

    #appearance {
      height: var(--media-range-track-height, 4px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      position: absolute;
      
      will-change: transform;
    }

    #track {
      background: var(--media-range-track-background, rgb(255 255 255 / .2));
      border-radius: var(--media-range-track-border-radius, 1px);
      border: var(--media-range-track-border, none);
      outline: var(--media-range-track-outline);
      outline-offset: var(--media-range-track-outline-offset);
      backdrop-filter: var(--media-range-track-backdrop-filter);
      -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
      box-shadow: var(--media-range-track-box-shadow, none);
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    #progress,
    #pointer {
      position: absolute;
      height: 100%;
      will-change: width;
    }

    #progress {
      background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
      transition: var(--media-range-track-transition);
    }

    #pointer {
      background: var(--media-range-track-pointer-background);
      border-right: var(--media-range-track-pointer-border-right);
      transition: visibility .25s, opacity .25s;
      visibility: hidden;
      opacity: 0;
    }

    @media (hover: hover) {
      :host(:hover) #pointer {
        transition: visibility .5s, opacity .5s;
        visibility: visible;
        opacity: 1;
      }
    }

    #thumb {
      width: var(--media-range-thumb-width, 10px);
      height: var(--media-range-thumb-height, 10px);
      margin-left: calc(var(--media-range-thumb-width, 10px) / -2);
      border: var(--media-range-thumb-border, none);
      border-radius: var(--media-range-thumb-border-radius, 10px);
      background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
      box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
      transition: var(--media-range-thumb-transition);
      transform: var(--media-range-thumb-transform, none);
      opacity: var(--media-range-thumb-opacity, 1);
      position: absolute;
      left: 0;
      cursor: pointer;
    }

    :host([disabled]) #thumb {
      background-color: #777;
    }

    .segments #appearance {
      height: var(--media-range-segment-hover-height, 7px);
    }

    #track {
      clip-path: url(#segments-clipping);
    }

    #segments {
      --segments-gap: var(--media-range-segments-gap, 2px);
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #segments-clipping {
      transform: translateX(calc(var(--segments-gap) / 2));
    }

    #segments-clipping:empty {
      display: none;
    }

    #segments-clipping rect {
      height: var(--media-range-track-height, 4px);
      y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
      transition: var(--media-range-segment-transition, transform .1s ease-in-out);
      transform: var(--media-range-segment-transform, scaleY(1));
      transform-origin: center;
    }
  </style>
  <div id="leftgap"></div>
  <div id="container">
    <div id="startpoint"></div>
    <div id="endpoint"></div>
    <div id="appearance">
      <div id="track" part="track">
        <div id="pointer"></div>
        <div id="progress" part="progress"></div>
      </div>
      <div id="thumb" part="thumb"></div>
      <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
    </div>
    <input id="range" type="range" min="0" max="1" step="any" value="0">
  </div>
  <div id="rightgap"></div>
`;class b_ extends ne.HTMLElement{constructor(){super(),_r(this,v_),_r(this,nv),_r(this,rv),_r(this,Py),_r(this,xT),_r(this,ST),_r(this,TT),_r(this,AT),_r(this,zs,void 0),_r(this,Ob,void 0),_r(this,Q0,void 0),_r(this,Z0,void 0),_r(this,Ss,{}),_r(this,Dy,[]),_r(this,J0,()=>{if(this.range.matches(":focus-visible")){const{style:e}=or(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),_r(this,ev,()=>{const{style:e}=or(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),_r(this,tv,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(B4.content.cloneNode(!0))),this.container=this.shadowRoot.querySelector("#container"),ja(this,Q0,this.shadowRoot.querySelector("#startpoint")),ja(this,Z0,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",nn.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===nn.MEDIA_CONTROLLER?(n&&((s=(i=_n(this,zs))==null?void 0:i.unassociateElement)==null||s.call(i,this),ja(this,zs,null)),r&&this.isConnected&&(ja(this,zs,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=_n(this,zs))==null?void 0:a.associateElement)==null||c.call(a,this))):(e==="disabled"||e==="aria-disabled"&&n!==r)&&(r==null?(this.range.removeAttribute(e),ys(this,nv,bT).call(this)):(this.range.setAttribute(e,r),ys(this,rv,ET).call(this)))}connectedCallback(){var e,n,r;const{style:i}=or(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),_n(this,Ss).pointer=or(this.shadowRoot,"#pointer"),_n(this,Ss).progress=or(this.shadowRoot,"#progress"),_n(this,Ss).thumb=or(this.shadowRoot,"#thumb"),_n(this,Ss).activeSegment=or(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const s=this.getAttribute(nn.MEDIA_CONTROLLER);s&&(ja(this,zs,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(n=_n(this,zs))==null?void 0:n.associateElement)==null||r.call(n,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",_n(this,J0)),this.shadowRoot.addEventListener("focusout",_n(this,ev)),ys(this,nv,bT).call(this),Pd(this.container,_n(this,tv))}disconnectedCallback(){var e,n;ys(this,rv,ET).call(this),(n=(e=_n(this,zs))==null?void 0:e.unassociateElement)==null||n.call(e,this),ja(this,zs,null),this.shadowRoot.removeEventListener("focusin",_n(this,J0)),this.shadowRoot.removeEventListener("focusout",_n(this,ev)),Rp(this.container,_n(this,tv))}updatePointerBar(e){var n;(n=_n(this,Ss).pointer)==null||n.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,n;const r=this.range.valueAsNumber*100;(e=_n(this,Ss).progress)==null||e.style.setProperty("width",`${r}%`),(n=_n(this,Ss).thumb)==null||n.style.setProperty("left",`${r}%`)}updateSegments(e){const n=this.shadowRoot.querySelector("#segments-clipping");if(n.textContent="",this.container.classList.toggle("segments",!!(e!=null&&e.length)),!(e!=null&&e.length))return;const r=[...new Set([+this.range.min,...e.flatMap(s=>[s.start,s.end]),+this.range.max])];ja(this,Dy,[...r]);const i=r.pop();for(const[s,o]of r.entries()){const[a,c]=[s===0,s===r.length-1],u=a?"calc(var(--segments-gap) / -1)":`${o*100}%`,f=`calc(${((c?i:r[s+1])-o)*100}%${a||c?"":" - var(--segments-gap)"})`,p=Xe.createElementNS("http://www.w3.org/2000/svg","rect"),g=or(this.shadowRoot,`#segments-clipping rect:nth-child(${s+1})`);g.style.setProperty("x",u),g.style.setProperty("width",f),n.append(p)}}getPointerRatio(e){const n=Ese(e.clientX,e.clientY,_n(this,Q0).getBoundingClientRect(),_n(this,Z0).getBoundingClientRect());return Math.max(0,Math.min(1,n))}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":ys(this,AT,F4).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":ys(this,xT,O4).call(this,e);break;case"pointerdown":ys(this,Py,y_).call(this,e);break;case"pointerup":ys(this,ST,N4).call(this);break;case"pointerleave":ys(this,TT,$4).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}zs=new WeakMap;Ob=new WeakMap;Q0=new WeakMap;Z0=new WeakMap;Ss=new WeakMap;Dy=new WeakMap;J0=new WeakMap;ev=new WeakMap;tv=new WeakMap;v_=new WeakSet;M4=function(t){const e=_n(this,Ss).activeSegment;if(!e)return;const n=this.getPointerRatio(t),i=`#segments-clipping rect:nth-child(${_n(this,Dy).findIndex((s,o,a)=>{const c=a[o+1];return c!=null&&n>=s&&n<=c})+1})`;(e.selectorText!=i||!e.style.transform)&&(e.selectorText=i,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};nv=new WeakSet;bT=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};rv=new WeakSet;ET=function(){var t,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(t=ne.window)==null||t.removeEventListener("pointerup",this),(e=ne.window)==null||e.removeEventListener("pointermove",this)};Py=new WeakSet;y_=function(t){var e;ja(this,Ob,t.composedPath().includes(this.range)),(e=ne.window)==null||e.addEventListener("pointerup",this)};xT=new WeakSet;O4=function(t){var e;t.pointerType!=="mouse"&&ys(this,Py,y_).call(this,t),this.addEventListener("pointerleave",this),(e=ne.window)==null||e.addEventListener("pointermove",this)};ST=new WeakSet;N4=function(){var t;(t=ne.window)==null||t.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};TT=new WeakSet;$4=function(){var t,e;this.removeEventListener("pointerleave",this),(t=ne.window)==null||t.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=_n(this,Ss).activeSegment)==null||e.style.removeProperty("transform")};AT=new WeakSet;F4=function(t){this.toggleAttribute("dragging",t.buttons===1||t.pointerType!=="mouse"),this.updatePointerBar(t),ys(this,v_,M4).call(this,t),this.dragging&&(t.pointerType!=="mouse"||!_n(this,Ob))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(t),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})))};ne.customElements.get("media-chrome-range")||ne.customElements.define("media-chrome-range",b_);var U4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},o0=(t,e,n)=>(U4(t,e,"read from private field"),n?n.call(t):e.get(t)),Eoe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},a0=(t,e,n,r)=>(U4(t,e,"write to private field"),e.set(t,n),n),Ys;const j4=Xe.createElement("template");j4.innerHTML=`
  <style>
    :host {
      
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      --media-loading-indicator-icon-height: 44px;
    }

    ::slotted(media-time-range),
    ::slotted(media-volume-range) {
      min-height: 100%;
    }

    ::slotted(media-time-range),
    ::slotted(media-clip-selector) {
      flex-grow: 1;
    }

    ::slotted([role="menu"]) {
      position: absolute;
    }
  </style>

  <slot></slot>
`;class xoe extends ne.HTMLElement{constructor(){super(),Eoe(this,Ys,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(j4.content.cloneNode(!0)))}static get observedAttributes(){return[nn.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===nn.MEDIA_CONTROLLER&&(n&&((s=(i=o0(this,Ys))==null?void 0:i.unassociateElement)==null||s.call(i,this),a0(this,Ys,null)),r&&this.isConnected&&(a0(this,Ys,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=o0(this,Ys))==null?void 0:a.associateElement)==null||c.call(a,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(nn.MEDIA_CONTROLLER);i&&(a0(this,Ys,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=o0(this,Ys))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=o0(this,Ys))==null?void 0:e.unassociateElement)==null||n.call(e,this),a0(this,Ys,null)}}Ys=new WeakMap;ne.customElements.get("media-control-bar")||ne.customElements.define("media-control-bar",xoe);var V4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},l0=(t,e,n)=>(V4(t,e,"read from private field"),n?n.call(t):e.get(t)),Soe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},c0=(t,e,n,r)=>(V4(t,e,"write to private field"),e.set(t,n),n),qs;const W4=Xe.createElement("template");W4.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
      padding: var(--media-control-padding, 10px);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      vertical-align: middle;
      box-sizing: border-box;
      text-align: center;
      pointer-events: auto;
    }

    
    :host(:focus-visible) {
      box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
      outline: 0;
    }

    
    :host(:where(:focus)) {
      box-shadow: none;
      outline: 0;
    }
  </style>
  <slot></slot>
`;class hm extends ne.HTMLElement{constructor(){super(),Soe(this,qs,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(W4.content.cloneNode(!0)))}static get observedAttributes(){return[nn.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===nn.MEDIA_CONTROLLER&&(n&&((s=(i=l0(this,qs))==null?void 0:i.unassociateElement)==null||s.call(i,this),c0(this,qs,null)),r&&this.isConnected&&(c0(this,qs,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=l0(this,qs))==null?void 0:a.associateElement)==null||c.call(a,this)))}connectedCallback(){var e,n,r;const{style:i}=or(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const s=this.getAttribute(nn.MEDIA_CONTROLLER);s&&(c0(this,qs,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(r=(n=l0(this,qs))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=l0(this,qs))==null?void 0:e.unassociateElement)==null||n.call(e,this),c0(this,qs,null)}}qs=new WeakMap;ne.customElements.get("media-text-display")||ne.customElements.define("media-text-display",hm);var H4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_D=(t,e,n)=>(H4(t,e,"read from private field"),n?n.call(t):e.get(t)),Toe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Aoe=(t,e,n,r)=>(H4(t,e,"write to private field"),e.set(t,n),n),Sf;class woe extends hm{constructor(){super(),Toe(this,Sf,void 0),Aoe(this,Sf,this.shadowRoot.querySelector("slot")),_D(this,Sf).textContent=kc(0)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_DURATION]}attributeChangedCallback(e,n,r){e===F.MEDIA_DURATION&&(_D(this,Sf).textContent=kc(+r)),super.attributeChangedCallback(e,n,r)}get mediaDuration(){return Sn(this,F.MEDIA_DURATION)}set mediaDuration(e){Qn(this,F.MEDIA_DURATION,e)}}Sf=new WeakMap;ne.customElements.get("media-duration-display")||ne.customElements.define("media-duration-display",woe);var G4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_oe=(t,e,n)=>(G4(t,e,"read from private field"),n?n.call(t):e.get(t)),Coe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},koe=(t,e,n,r)=>(G4(t,e,"write to private field"),e.set(t,n),n),iv;function Roe(t){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${t.mediaerrorcode}" id="content">
      ${K4({code:+t.mediaerrorcode,message:t.mediaerrormessage})}
    </slot>
  `}function Ioe(t){return t.code&&z5(t)!==null}function K4(t){var e;const{title:n,message:r}=(e=z5(t))!=null?e:{};let i="";return n&&(i+=`<slot name="error-${t.code}-title"><h3>${n}</h3></slot>`),r&&(i+=`<slot name="error-${t.code}-message"><p>${r}</p></slot>`),i}const CD=[F.MEDIA_ERROR_CODE,F.MEDIA_ERROR_MESSAGE];class Nb extends Mb{constructor(){super(...arguments),Coe(this,iv,null)}static get observedAttributes(){return[...super.observedAttributes,...CD]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,n,r){var i;if(super.attributeChangedCallback(e,n,r),!CD.includes(e))return;const s=(i=this.mediaError)!=null?i:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=Ioe(s),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(s))}get mediaError(){return _oe(this,iv)}set mediaError(e){koe(this,iv,e)}get mediaErrorCode(){return Sn(this,"mediaerrorcode")}set mediaErrorCode(e){Qn(this,"mediaerrorcode",e)}get mediaErrorMessage(){return er(this,"mediaerrormessage")}set mediaErrorMessage(e){tr(this,"mediaerrormessage",e)}}iv=new WeakMap;Nb.getSlotTemplateHTML=Roe;Nb.formatErrorMessage=K4;ne.customElements.get("media-error-dialog")||ne.customElements.define("media-error-dialog",Nb);var z4=Nb;const Loe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,Doe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`,Y4=Xe.createElement("template");Y4.innerHTML=`
  <style>
    :host([${F.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
      display: none !important;
    }

    
    :host(:not([${F.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
      display: none !important;
    }

    :host([${F.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
    :host(:not([${F.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="enter">${Loe}</slot>
    <slot name="exit">${Doe}</slot>
  </slot>
`;const Poe=`
  <slot name="tooltip-enter">${$n.ENTER_FULLSCREEN}</slot>
  <slot name="tooltip-exit">${$n.EXIT_FULLSCREEN}</slot>
`,kD=t=>{const e=t.mediaIsFullscreen?Gr.EXIT_FULLSCREEN():Gr.ENTER_FULLSCREEN();t.setAttribute("aria-label",e)};class Moe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_IS_FULLSCREEN,F.MEDIA_FULLSCREEN_UNAVAILABLE]}constructor(e={}){super({slotTemplate:Y4,tooltipContent:Poe,...e})}connectedCallback(){super.connectedCallback(),kD(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_IS_FULLSCREEN&&kD(this)}get mediaFullscreenUnavailable(){return er(this,F.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){tr(this,F.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return cr(this,F.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){ur(this,F.MEDIA_IS_FULLSCREEN,e)}handleClick(){const e=this.mediaIsFullscreen?je.MEDIA_EXIT_FULLSCREEN_REQUEST:je.MEDIA_ENTER_FULLSCREEN_REQUEST;this.dispatchEvent(new ne.CustomEvent(e,{composed:!0,bubbles:!0}))}}ne.customElements.get("media-fullscreen-button")||ne.customElements.define("media-fullscreen-button",Moe);const{MEDIA_TIME_IS_LIVE:sv,MEDIA_PAUSED:np}=F,{MEDIA_SEEK_TO_LIVE_REQUEST:Ooe,MEDIA_PLAY_REQUEST:Noe}=je,$oe='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>',q4=Xe.createElement("template");q4.innerHTML=`
  <style>
  :host { --media-tooltip-display: none; }
  
  slot[name=indicator] > *,
  :host ::slotted([slot=indicator]) {
    
    min-width: auto;
    fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
    color: var(--media-live-button-icon-color, rgb(140, 140, 140));
  }

  :host([${sv}]:not([${np}])) slot[name=indicator] > *,
  :host([${sv}]:not([${np}])) ::slotted([slot=indicator]) {
    fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
    color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
  }

  :host([${sv}]:not([${np}])) {
    cursor: not-allowed;
  }

  </style>

  <slot name="indicator">${$oe}</slot>
  
  <slot name="spacer">&nbsp;</slot><slot name="text">LIVE</slot>
`;const RD=t=>{const e=t.mediaPaused||!t.mediaTimeIsLive,n=e?Gr.SEEK_LIVE():Gr.PLAYING_LIVE();t.setAttribute("aria-label",n),e?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class Foe extends Di{static get observedAttributes(){return[...super.observedAttributes,np,sv]}constructor(e={}){super({slotTemplate:q4,...e})}connectedCallback(){RD(this),super.connectedCallback()}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),RD(this)}get mediaPaused(){return cr(this,F.MEDIA_PAUSED)}set mediaPaused(e){ur(this,F.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return cr(this,F.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){ur(this,F.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new ne.CustomEvent(Ooe,{composed:!0,bubbles:!0})),this.hasAttribute(np)&&this.dispatchEvent(new ne.CustomEvent(Noe,{composed:!0,bubbles:!0})))}}ne.customElements.get("media-live-button")||ne.customElements.define("media-live-button",Foe);var X4=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},nf=(t,e,n)=>(X4(t,e,"read from private field"),n?n.call(t):e.get(t)),ID=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},rf=(t,e,n,r)=>(X4(t,e,"write to private field"),e.set(t,n),n),Xs,ov;const LD={LOADING_DELAY:"loadingdelay"},Q4=500,Z4=Xe.createElement("template"),Boe=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;Z4.innerHTML=`
<style>
:host {
  display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
  vertical-align: middle;
  box-sizing: border-box;
  --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Q4}ms);
}

#status {
  color: rgba(0,0,0,0);
  width: 0px;
  height: 0px;
}

:host slot[name=icon] > *,
:host ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 0);
  transition: opacity 0.15s;
}

:host([${F.MEDIA_LOADING}]:not([${F.MEDIA_PAUSED}])) slot[name=icon] > *,
:host([${F.MEDIA_LOADING}]:not([${F.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 1);
  transition: opacity 0.15s var(--_loading-indicator-delay);
}

:host #status {
  visibility: var(--media-loading-indicator-opacity, hidden);
  transition: visibility 0.15s;
}

:host([${F.MEDIA_LOADING}]:not([${F.MEDIA_PAUSED}])) #status {
  visibility: var(--media-loading-indicator-opacity, visible);
  transition: visibility 0.15s var(--_loading-indicator-delay);
}

svg, img, ::slotted(svg), ::slotted(img) {
  width: var(--media-loading-indicator-icon-width);
  height: var(--media-loading-indicator-icon-height, 100px);
  fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
  vertical-align: middle;
}
</style>

<slot name="icon">${Boe}</slot>
<div id="status" role="status" aria-live="polite">${Ri.MEDIA_LOADING()}</div>
`;class Uoe extends ne.HTMLElement{constructor(){if(super(),ID(this,Xs,void 0),ID(this,ov,Q4),!this.shadowRoot){const e=this.attachShadow({mode:"open"}),n=Z4.content.cloneNode(!0);e.appendChild(n)}}static get observedAttributes(){return[nn.MEDIA_CONTROLLER,F.MEDIA_PAUSED,F.MEDIA_LOADING,LD.LOADING_DELAY]}attributeChangedCallback(e,n,r){var i,s,o,a,c;e===LD.LOADING_DELAY&&n!==r?this.loadingDelay=Number(r):e===nn.MEDIA_CONTROLLER&&(n&&((s=(i=nf(this,Xs))==null?void 0:i.unassociateElement)==null||s.call(i,this),rf(this,Xs,null)),r&&this.isConnected&&(rf(this,Xs,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=nf(this,Xs))==null?void 0:a.associateElement)==null||c.call(a,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(nn.MEDIA_CONTROLLER);i&&(rf(this,Xs,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=nf(this,Xs))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=nf(this,Xs))==null?void 0:e.unassociateElement)==null||n.call(e,this),rf(this,Xs,null)}get loadingDelay(){return nf(this,ov)}set loadingDelay(e){rf(this,ov,e);const{style:n}=or(this.shadowRoot,":host");n.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return cr(this,F.MEDIA_PAUSED)}set mediaPaused(e){ur(this,F.MEDIA_PAUSED,e)}get mediaLoading(){return cr(this,F.MEDIA_LOADING)}set mediaLoading(e){ur(this,F.MEDIA_LOADING,e)}}Xs=new WeakMap;ov=new WeakMap;ne.customElements.get("media-loading-indicator")||ne.customElements.define("media-loading-indicator",Uoe);const{MEDIA_VOLUME_LEVEL:Ol}=F,joe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,DD=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,Voe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`,J4=Xe.createElement("template");J4.innerHTML=`
  <style>
  
  :host(:not([${Ol}])) slot[name=icon] slot:not([name=high]), 
  :host([${Ol}=high]) slot[name=icon] slot:not([name=high]) {
    display: none !important;
  }

  :host([${Ol}=off]) slot[name=icon] slot:not([name=off]) {
    display: none !important;
  }

  :host([${Ol}=low]) slot[name=icon] slot:not([name=low]) {
    display: none !important;
  }

  :host([${Ol}=medium]) slot[name=icon] slot:not([name=medium]) {
    display: none !important;
  }

  :host(:not([${Ol}=off])) slot[name=tooltip-unmute],
  :host([${Ol}=off]) slot[name=tooltip-mute] {
    display: none;
  }
  </style>

  <slot name="icon">
    <slot name="off">${joe}</slot>
    <slot name="low">${DD}</slot>
    <slot name="medium">${DD}</slot>
    <slot name="high">${Voe}</slot>
  </slot>
`;const Woe=`
  <slot name="tooltip-mute">${$n.MUTE}</slot>
  <slot name="tooltip-unmute">${$n.UNMUTE}</slot>
`,PD=t=>{const n=t.mediaVolumeLevel==="off"?Gr.UNMUTE():Gr.MUTE();t.setAttribute("aria-label",n)};class Hoe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_VOLUME_LEVEL]}constructor(e={}){super({slotTemplate:J4,tooltipContent:Woe,...e})}connectedCallback(){PD(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===F.MEDIA_VOLUME_LEVEL&&PD(this),super.attributeChangedCallback(e,n,r)}get mediaVolumeLevel(){return er(this,F.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){tr(this,F.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?je.MEDIA_UNMUTE_REQUEST:je.MEDIA_MUTE_REQUEST;this.dispatchEvent(new ne.CustomEvent(e,{composed:!0,bubbles:!0}))}}ne.customElements.get("media-mute-button")||ne.customElements.define("media-mute-button",Hoe);const MD=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`,e$=Xe.createElement("template");e$.innerHTML=`
  <style>
  :host([${F.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
    display: none !important;
  }

  
  :host(:not([${F.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
    display: none !important;
  }

  :host([${F.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
  :host(:not([${F.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
    display: none;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${MD}</slot>
    <slot name="exit">${MD}</slot>
  </slot>
`;const Goe=`
  <slot name="tooltip-enter">${$n.ENTER_PIP}</slot>
  <slot name="tooltip-exit">${$n.EXIT_PIP}</slot>
`,OD=t=>{const e=t.mediaIsPip?Gr.EXIT_PIP():Gr.ENTER_PIP();t.setAttribute("aria-label",e)};class Koe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_IS_PIP,F.MEDIA_PIP_UNAVAILABLE]}constructor(e={}){super({slotTemplate:e$,tooltipContent:Goe,...e})}connectedCallback(){OD(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===F.MEDIA_IS_PIP&&OD(this),super.attributeChangedCallback(e,n,r)}get mediaPipUnavailable(){return er(this,F.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){tr(this,F.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return cr(this,F.MEDIA_IS_PIP)}set mediaIsPip(e){ur(this,F.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?je.MEDIA_EXIT_PIP_REQUEST:je.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new ne.CustomEvent(e,{composed:!0,bubbles:!0}))}}ne.customElements.get("media-pip-button")||ne.customElements.define("media-pip-button",Koe);var zoe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},u0=(t,e,n)=>(zoe(t,e,"read from private field"),n?n.call(t):e.get(t)),Yoe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ou;const I1={RATES:"rates"},t$=[1,1.2,1.5,1.7,2],Tf=1,n$=Xe.createElement("template");n$.innerHTML=`
  <style>
    :host {
      min-width: 5ch;
      padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
    }
  </style>
  <slot name="icon"></slot>
`;class qoe extends Di{constructor(e={}){super({slotTemplate:n$,tooltipContent:$n.PLAYBACK_RATE,...e}),Yoe(this,Ou,new Lb(this,I1.RATES,{defaultValue:t$})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${Tf}x`}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PLAYBACK_RATE,I1.RATES]}attributeChangedCallback(e,n,r){if(super.attributeChangedCallback(e,n,r),e===I1.RATES&&(u0(this,Ou).value=r),e===F.MEDIA_PLAYBACK_RATE){const i=r?+r:Number.NaN,s=Number.isNaN(i)?Tf:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",Ri.PLAYBACK_RATE({playbackRate:s}))}}get rates(){return u0(this,Ou)}set rates(e){e?Array.isArray(e)&&(u0(this,Ou).value=e.join(" ")):u0(this,Ou).value=""}get mediaPlaybackRate(){return Sn(this,F.MEDIA_PLAYBACK_RATE,Tf)}set mediaPlaybackRate(e){Qn(this,F.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,n;const r=Array.from(this.rates.values(),o=>+o).sort((o,a)=>o-a),i=(n=(e=r.find(o=>o>this.mediaPlaybackRate))!=null?e:r[0])!=null?n:Tf,s=new ne.CustomEvent(je.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(s)}}Ou=new WeakMap;ne.customElements.get("media-playback-rate-button")||ne.customElements.define("media-playback-rate-button",qoe);const Xoe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,Qoe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`,r$=Xe.createElement("template");r$.innerHTML=`
  <style>
    :host([${F.MEDIA_PAUSED}]) slot[name=pause],
    :host(:not([${F.MEDIA_PAUSED}])) slot[name=play] {
      display: none !important;
    }

    :host([${F.MEDIA_PAUSED}]) slot[name=tooltip-pause],
    :host(:not([${F.MEDIA_PAUSED}])) slot[name=tooltip-play] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="play">${Xoe}</slot>
    <slot name="pause">${Qoe}</slot>
  </slot>
`;const Zoe=`
  <slot name="tooltip-play">${$n.PLAY}</slot>
  <slot name="tooltip-pause">${$n.PAUSE}</slot>
`,ND=t=>{const e=t.mediaPaused?Gr.PLAY():Gr.PAUSE();t.setAttribute("aria-label",e)};class Joe extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PAUSED,F.MEDIA_ENDED]}constructor(e={}){super({slotTemplate:r$,tooltipContent:Zoe,...e})}connectedCallback(){ND(this),super.connectedCallback()}attributeChangedCallback(e,n,r){e===F.MEDIA_PAUSED&&ND(this),super.attributeChangedCallback(e,n,r)}get mediaPaused(){return cr(this,F.MEDIA_PAUSED)}set mediaPaused(e){ur(this,F.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?je.MEDIA_PLAY_REQUEST:je.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new ne.CustomEvent(e,{composed:!0,bubbles:!0}))}}ne.customElements.get("media-play-button")||ne.customElements.define("media-play-button",Joe);const Vs={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"},i$=Xe.createElement("template");i$.innerHTML=`
  <style>
    :host {
      pointer-events: none;
      display: var(--media-poster-image-display, inline-block);
      box-sizing: border-box;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      min-width: 100%;
      min-height: 100%;
      background-repeat: no-repeat;
      background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
      background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
      object-fit: var(--media-object-fit, contain);
      object-position: var(--media-object-position, center);
    }
  </style>

  <img part="poster img" aria-hidden="true" id="image"/>
`;const eae=t=>{t.style.removeProperty("background-image")},tae=(t,e)=>{t.style["background-image"]=`url('${e}')`};class nae extends ne.HTMLElement{static get observedAttributes(){return[Vs.PLACEHOLDER_SRC,Vs.SRC]}constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(i$.content.cloneNode(!0))),this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,n,r){e===Vs.SRC&&(r==null?this.image.removeAttribute(Vs.SRC):this.image.setAttribute(Vs.SRC,r)),e===Vs.PLACEHOLDER_SRC&&(r==null?eae(this.image):tae(this.image,r))}get placeholderSrc(){return er(this,Vs.PLACEHOLDER_SRC)}set placeholderSrc(e){tr(this,Vs.SRC,e)}get src(){return er(this,Vs.SRC)}set src(e){tr(this,Vs.SRC,e)}}ne.customElements.get("media-poster-image")||ne.customElements.define("media-poster-image",nae);var s$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},rae=(t,e,n)=>(s$(t,e,"read from private field"),n?n.call(t):e.get(t)),iae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},sae=(t,e,n,r)=>(s$(t,e,"write to private field"),e.set(t,n),n),av;class oae extends hm{constructor(){super(),iae(this,av,void 0),sae(this,av,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PREVIEW_CHAPTER]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_PREVIEW_CHAPTER&&r!==n&&r!=null&&(rae(this,av).textContent=r,r!==""?this.setAttribute("aria-valuetext",`chapter: ${r}`):this.removeAttribute("aria-valuetext"))}get mediaPreviewChapter(){return er(this,F.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){tr(this,F.MEDIA_PREVIEW_CHAPTER,e)}}av=new WeakMap;ne.customElements.get("media-preview-chapter-display")||ne.customElements.define("media-preview-chapter-display",oae);var o$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},d0=(t,e,n)=>(o$(t,e,"read from private field"),n?n.call(t):e.get(t)),aae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},h0=(t,e,n,r)=>(o$(t,e,"write to private field"),e.set(t,n),n),Qs;const a$=Xe.createElement("template");a$.innerHTML=`
  <style>
    :host {
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
      overflow: hidden;
    }

    img {
      display: none;
      position: relative;
    }
  </style>
  <img crossorigin loading="eager" decoding="async">
`;class lae extends ne.HTMLElement{constructor(){super(),aae(this,Qs,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(a$.content.cloneNode(!0)))}static get observedAttributes(){return[nn.MEDIA_CONTROLLER,F.MEDIA_PREVIEW_IMAGE,F.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,n,r;const i=this.getAttribute(nn.MEDIA_CONTROLLER);i&&(h0(this,Qs,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=d0(this,Qs))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=d0(this,Qs))==null?void 0:e.unassociateElement)==null||n.call(e,this),h0(this,Qs,null)}attributeChangedCallback(e,n,r){var i,s,o,a,c;[F.MEDIA_PREVIEW_IMAGE,F.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===nn.MEDIA_CONTROLLER&&(n&&((s=(i=d0(this,Qs))==null?void 0:i.unassociateElement)==null||s.call(i,this),h0(this,Qs,null)),r&&this.isConnected&&(h0(this,Qs,(o=this.getRootNode())==null?void 0:o.getElementById(r)),(c=(a=d0(this,Qs))==null?void 0:a.associateElement)==null||c.call(a,this)))}get mediaPreviewImage(){return er(this,F.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){tr(this,F.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(F.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(n=>+n)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(F.MEDIA_PREVIEW_COORDS);return}this.setAttribute(F.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,n=this.mediaPreviewImage;if(!(e&&n))return;const[r,i,s,o]=e,a=n.split("#")[0],c=getComputedStyle(this),{maxWidth:u,maxHeight:h,minWidth:f,minHeight:p}=c,g=Math.min(parseInt(u)/s,parseInt(h)/o),v=Math.max(parseInt(f)/s,parseInt(p)/o),y=g<1,E=y?g:v>1?v:1,{style:S}=or(this.shadowRoot,":host"),w=or(this.shadowRoot,"img").style,T=this.shadowRoot.querySelector("img"),C=y?"min":"max";S.setProperty(`${C}-width`,"initial","important"),S.setProperty(`${C}-height`,"initial","important"),S.width=`${s*E}px`,S.height=`${o*E}px`;const _=()=>{w.width=`${this.imgWidth*E}px`,w.height=`${this.imgHeight*E}px`,w.display="block"};T.src!==a&&(T.onload=()=>{this.imgWidth=T.naturalWidth,this.imgHeight=T.naturalHeight,_()},T.src=a,_()),_(),w.transform=`translate(-${r*E}px, -${i*E}px)`}}Qs=new WeakMap;ne.customElements.get("media-preview-thumbnail")||ne.customElements.define("media-preview-thumbnail",lae);var l$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},$D=(t,e,n)=>(l$(t,e,"read from private field"),n?n.call(t):e.get(t)),cae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},uae=(t,e,n,r)=>(l$(t,e,"write to private field"),e.set(t,n),n),Af;class dae extends hm{constructor(){super(),cae(this,Af,void 0),uae(this,Af,this.shadowRoot.querySelector("slot")),$D(this,Af).textContent=kc(0)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_PREVIEW_TIME&&r!=null&&($D(this,Af).textContent=kc(parseFloat(r)))}get mediaPreviewTime(){return Sn(this,F.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Qn(this,F.MEDIA_PREVIEW_TIME,e)}}Af=new WeakMap;ne.customElements.get("media-preview-time-display")||ne.customElements.define("media-preview-time-display",dae);const wu={SEEK_OFFSET:"seekoffset"},lv=30,hae=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(2.18 19.87)">${lv}</text><path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/></svg>`,c$=Xe.createElement("template");c$.innerHTML=`
  <slot name="icon">${hae}</slot>
`;const fae=0;class pae extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_CURRENT_TIME,wu.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:c$,tooltipContent:$n.SEEK_BACKWARD,...e})}connectedCallback(){this.seekOffset=Sn(this,wu.SEEK_OFFSET,lv),super.connectedCallback()}attributeChangedCallback(e,n,r){e===wu.SEEK_OFFSET&&(this.seekOffset=Sn(this,wu.SEEK_OFFSET,lv)),super.attributeChangedCallback(e,n,r)}get seekOffset(){return Sn(this,wu.SEEK_OFFSET,lv)}set seekOffset(e){Qn(this,wu.SEEK_OFFSET,e),this.setAttribute("aria-label",Gr.SEEK_BACK_N_SECS({seekOffset:this.seekOffset})),n4(r4(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Sn(this,F.MEDIA_CURRENT_TIME,fae)}set mediaCurrentTime(e){Qn(this,F.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),n=new ne.CustomEvent(je.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}ne.customElements.get("media-seek-backward-button")||ne.customElements.define("media-seek-backward-button",pae);const _u={SEEK_OFFSET:"seekoffset"},cv=30,mae=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(8.9 19.87)">${cv}</text><path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/></svg>`,u$=Xe.createElement("template");u$.innerHTML=`
  <slot name="icon">${mae}</slot>
`;const gae=0;class vae extends Di{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_CURRENT_TIME,_u.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:u$,tooltipContent:$n.SEEK_FORWARD,...e})}connectedCallback(){this.seekOffset=Sn(this,_u.SEEK_OFFSET,cv),super.connectedCallback()}attributeChangedCallback(e,n,r){e===_u.SEEK_OFFSET&&(this.seekOffset=Sn(this,_u.SEEK_OFFSET,cv)),super.attributeChangedCallback(e,n,r)}get seekOffset(){return Sn(this,_u.SEEK_OFFSET,cv)}set seekOffset(e){Qn(this,_u.SEEK_OFFSET,e),this.setAttribute("aria-label",Gr.SEEK_FORWARD_N_SECS({seekOffset:this.seekOffset})),n4(r4(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Sn(this,F.MEDIA_CURRENT_TIME,gae)}set mediaCurrentTime(e){Qn(this,F.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,n=new ne.CustomEvent(je.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}ne.customElements.get("media-seek-forward-button")||ne.customElements.define("media-seek-forward-button",vae);var d$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},L1=(t,e,n)=>(d$(t,e,"read from private field"),n?n.call(t):e.get(t)),yae=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},bae=(t,e,n,r)=>(d$(t,e,"write to private field"),e.set(t,n),n),Nu;const _s={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},FD=[...Object.values(_s),F.MEDIA_CURRENT_TIME,F.MEDIA_DURATION,F.MEDIA_SEEKABLE],BD=["Enter"," "],Eae="&nbsp;/&nbsp;",UD=(t,{timesSep:e=Eae}={})=>{var n,r;const i=t.hasAttribute(_s.REMAINING),s=t.hasAttribute(_s.SHOW_DURATION),o=(n=t.mediaCurrentTime)!=null?n:0,[,a]=(r=t.mediaSeekable)!=null?r:[];let c=0;Number.isFinite(t.mediaDuration)?c=t.mediaDuration:Number.isFinite(a)&&(c=a);const u=kc(i?0-(c-o):o);return s?`${u}${e}${kc(c)}`:u},xae="video not loaded, unknown time.",Sae=t=>{var e;const n=t.mediaCurrentTime,[,r]=(e=t.mediaSeekable)!=null?e:[];let i=null;if(Number.isFinite(t.mediaDuration)?i=t.mediaDuration:Number.isFinite(r)&&(i=r),n==null||i===null){t.setAttribute("aria-valuetext",xae);return}const s=t.hasAttribute(_s.REMAINING),o=t.hasAttribute(_s.SHOW_DURATION),a=ep(s?0-(i-n):n);if(!o){t.setAttribute("aria-valuetext",a);return}const c=ep(i),u=`${a} of ${c}`;t.setAttribute("aria-valuetext",u)};class Tae extends hm{constructor(){super(),yae(this,Nu,void 0),bae(this,Nu,this.shadowRoot.querySelector("slot")),L1(this,Nu).innerHTML=`${UD(this)}`}static get observedAttributes(){return[...super.observedAttributes,...FD,"disabled"]}connectedCallback(){const{style:e}=or(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","pointer"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Ri.PLAYBACK_TIME());const n=r=>{const{key:i}=r;if(!BD.includes(i)){this.removeEventListener("keyup",n);return}this.toggleTimeDisplay()};this.addEventListener("keydown",r=>{const{metaKey:i,altKey:s,key:o}=r;if(i||s||!BD.includes(o)){this.removeEventListener("keyup",n);return}this.addEventListener("keyup",n)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,n,r){FD.includes(e)?this.update():e==="disabled"&&r!==n&&(r==null?this.enable():this.disable()),super.attributeChangedCallback(e,n,r)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return cr(this,_s.REMAINING)}set remaining(e){ur(this,_s.REMAINING,e)}get showDuration(){return cr(this,_s.SHOW_DURATION)}set showDuration(e){ur(this,_s.SHOW_DURATION,e)}get noToggle(){return cr(this,_s.NO_TOGGLE)}set noToggle(e){ur(this,_s.NO_TOGGLE,e)}get mediaDuration(){return Sn(this,F.MEDIA_DURATION)}set mediaDuration(e){Qn(this,F.MEDIA_DURATION,e)}get mediaCurrentTime(){return Sn(this,F.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Qn(this,F.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(F.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(F.MEDIA_SEEKABLE);return}this.setAttribute(F.MEDIA_SEEKABLE,e.join(":"))}update(){const e=UD(this);Sae(this),e!==L1(this,Nu).innerHTML&&(L1(this,Nu).innerHTML=e)}}Nu=new WeakMap;ne.customElements.get("media-time-display")||ne.customElements.define("media-time-display",Tae);var h$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},gr=(t,e,n)=>(h$(t,e,"read from private field"),e.get(t)),Ws=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Si=(t,e,n,r)=>(h$(t,e,"write to private field"),e.set(t,n),n),Aae=(t,e,n,r)=>({set _(i){Si(t,e,i)},get _(){return gr(t,e)}}),$u,uv,Fu,wf,dv,hv,fv,Bu,Gl,pv;class wae{constructor(e,n,r){Ws(this,$u,void 0),Ws(this,uv,void 0),Ws(this,Fu,void 0),Ws(this,wf,void 0),Ws(this,dv,void 0),Ws(this,hv,void 0),Ws(this,fv,void 0),Ws(this,Bu,void 0),Ws(this,Gl,0),Ws(this,pv,(i=performance.now())=>{Si(this,Gl,requestAnimationFrame(gr(this,pv))),Si(this,wf,performance.now()-gr(this,Fu));const s=1e3/this.fps;if(gr(this,wf)>s){Si(this,Fu,i-gr(this,wf)%s);const o=1e3/((i-gr(this,uv))/++Aae(this,dv)._),a=(i-gr(this,hv))/1e3/this.duration;let c=gr(this,fv)+a*this.playbackRate;c-gr(this,$u).valueAsNumber>0?Si(this,Bu,this.playbackRate/this.duration/o):(Si(this,Bu,.995*gr(this,Bu)),c=gr(this,$u).valueAsNumber+gr(this,Bu)),this.callback(c)}}),Si(this,$u,e),this.callback=n,this.fps=r}start(){gr(this,Gl)===0&&(Si(this,Fu,performance.now()),Si(this,uv,gr(this,Fu)),Si(this,dv,0),gr(this,pv).call(this))}stop(){gr(this,Gl)!==0&&(cancelAnimationFrame(gr(this,Gl)),Si(this,Gl,0))}update({start:e,duration:n,playbackRate:r}){const i=e-gr(this,$u).valueAsNumber,s=Math.abs(n-this.duration);(i>0||i<-.03||s>=.5)&&this.callback(e),Si(this,fv,e),Si(this,hv,performance.now()),this.duration=n,this.playbackRate=r}}$u=new WeakMap;uv=new WeakMap;Fu=new WeakMap;wf=new WeakMap;dv=new WeakMap;hv=new WeakMap;fv=new WeakMap;Bu=new WeakMap;Gl=new WeakMap;pv=new WeakMap;var E_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ar=(t,e,n)=>(E_(t,e,"read from private field"),n?n.call(t):e.get(t)),mr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zs=(t,e,n,r)=>(E_(t,e,"write to private field"),e.set(t,n),n),jr=(t,e,n)=>(E_(t,e,"access private method"),n),Uu,Ic,My,rp,Oy,mv,Np,$p,ju,Vu,_f,x_,f$,wT,Ny,S_,$y,T_,Fy,A_,_T,p$,Fp,By,CT,m$;const _ae="video not loaded, unknown time.",Cae=t=>{const e=t.range,n=ep(+v$(t)),r=ep(+t.mediaSeekableEnd),i=n&&r?`${n} of ${r}`:_ae;e.setAttribute("aria-valuetext",i)},g$=Xe.createElement("template");g$.innerHTML=`
  <style>
    :host {
      --media-box-border-radius: 4px;
      --media-box-padding-left: 10px;
      --media-box-padding-right: 10px;
      --media-preview-border-radius: var(--media-box-border-radius);
      --media-box-arrow-offset: var(--media-box-border-radius);
      --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      --_preview-background: var(--media-preview-background, var(--_control-background));

      
      contain: layout;
    }

    #buffered {
      background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
      position: absolute;
      height: 100%;
      will-change: width;
    }

    #preview-rail,
    #current-rail {
      width: 100%;
      position: absolute;
      left: 0;
      bottom: 100%;
      pointer-events: none;
      will-change: transform;
    }

    [part~="box"] {
      width: min-content;
      
      position: absolute;
      bottom: 100%;
      flex-direction: column;
      align-items: center;
      transform: translateX(-50%);
    }

    [part~="current-box"] {
      display: var(--media-current-box-display, var(--media-box-display, flex));
      margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
      visibility: hidden;
    }

    [part~="preview-box"] {
      display: var(--media-preview-box-display, var(--media-box-display, flex));
      margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
      transition-property: var(--media-preview-transition-property, visibility, opacity);
      transition-duration: var(--media-preview-transition-duration-out, .25s);
      transition-delay: var(--media-preview-transition-delay-out, 0s);
      visibility: hidden;
      opacity: 0;
    }

    :host(:is([${F.MEDIA_PREVIEW_IMAGE}], [${F.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
      transition-duration: var(--media-preview-transition-duration-in, .5s);
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
      opacity: 1;
    }

    @media (hover: hover) {
      :host(:is([${F.MEDIA_PREVIEW_IMAGE}], [${F.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }
    }

    media-preview-thumbnail,
    ::slotted(media-preview-thumbnail) {
      visibility: hidden;
      
      transition: visibility 0s .25s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-thumbnail-background, var(--_preview-background));
      box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
      max-width: var(--media-preview-thumbnail-max-width, 180px);
      max-height: var(--media-preview-thumbnail-max-height, 160px);
      min-width: var(--media-preview-thumbnail-min-width, 120px);
      min-height: var(--media-preview-thumbnail-min-height, 80px);
      border: var(--media-preview-thumbnail-border);
      border-radius: var(--media-preview-thumbnail-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
    }

    :host([${F.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
    :host([${F.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
    }

    @media (hover: hover) {
      :host([${F.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
      :host([${F.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      :host([${F.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }
    }

    media-preview-chapter-display,
    ::slotted(media-preview-chapter-display) {
      font-size: var(--media-font-size, 13px);
      line-height: 17px;
      min-width: 0;
      visibility: hidden;
      
      transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-chapter-background, var(--_preview-background));
      border-radius: var(--media-preview-chapter-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-chapter-padding, 3.5px 9px);
      margin: var(--media-preview-chapter-margin, 0 0 5px);
      text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
    }

    :host([${F.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
    :host([${F.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      border-radius: var(--media-preview-chapter-border-radius, 0);
      padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
      margin: var(--media-preview-chapter-margin, 0);
      min-width: 100%;
    }

    media-preview-chapter-display[${F.MEDIA_PREVIEW_CHAPTER}],
    ::slotted(media-preview-chapter-display[${F.MEDIA_PREVIEW_CHAPTER}]) {
      visibility: visible;
    }

    media-preview-chapter-display:not([aria-valuetext]),
    ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
      display: none;
    }

    media-preview-time-display,
    ::slotted(media-preview-time-display),
    media-time-display,
    ::slotted(media-time-display) {
      font-size: var(--media-font-size, 13px);
      line-height: 17px;
      min-width: 0;
      
      transition: min-width 0s, border-radius 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-time-background, var(--_preview-background));
      border-radius: var(--media-preview-time-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-time-padding, 3.5px 9px);
      margin: var(--media-preview-time-margin, 0);
      text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      transform: translateX(min(
        max(calc(50% - var(--_box-width) / 2),
        calc(var(--_box-shift, 0))),
        calc(var(--_box-width) / 2 - 50%)
      ));
    }

    :host([${F.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
    :host([${F.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      border-radius: var(--media-preview-time-border-radius,
        0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
      min-width: 100%;
    }

    :host([${F.MEDIA_PREVIEW_TIME}]:hover) {
      --media-time-range-hover-display: block;
    }

    [part~="arrow"],
    ::slotted([part~="arrow"]) {
      display: var(--media-box-arrow-display, inline-block);
      transform: translateX(min(
        max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
        calc(var(--_box-shift, 0))),
        calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
      ));
      
      border-color: transparent;
      border-top-color: var(--media-box-arrow-background, var(--_control-background));
      border-width: var(--media-box-arrow-border-width,
        var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
      border-style: solid;
      justify-content: center;
      height: 0;
    }
  </style>
  <div id="preview-rail">
    <slot name="preview" part="box preview-box">
      <media-preview-thumbnail></media-preview-thumbnail>
      <media-preview-chapter-display></media-preview-chapter-display>
      <media-preview-time-display></media-preview-time-display>
      <slot name="preview-arrow"><div part="arrow"></div></slot>
    </slot>
  </div>
  <div id="current-rail">
    <slot name="current" part="box current-box">
      
    </slot>
  </div>
`;const f0=(t,e=t.mediaCurrentTime)=>{const n=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,r=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;if(Number.isNaN(r))return 0;const i=(e-n)/(r-n);return Math.max(0,Math.min(i,1))},v$=(t,e=t.range.valueAsNumber)=>{const n=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,r=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;return Number.isNaN(r)?0:e*(r-n)+n};class kae extends b_{constructor(){super(),mr(this,Vu),mr(this,x_),mr(this,Ny),mr(this,$y),mr(this,Fy),mr(this,_T),mr(this,Fp),mr(this,CT),mr(this,Uu,void 0),mr(this,Ic,void 0),mr(this,My,void 0),mr(this,rp,void 0),mr(this,Oy,void 0),mr(this,mv,void 0),mr(this,Np,void 0),mr(this,$p,void 0),mr(this,ju,void 0),mr(this,wT,r=>{this.dragging||(s_(r)&&(this.range.valueAsNumber=r),this.updateBar())}),this.container.appendChild(g$.content.cloneNode(!0)),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),Zs(this,My,this.shadowRoot.querySelectorAll('[part~="box"]')),Zs(this,Oy,this.shadowRoot.querySelector('[part~="preview-box"]')),Zs(this,mv,this.shadowRoot.querySelector('[part~="current-box"]'));const n=getComputedStyle(this);Zs(this,Np,parseInt(n.getPropertyValue("--media-box-padding-left"))),Zs(this,$p,parseInt(n.getPropertyValue("--media-box-padding-right"))),Zs(this,Ic,new wae(this.range,ar(this,wT),60))}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PAUSED,F.MEDIA_DURATION,F.MEDIA_SEEKABLE,F.MEDIA_CURRENT_TIME,F.MEDIA_PREVIEW_IMAGE,F.MEDIA_PREVIEW_TIME,F.MEDIA_PREVIEW_CHAPTER,F.MEDIA_BUFFERED,F.MEDIA_PLAYBACK_RATE,F.MEDIA_LOADING,F.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Ri.SEEK()),jr(this,Vu,_f).call(this),Zs(this,Uu,this.getRootNode()),(e=ar(this,Uu))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),jr(this,Vu,_f).call(this),(e=ar(this,Uu))==null||e.removeEventListener("transitionstart",this),Zs(this,Uu,null)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),n!=r&&(e===F.MEDIA_CURRENT_TIME||e===F.MEDIA_PAUSED||e===F.MEDIA_ENDED||e===F.MEDIA_LOADING||e===F.MEDIA_DURATION||e===F.MEDIA_SEEKABLE?(ar(this,Ic).update({start:f0(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),jr(this,Vu,_f).call(this),Cae(this)):e===F.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===F.MEDIA_DURATION||e===F.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=ar(this,ju),this.updateBar()))}get mediaChaptersCues(){return ar(this,ju)}set mediaChaptersCues(e){var n;Zs(this,ju,e),this.updateSegments((n=ar(this,ju))==null?void 0:n.map(r=>({start:f0(this,r.startTime),end:f0(this,r.endTime)})))}get mediaPaused(){return cr(this,F.MEDIA_PAUSED)}set mediaPaused(e){ur(this,F.MEDIA_PAUSED,e)}get mediaLoading(){return cr(this,F.MEDIA_LOADING)}set mediaLoading(e){ur(this,F.MEDIA_LOADING,e)}get mediaDuration(){return Sn(this,F.MEDIA_DURATION)}set mediaDuration(e){Qn(this,F.MEDIA_DURATION,e)}get mediaCurrentTime(){return Sn(this,F.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Qn(this,F.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Sn(this,F.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Qn(this,F.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(F.MEDIA_BUFFERED);return e?e.split(" ").map(n=>n.split(":").map(r=>+r)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(F.MEDIA_BUFFERED);return}const n=e.map(r=>r.join(":")).join(" ");this.setAttribute(F.MEDIA_BUFFERED,n)}get mediaSeekable(){const e=this.getAttribute(F.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(F.MEDIA_SEEKABLE);return}this.setAttribute(F.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,n=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return n}get mediaSeekableStart(){var e;const[n=0]=(e=this.mediaSeekable)!=null?e:[];return n}get mediaPreviewImage(){return er(this,F.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){tr(this,F.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Sn(this,F.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Qn(this,F.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return cr(this,F.MEDIA_ENDED)}set mediaEnded(e){ur(this,F.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const n=this.mediaBuffered;if(!n.length)return;let r;if(this.mediaEnded)r=1;else{const s=this.mediaCurrentTime,[,o=this.mediaSeekableStart]=(e=n.find(([a,c])=>a<=s&&s<=c))!=null?e:[];r=f0(this,o)}const{style:i}=or(this.shadowRoot,"#buffered");i.setProperty("width",`${r*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const n=or(this.shadowRoot,"#current-rail"),r=or(this.shadowRoot,'[part~="current-box"]'),i=jr(this,Ny,S_).call(this,ar(this,mv)),s=jr(this,$y,T_).call(this,i,this.range.valueAsNumber),o=jr(this,Fy,A_).call(this,i,this.range.valueAsNumber);n.style.transform=`translateX(${s})`,n.style.setProperty("--_range-width",`${i.range.width}`),r.style.setProperty("--_box-shift",`${o}`),r.style.setProperty("--_box-width",`${i.box.width}px`),r.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":jr(this,CT,m$).call(this);break;case"pointermove":jr(this,_T,p$).call(this,e);break;case"pointerup":case"pointerleave":jr(this,Fp,By).call(this,null);break;case"transitionstart":da(e.target,this)&&setTimeout(()=>jr(this,Vu,_f).call(this),0);break}}}Uu=new WeakMap;Ic=new WeakMap;My=new WeakMap;rp=new WeakMap;Oy=new WeakMap;mv=new WeakMap;Np=new WeakMap;$p=new WeakMap;ju=new WeakMap;Vu=new WeakSet;_f=function(){jr(this,x_,f$).call(this)?ar(this,Ic).start():ar(this,Ic).stop()};x_=new WeakSet;f$=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&i4(this)};wT=new WeakMap;Ny=new WeakSet;S_=function(t){var e;const r=((e=this.getAttribute("bounds")?Xd(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),i=this.range.getBoundingClientRect(),s=t.offsetWidth,o=-(i.left-r.left-s/2),a=r.right-i.left-s/2;return{box:{width:s,min:o,max:a},bounds:r,range:i}};$y=new WeakSet;T_=function(t,e){let n=`${e*100}%`;const{width:r,min:i,max:s}=t.box;if(!r)return n;if(Number.isNaN(i)||(n=`max(${`calc(1 / var(--_range-width) * 100 * ${i}% + var(--media-box-padding-left))`}, ${n})`),!Number.isNaN(s)){const a=`calc(1 / var(--_range-width) * 100 * ${s}% - var(--media-box-padding-right))`;n=`min(${n}, ${a})`}return n};Fy=new WeakSet;A_=function(t,e){const{width:n,min:r,max:i}=t.box,s=e*t.range.width;if(s<r+ar(this,Np)){const o=t.range.left-t.bounds.left-ar(this,Np);return`${s-n/2+o}px`}if(s>i-ar(this,$p)){const o=t.bounds.right-t.range.right-ar(this,$p);return`${s+n/2-o-t.range.width}px`}return 0};_T=new WeakSet;p$=function(t){const e=[...ar(this,My)].some(h=>t.composedPath().includes(h));if(!this.dragging&&(e||!t.composedPath().includes(this))){jr(this,Fp,By).call(this,null);return}const n=this.mediaSeekableEnd;if(!n)return;const r=or(this.shadowRoot,"#preview-rail"),i=or(this.shadowRoot,'[part~="preview-box"]'),s=jr(this,Ny,S_).call(this,ar(this,Oy));let o=(t.clientX-s.range.left)/s.range.width;o=Math.max(0,Math.min(1,o));const a=jr(this,$y,T_).call(this,s,o),c=jr(this,Fy,A_).call(this,s,o);r.style.transform=`translateX(${a})`,r.style.setProperty("--_range-width",`${s.range.width}`),i.style.setProperty("--_box-shift",`${c}`),i.style.setProperty("--_box-width",`${s.box.width}px`);const u=Math.round(ar(this,rp))-Math.round(o*n);Math.abs(u)<1&&o>.01&&o<.99||(Zs(this,rp,o*n),jr(this,Fp,By).call(this,ar(this,rp)))};Fp=new WeakSet;By=function(t){this.dispatchEvent(new ne.CustomEvent(je.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:t}))};CT=new WeakSet;m$=function(){ar(this,Ic).stop();const t=v$(this);this.dispatchEvent(new ne.CustomEvent(je.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:t}))};ne.customElements.get("media-time-range")||ne.customElements.define("media-time-range",kae);const Cu={PLACEMENT:"placement",BOUNDS:"bounds"},y$=Xe.createElement("template");y$.innerHTML=`
  <style>
    :host {
      --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
      --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
      --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
      --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
      --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
      position: relative;
      pointer-events: none;
      display: var(--media-tooltip-display, inline-flex);
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
      z-index: var(--media-tooltip-z-index, 1);
      background: var(--_tooltip-background);
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      font: var(--media-font,
        var(--media-font-weight, 400)
        var(--media-font-size, 13px) /
        var(--media-text-content-height, var(--media-control-height, 18px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      padding: var(--media-tooltip-padding, .35em .7em);
      border: var(--media-tooltip-border, none);
      border-radius: var(--media-tooltip-border-radius, 5px);
      filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
      white-space: var(--media-tooltip-white-space, nowrap);
    }

    :host([hidden]) {
      display: none;
    }

    img, svg {
      display: inline-block;
    }

    #arrow {
      position: absolute;
      width: 0px;
      height: 0px;
      border-style: solid;
      display: var(--media-tooltip-arrow-display, block);
    }

    :host(:not([placement])),
    :host([placement="top"]) {
      position: absolute;
      bottom: calc(100% + var(--media-tooltip-distance, 12px));
      left: 50%;
      transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
    }
    :host(:not([placement])) #arrow,
    :host([placement="top"]) #arrow {
      top: 100%;
      left: 50%;
      border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
      border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
      transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
    }

    :host([placement="right"]) {
      position: absolute;
      left: calc(100% + var(--media-tooltip-distance, 12px));
      top: 50%;
      transform: translate(0, -50%);
    }
    :host([placement="right"]) #arrow {
      top: 50%;
      right: 100%;
      border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
      border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
      transform: translate(0, -50%);
    }

    :host([placement="bottom"]) {
      position: absolute;
      top: calc(100% + var(--media-tooltip-distance, 12px));
      left: 50%;
      transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
    }
    :host([placement="bottom"]) #arrow {
      bottom: 100%;
      left: 50%;
      border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
      border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
      transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
    }

    :host([placement="left"]) {
      position: absolute;
      right: calc(100% + var(--media-tooltip-distance, 12px));
      top: 50%;
      transform: translate(0, -50%);
    }
    :host([placement="left"]) #arrow {
      top: 50%;
      left: 100%;
      border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
      border-color: transparent transparent transparent var(--_tooltip-arrow-background);
      transform: translate(0, -50%);
    }
    
    :host([placement="none"]) #arrow {
      display: none;
    }

  </style>
  <slot></slot>
  <div id="arrow"></div>
`;class Rae extends ne.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!i4(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const n=this.placement;if(n==="left"||n==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const r=getComputedStyle(this),i=(e=Xd(this,"#"+this.bounds))!=null?e:ss(this);if(!i)return;const{x:s,width:o}=i.getBoundingClientRect(),{x:a,width:c}=this.getBoundingClientRect(),u=a+c,h=s+o,f=r.getPropertyValue("--media-tooltip-offset-x"),p=f?parseFloat(f.replace("px","")):0,g=r.getPropertyValue("--media-tooltip-container-margin"),v=g?parseFloat(g.replace("px","")):0,y=a-s+p-v,E=u-h+p+v;if(y<0){this.style.setProperty("--media-tooltip-offset-x",`${y}px`);return}if(E>0){this.style.setProperty("--media-tooltip-offset-x",`${E}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(y$.content.cloneNode(!0))),this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[Cu.PLACEMENT,Cu.BOUNDS]}get placement(){return er(this,Cu.PLACEMENT)}set placement(e){tr(this,Cu.PLACEMENT,e)}get bounds(){return er(this,Cu.BOUNDS)}set bounds(e){tr(this,Cu.BOUNDS,e)}}ne.customElements.get("media-tooltip")||ne.customElements.define("media-tooltip",Rae);const Iae=1,Lae=t=>t.mediaMuted?0:t.mediaVolume,Dae=t=>`${Math.round(t*100)}%`;class Pae extends b_{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_VOLUME,F.MEDIA_MUTED,F.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,n=new ne.CustomEvent(je.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Ri.VOLUME())}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),(e===F.MEDIA_VOLUME||e===F.MEDIA_MUTED)&&(this.range.valueAsNumber=Lae(this),this.range.setAttribute("aria-valuetext",Dae(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return Sn(this,F.MEDIA_VOLUME,Iae)}set mediaVolume(e){Qn(this,F.MEDIA_VOLUME,e)}get mediaMuted(){return cr(this,F.MEDIA_MUTED)}set mediaMuted(e){ur(this,F.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return er(this,F.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){tr(this,F.MEDIA_VOLUME_UNAVAILABLE,e)}}ne.customElements.get("media-volume-range")||ne.customElements.define("media-volume-range",Pae);var Mae=Object.defineProperty,Oae=Object.getPrototypeOf,Nae=Reflect.get,b$=t=>{throw TypeError(t)},$ae=(t,e,n)=>e in t?Mae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yt=(t,e,n)=>$ae(t,typeof e!="symbol"?e+"":e,n),w_=(t,e,n)=>e.has(t)||b$("Cannot "+n),J=(t,e,n)=>(w_(t,e,"read from private field"),n?n.call(t):e.get(t)),at=(t,e,n)=>e.has(t)?b$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ke=(t,e,n,r)=>(w_(t,e,"write to private field"),e.set(t,n),n),an=(t,e,n)=>(w_(t,e,"access private method"),n),D1=(t,e,n)=>Nae(Oae(t),n,e),E$=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends E${}globalThis.DocumentFragment=t}var Fae=class extends E${},Bae={get(t){},define(t,e,n){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(Fae)}},Uae={customElements:Bae},jae=typeof window>"u"||typeof globalThis.customElements>"u",P1=jae?Uae:globalThis,Vae=()=>{try{return"0.24.2"}catch{}return"UNKNOWN"},Wae=Vae(),Hae=()=>Wae,__=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],x$=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function Gae(t){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${T$(t)}></audio>
    </slot>
    <slot></slot>
  `}function Kae(t){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${T$(t)}></video>
    </slot>
    <slot></slot>
  `}function S$(t,{tag:e,is:n}){var r,i,s,o,a,c,u,h,f,p,g,v,y,E,S,w,T;let C=(i=(r=globalThis.document)==null?void 0:r.createElement)==null?void 0:i.call(r,e,{is:n}),_=C?zae(C):[];return s=class extends t{constructor(){super(...arguments),at(this,g),at(this,u,!1),at(this,h,null),at(this,f,new Map),at(this,p),Yt(this,"get"),Yt(this,"set"),Yt(this,"call")}static get observedAttributes(){var L,D,P;return an(L=s,a,c).call(L),[...(P=(D=C==null?void 0:C.constructor)==null?void 0:D.observedAttributes)!=null?P:[],...x$]}get nativeEl(){var L,D,P,N,k;return an(this,g,v).call(this),(k=(N=(D=(L=J(this,h))!=null?L:this.querySelector(":scope > [slot=media]"))!=null?D:this.querySelector(e))!=null?N:(P=this.shadowRoot)==null?void 0:P.querySelector(e))!=null?k:null}set nativeEl(L){Ke(this,h,L)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(L){this.toggleAttribute("muted",L)}get src(){return this.getAttribute("src")}set src(L){this.setAttribute("src",`${L}`)}get preload(){var L,D;return(D=this.getAttribute("preload"))!=null?D:(L=this.nativeEl)==null?void 0:L.preload}set preload(L){this.setAttribute("preload",`${L}`)}init(){var L;if(!this.shadowRoot){this.attachShadow({mode:"open"});let D=Yae(this.attributes);n&&(D.is=n),e&&(D.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(D)}this.nativeEl.muted=this.hasAttribute("muted");for(let D of _)an(this,g,w).call(this,D);Ke(this,p,new MutationObserver(an(this,g,E).bind(this))),this.shadowRoot.addEventListener("slotchange",this),an(this,g,y).call(this);for(let D of this.constructor.Events)(L=this.shadowRoot)==null||L.addEventListener(D,this,!0)}handleEvent(L){if(L.type==="slotchange"){an(this,g,y).call(this);return}L.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(L.type,{detail:L.detail}))}attributeChangedCallback(L,D,P){an(this,g,v).call(this),an(this,g,T).call(this,L,D,P)}connectedCallback(){an(this,g,v).call(this)}},o=new WeakMap,a=new WeakSet,c=function(){if(J(this,o))return;Ke(this,o,!0);let L=new Set(this.observedAttributes);L.delete("muted");for(let D of _)if(!(D in this.prototype))if(typeof C[D]=="function")this.prototype[D]=function(...P){return an(this,g,v).call(this),(()=>{var N;if(this.call)return this.call(D,...P);let k=(N=this.nativeEl)==null?void 0:N[D];return k==null?void 0:k.apply(this.nativeEl,P)})()};else{let P={get(){var N,k,$;an(this,g,v).call(this);let z=D.toLowerCase();if(L.has(z)){let j=this.getAttribute(z);return j===null?!1:j===""?!0:j}return($=(N=this.get)==null?void 0:N.call(this,D))!=null?$:(k=this.nativeEl)==null?void 0:k[D]}};D!==D.toUpperCase()&&(P.set=function(N){an(this,g,v).call(this);let k=D.toLowerCase();if(L.has(k)){N===!0||N===!1||N==null?this.toggleAttribute(k,!!N):this.setAttribute(k,N);return}if(this.set){this.set(D,N);return}this.nativeEl&&(this.nativeEl[D]=N)}),Object.defineProperty(this.prototype,D,P)}},u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakSet,v=function(){J(this,u)||(Ke(this,u,!0),this.init())},y=function(){var L;let D=new Map(J(this,f)),P=(L=this.shadowRoot)==null?void 0:L.querySelector("slot:not([name])");(P==null?void 0:P.assignedElements({flatten:!0}).filter(N=>["track","source"].includes(N.localName))).forEach(N=>{var k,$;D.delete(N);let z=J(this,f).get(N);z||(z=N.cloneNode(),J(this,f).set(N,z),(k=J(this,p))==null||k.observe(N,{attributes:!0})),($=this.nativeEl)==null||$.append(z),an(this,g,S).call(this,z)}),D.forEach((N,k)=>{N.remove(),J(this,f).delete(k)})},E=function(L){var D;for(let P of L)if(P.type==="attributes"){let{target:N,attributeName:k}=P,$=J(this,f).get(N);$&&k&&($.setAttribute(k,(D=N.getAttribute(k))!=null?D:""),an(this,g,S).call(this,$))}},S=function(L){L&&L.localName==="track"&&L.default&&(L.kind==="chapters"||L.kind==="metadata")&&L.track.mode==="disabled"&&(L.track.mode="hidden")},w=function(L){if(Object.prototype.hasOwnProperty.call(this,L)){let D=this[L];delete this[L],this[L]=D}},T=function(L,D,P){var N,k,$;["id","class"].includes(L)||!s.observedAttributes.includes(L)&&this.constructor.observedAttributes.includes(L)||(P===null?(N=this.nativeEl)==null||N.removeAttribute(L):((k=this.nativeEl)==null?void 0:k.getAttribute(L))!==P&&(($=this.nativeEl)==null||$.setAttribute(L,P)))},at(s,a),Yt(s,"getTemplateHTML",e.endsWith("audio")?Gae:Kae),Yt(s,"shadowRootOptions",{mode:"open"}),Yt(s,"Events",__),at(s,o,!1),s}function zae(t){let e=[];for(let n=Object.getPrototypeOf(t);n&&n!==HTMLElement.prototype;n=Object.getPrototypeOf(n)){let r=Object.getOwnPropertyNames(n);e.push(...r)}return e}function T$(t){let e="";for(let n in t){if(!x$.includes(n))continue;let r=t[n];r===""?e+=` ${n}`:e+=` ${n}="${r}"`}return e}function Yae(t){let e={};for(let n of t)e[n.name]=n.value;return e}var jD,M1=S$((jD=globalThis.HTMLElement)!=null?jD:class{},{tag:"video"}),VD;S$((VD=globalThis.HTMLElement)!=null?VD:class{},{tag:"audio"});var Lc=new WeakMap,O1=class extends Error{},qae=class extends Error{},Xae=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(e=>{let n=e.deref();n&&t(n)})}}:Set;function Qae(t){var e,n,r;(n=(e=globalThis.chrome)==null?void 0:e.cast)!=null&&n.isAvailable?(r=globalThis.cast)!=null&&r.framework?t():customElements.whenDefined("google-cast-button").then(t):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(t)}}function Zae(){return globalThis.chrome}function Jae(){var t;let e="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if((t=globalThis.chrome)!=null&&t.cast||document.querySelector(`script[src="${e}"]`))return;let n=document.createElement("script");n.src=e,document.head.append(n)}function jc(){var t,e;return(e=(t=globalThis.cast)==null?void 0:t.framework)==null?void 0:e.CastContext.getInstance()}function C_(){var t;return(t=jc())==null?void 0:t.getCurrentSession()}function k_(){var t;return(t=C_())==null?void 0:t.getSessionObj().media[0]}function ele(t){return new Promise((e,n)=>{k_().editTracksInfo(t,e,n)})}function tle(t){return new Promise((e,n)=>{k_().getStatus(t,e,n)})}function A$(t){return jc().setOptions({...w$(),...t})}function w$(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}var gv=new Xae,Za=new WeakSet,ir;Qae(()=>{var t,e,n,r;if(!((e=(t=globalThis.chrome)==null?void 0:t.cast)!=null&&e.isAvailable)){console.debug("chrome.cast.isAvailable",(r=(n=globalThis.chrome)==null?void 0:n.cast)==null?void 0:r.isAvailable);return}ir||(ir=cast.framework,jc().addEventListener(ir.CastContextEventType.CAST_STATE_CHANGED,i=>{gv.forEach(s=>{var o,a;return(a=(o=Lc.get(s)).onCastStateChanged)==null?void 0:a.call(o,i)})}),jc().addEventListener(ir.CastContextEventType.SESSION_STATE_CHANGED,i=>{gv.forEach(s=>{var o,a;return(a=(o=Lc.get(s)).onSessionStateChanged)==null?void 0:a.call(o,i)})}),gv.forEach(i=>{var s,o;return(o=(s=Lc.get(i)).init)==null?void 0:o.call(s)}))});var WD=0,Kt,vv,Hi,Ya,rd,Wu,bc,kT,kr,Kl,HD,RT,_$,IT,GD,N1,nle=class extends EventTarget{constructor(t){super(),at(this,kr),at(this,Kt),at(this,vv),at(this,Hi),at(this,Ya),at(this,rd,"disconnected"),at(this,Wu,!1),at(this,bc,new Set),at(this,kT,new WeakMap),Ke(this,Kt,t),gv.add(this),Lc.set(this,{init:()=>an(this,kr,IT).call(this),onCastStateChanged:()=>an(this,kr,RT).call(this),onSessionStateChanged:()=>an(this,kr,_$).call(this),getCastPlayer:()=>J(this,kr,Kl)}),an(this,kr,IT).call(this)}get state(){return J(this,rd)}async watchAvailability(t){if(J(this,Kt).disableRemotePlayback)throw new O1("disableRemotePlayback attribute is present.");return J(this,kT).set(t,++WD),J(this,bc).add(t),WD}async cancelWatchAvailability(t){if(J(this,Kt).disableRemotePlayback)throw new O1("disableRemotePlayback attribute is present.");t?J(this,bc).delete(t):J(this,bc).clear()}async prompt(){var t,e,n,r;if(J(this,Kt).disableRemotePlayback)throw new O1("disableRemotePlayback attribute is present.");if(!((e=(t=globalThis.chrome)==null?void 0:t.cast)!=null&&e.isAvailable))throw new qae("The RemotePlayback API is disabled on this platform.");let i=Za.has(J(this,Kt));Za.add(J(this,Kt)),A$(J(this,Kt).castOptions),Object.entries(J(this,Ya)).forEach(([s,o])=>{J(this,Hi).controller.addEventListener(s,o)});try{await jc().requestSession()}catch(s){if(s==="cancel"){i||Za.delete(J(this,Kt));return}throw new Error(s)}(r=(n=Lc.get(J(this,Kt)))==null?void 0:n.loadOnPrompt)==null||r.call(n)}};Kt=new WeakMap,vv=new WeakMap,Hi=new WeakMap,Ya=new WeakMap,rd=new WeakMap,Wu=new WeakMap,bc=new WeakMap,kT=new WeakMap,kr=new WeakSet,Kl=function(){if(Za.has(J(this,Kt)))return J(this,Hi)},HD=function(){Za.has(J(this,Kt))&&(Object.entries(J(this,Ya)).forEach(([t,e])=>{J(this,Hi).controller.removeEventListener(t,e)}),Za.delete(J(this,Kt)),J(this,Kt).muted=J(this,Hi).isMuted,J(this,Kt).currentTime=J(this,Hi).savedPlayerState.currentTime,J(this,Hi).savedPlayerState.isPaused===!1&&J(this,Kt).play())},RT=function(){let t=jc().getCastState();if(Za.has(J(this,Kt))&&t==="CONNECTING"&&(Ke(this,rd,"connecting"),this.dispatchEvent(new Event("connecting"))),!J(this,Wu)&&t!=null&&t.includes("CONNECT")){Ke(this,Wu,!0);for(let e of J(this,bc))e(!0)}else if(J(this,Wu)&&(!t||t==="NO_DEVICES_AVAILABLE")){Ke(this,Wu,!1);for(let e of J(this,bc))e(!1)}},_$=async function(){var t;let{SESSION_RESUMED:e}=ir.SessionState;if(jc().getSessionState()===e&&J(this,Kt).castSrc===((t=k_())==null?void 0:t.media.contentId)){Za.add(J(this,Kt)),Object.entries(J(this,Ya)).forEach(([n,r])=>{J(this,Hi).controller.addEventListener(n,r)});try{await tle(new chrome.cast.media.GetStatusRequest)}catch(n){console.error(n)}J(this,Ya)[ir.RemotePlayerEventType.IS_PAUSED_CHANGED](),J(this,Ya)[ir.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},IT=function(){!ir||J(this,vv)||(Ke(this,vv,!0),A$(J(this,Kt).castOptions),J(this,Kt).textTracks.addEventListener("change",()=>an(this,kr,N1).call(this)),an(this,kr,RT).call(this),Ke(this,Hi,new ir.RemotePlayer),new ir.RemotePlayerController(J(this,Hi)),Ke(this,Ya,{[ir.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:t})=>{t===!0?(Ke(this,rd,"connected"),this.dispatchEvent(new Event("connect"))):(an(this,kr,HD).call(this),Ke(this,rd,"disconnected"),this.dispatchEvent(new Event("disconnect")))},[ir.RemotePlayerEventType.DURATION_CHANGED]:()=>{J(this,Kt).dispatchEvent(new Event("durationchange"))},[ir.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{J(this,Kt).dispatchEvent(new Event("volumechange"))},[ir.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{J(this,Kt).dispatchEvent(new Event("volumechange"))},[ir.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{var t;(t=J(this,kr,Kl))!=null&&t.isMediaLoaded&&J(this,Kt).dispatchEvent(new Event("timeupdate"))},[ir.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{J(this,Kt).dispatchEvent(new Event("resize"))},[ir.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{J(this,Kt).dispatchEvent(new Event(this.paused?"pause":"play"))},[ir.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var t,e;((t=J(this,kr,Kl))==null?void 0:t.playerState)!==chrome.cast.media.PlayerState.PAUSED&&J(this,Kt).dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(e=J(this,kr,Kl))==null?void 0:e.playerState]))},[ir.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{var t;(t=J(this,kr,Kl))!=null&&t.isMediaLoaded&&(await Promise.resolve(),an(this,kr,GD).call(this))}}))},GD=function(){an(this,kr,N1).call(this)},N1=async function(){var t,e,n,r,i;if(!J(this,kr,Kl))return;let s=((e=(t=J(this,Hi).mediaInfo)==null?void 0:t.tracks)!=null?e:[]).filter(({type:p})=>p===chrome.cast.media.TrackType.TEXT),o=[...J(this,Kt).textTracks].filter(({kind:p})=>p==="subtitles"||p==="captions"),a=s.map(({language:p,name:g,trackId:v})=>{var y;let{mode:E}=(y=o.find(S=>S.language===p&&S.label===g))!=null?y:{};return E?{mode:E,trackId:v}:!1}).filter(Boolean),c=a.filter(({mode:p})=>p!=="showing").map(({trackId:p})=>p),u=a.find(({mode:p})=>p==="showing"),h=(i=(r=(n=C_())==null?void 0:n.getSessionObj().media[0])==null?void 0:r.activeTrackIds)!=null?i:[],f=h;if(h.length&&(f=f.filter(p=>!c.includes(p))),u!=null&&u.trackId&&(f=[...f,u.trackId]),f=[...new Set(f)],!((p,g)=>p.length===g.length&&p.every(v=>g.includes(v)))(h,f))try{let p=new chrome.cast.media.EditTracksInfoRequest(f);await ele(p)}catch(p){console.error(p)}};var rle=t=>{var e,n,r,i,s,o,a,c,u;return n=class extends t{constructor(){super(...arguments),at(this,a),at(this,r,{paused:!1}),at(this,i,w$()),at(this,s),at(this,o)}get remote(){return J(this,o)?J(this,o):Zae()?(this.disableRemotePlayback||Jae(),Lc.set(this,{loadOnPrompt:()=>an(this,a,u).call(this)}),Ke(this,o,new nle(this))):super.remote}attributeChangedCallback(h,f,p){if(super.attributeChangedCallback(h,f,p),h==="cast-receiver"&&p){J(this,i).receiverApplicationId=p;return}if(J(this,a,c))switch(h){case"cast-stream-type":case"cast-src":this.load();break}}async load(){var h,f;if(!J(this,a,c))return super.load();let p=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);p.customData=this.castCustomData;let g=[...this.querySelectorAll("track")].filter(({kind:S,src:w})=>w&&(S==="subtitles"||S==="captions")),v=[],y=0;g.length&&(p.tracks=g.map(S=>{let w=++y;v.length===0&&S.track.mode==="showing"&&v.push(w);let T=new chrome.cast.media.Track(w,chrome.cast.media.TrackType.TEXT);return T.trackContentId=S.src,T.trackContentType="text/vtt",T.subtype=S.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,T.name=S.label,T.language=S.srclang,T})),this.castStreamType==="live"?p.streamType=chrome.cast.media.StreamType.LIVE:p.streamType=chrome.cast.media.StreamType.BUFFERED,p.metadata=new chrome.cast.media.GenericMediaMetadata,p.metadata.title=this.title,p.metadata.images=[{url:this.poster}];let E=new chrome.cast.media.LoadRequest(p);E.currentTime=(h=super.currentTime)!=null?h:0,E.autoplay=!J(this,r).paused,E.activeTrackIds=v,await((f=C_())==null?void 0:f.loadMedia(E)),this.dispatchEvent(new Event("volumechange"))}play(){var h;if(J(this,a,c)){J(this,a,c).isPaused&&((h=J(this,a,c).controller)==null||h.playOrPause());return}return super.play()}pause(){var h;if(J(this,a,c)){J(this,a,c).isPaused||(h=J(this,a,c).controller)==null||h.playOrPause();return}super.pause()}get castOptions(){return J(this,i)}get castReceiver(){var h;return(h=this.getAttribute("cast-receiver"))!=null?h:void 0}set castReceiver(h){this.castReceiver!=h&&this.setAttribute("cast-receiver",`${h}`)}get castSrc(){var h,f,p;return(p=(f=this.getAttribute("cast-src"))!=null?f:(h=this.querySelector("source"))==null?void 0:h.src)!=null?p:this.currentSrc}set castSrc(h){this.castSrc!=h&&this.setAttribute("cast-src",`${h}`)}get castContentType(){var h;return(h=this.getAttribute("cast-content-type"))!=null?h:void 0}set castContentType(h){this.setAttribute("cast-content-type",`${h}`)}get castStreamType(){var h,f;return(f=(h=this.getAttribute("cast-stream-type"))!=null?h:this.streamType)!=null?f:void 0}set castStreamType(h){this.setAttribute("cast-stream-type",`${h}`)}get castCustomData(){return J(this,s)}set castCustomData(h){let f=typeof h;if(!["object","undefined"].includes(f)){console.error(`castCustomData must be nullish or an object but value was of type ${f}`);return}Ke(this,s,h)}get readyState(){if(J(this,a,c))switch(J(this,a,c).playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return J(this,a,c)?J(this,a,c).isPaused:super.paused}get muted(){var h;return J(this,a,c)?(h=J(this,a,c))==null?void 0:h.isMuted:super.muted}set muted(h){var f;if(J(this,a,c)){(h&&!J(this,a,c).isMuted||!h&&J(this,a,c).isMuted)&&((f=J(this,a,c).controller)==null||f.muteOrUnmute());return}super.muted=h}get volume(){var h,f;return J(this,a,c)?(f=(h=J(this,a,c))==null?void 0:h.volumeLevel)!=null?f:1:super.volume}set volume(h){var f;if(J(this,a,c)){J(this,a,c).volumeLevel=+h,(f=J(this,a,c).controller)==null||f.setVolumeLevel();return}super.volume=h}get duration(){var h,f,p;return J(this,a,c)&&(h=J(this,a,c))!=null&&h.isMediaLoaded?(p=(f=J(this,a,c))==null?void 0:f.duration)!=null?p:NaN:super.duration}get currentTime(){var h,f,p;return J(this,a,c)&&(h=J(this,a,c))!=null&&h.isMediaLoaded?(p=(f=J(this,a,c))==null?void 0:f.currentTime)!=null?p:0:super.currentTime}set currentTime(h){var f;if(J(this,a,c)){J(this,a,c).currentTime=h,(f=J(this,a,c).controller)==null||f.seek();return}super.currentTime=h}},r=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakSet,c=function(){var h,f;return(f=(h=Lc.get(this.remote))==null?void 0:h.getCastPlayer)==null?void 0:f.call(h)},u=async function(){J(this,r).paused=D1(n.prototype,this,"paused"),D1(n.prototype,this,"pause").call(this),this.muted=D1(n.prototype,this,"muted");try{await this.load()}catch(h){console.error(h)}},Yt(n,"observedAttributes",[...(e=t.observedAttributes)!=null?e:[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"]),n},$b=class extends Event{constructor(e,n){super(e),Yt(this,"track"),this.track=n.track}},LT=new WeakMap;function Ne(t){var e;return(e=LT.get(t))!=null?e:ile(t,{})}function ile(t,e){let n=LT.get(t);return n||LT.set(t,n={}),Object.assign(n,e)}function DT(t,e){let n=t.videoTracks;Ne(e).media=t,Ne(e).renditionSet||(Ne(e).renditionSet=new Set);let r=Ne(n).trackSet;r.add(e);let i=r.size-1;i in MT.prototype||Object.defineProperty(MT.prototype,i,{get(){return[...Ne(this).trackSet][i]}}),queueMicrotask(()=>{n.dispatchEvent(new $b("addtrack",{track:e}))})}function PT(t){var e;let n=(e=Ne(t).media)==null?void 0:e.videoTracks;n&&(Ne(n).trackSet.delete(t),queueMicrotask(()=>{n.dispatchEvent(new $b("removetrack",{track:t}))}))}function sle(t){var e;let n=(e=Ne(t).media.videoTracks)!=null?e:[],r=!1;for(let i of n)i!==t&&(i.selected=!1,r=!0);if(r){if(Ne(n).changeRequested)return;Ne(n).changeRequested=!0,queueMicrotask(()=>{delete Ne(n).changeRequested,n.dispatchEvent(new Event("change"))})}}var zl,Yl,ql,Hu,Cf,MT=class extends EventTarget{constructor(){super(),at(this,Hu),at(this,zl),at(this,Yl),at(this,ql),Ne(this).trackSet=new Set}[Symbol.iterator](){return J(this,Hu,Cf).values()}get length(){return J(this,Hu,Cf).size}getTrackById(e){var n;return(n=[...J(this,Hu,Cf)].find(r=>r.id===e))!=null?n:null}get selectedIndex(){return[...J(this,Hu,Cf)].findIndex(e=>e.selected)}get onaddtrack(){return J(this,zl)}set onaddtrack(e){J(this,zl)&&(this.removeEventListener("addtrack",J(this,zl)),Ke(this,zl,void 0)),typeof e=="function"&&(Ke(this,zl,e),this.addEventListener("addtrack",e))}get onremovetrack(){return J(this,Yl)}set onremovetrack(e){J(this,Yl)&&(this.removeEventListener("removetrack",J(this,Yl)),Ke(this,Yl,void 0)),typeof e=="function"&&(Ke(this,Yl,e),this.addEventListener("removetrack",e))}get onchange(){return J(this,ql)}set onchange(e){J(this,ql)&&(this.removeEventListener("change",J(this,ql)),Ke(this,ql,void 0)),typeof e=="function"&&(Ke(this,ql,e),this.addEventListener("change",e))}};zl=new WeakMap,Yl=new WeakMap,ql=new WeakMap,Hu=new WeakSet,Cf=function(){return Ne(this).trackSet};var Fb=class extends Event{constructor(e,n){super(e),Yt(this,"rendition"),this.rendition=n.rendition}};function ole(t,e){let n=Ne(t).media.videoRenditions;Ne(e).media=Ne(t).media,Ne(e).track=t;let r=Ne(t).renditionSet;r.add(e);let i=r.size-1;i in OT.prototype||Object.defineProperty(OT.prototype,i,{get(){return Gu(this)[i]}}),queueMicrotask(()=>{t.selected&&n.dispatchEvent(new Fb("addrendition",{rendition:e}))})}function ale(t){let e=Ne(t).media.videoRenditions,n=Ne(t).track;Ne(n).renditionSet.delete(t),queueMicrotask(()=>{Ne(t).track.selected&&e.dispatchEvent(new Fb("removerendition",{rendition:t}))})}function lle(t){let e=Ne(t).media.videoRenditions;!e||Ne(e).changeRequested||(Ne(e).changeRequested=!0,queueMicrotask(()=>{delete Ne(e).changeRequested,Ne(t).track.selected&&e.dispatchEvent(new Event("change"))}))}function Gu(t){return[...Ne(t).media.videoTracks].filter(e=>e.selected).flatMap(e=>[...Ne(e).renditionSet])}var Xl,Ql,Zl,OT=class extends EventTarget{constructor(){super(...arguments),at(this,Xl),at(this,Ql),at(this,Zl)}[Symbol.iterator](){return Gu(this).values()}get length(){return Gu(this).length}getRenditionById(e){var n;return(n=Gu(this).find(r=>`${r.id}`==`${e}`))!=null?n:null}get selectedIndex(){return Gu(this).findIndex(e=>e.selected)}set selectedIndex(e){for(let[n,r]of Gu(this).entries())r.selected=n===e}get onaddrendition(){return J(this,Xl)}set onaddrendition(e){J(this,Xl)&&(this.removeEventListener("addrendition",J(this,Xl)),Ke(this,Xl,void 0)),typeof e=="function"&&(Ke(this,Xl,e),this.addEventListener("addrendition",e))}get onremoverendition(){return J(this,Ql)}set onremoverendition(e){J(this,Ql)&&(this.removeEventListener("removerendition",J(this,Ql)),Ke(this,Ql,void 0)),typeof e=="function"&&(Ke(this,Ql,e),this.addEventListener("removerendition",e))}get onchange(){return J(this,Zl)}set onchange(e){J(this,Zl)&&(this.removeEventListener("change",J(this,Zl)),Ke(this,Zl,void 0)),typeof e=="function"&&(Ke(this,Zl,e),this.addEventListener("change",e))}};Xl=new WeakMap,Ql=new WeakMap,Zl=new WeakMap;var kf,cle=class{constructor(){Yt(this,"src"),Yt(this,"id"),Yt(this,"width"),Yt(this,"height"),Yt(this,"bitrate"),Yt(this,"frameRate"),Yt(this,"codec"),at(this,kf,!1)}get selected(){return J(this,kf)}set selected(e){J(this,kf)!==e&&(Ke(this,kf,e),lle(this))}};kf=new WeakMap;var Rf,C$=class{constructor(){Yt(this,"id"),Yt(this,"kind"),Yt(this,"label",""),Yt(this,"language",""),Yt(this,"sourceBuffer"),at(this,Rf,!1)}addRendition(e,n,r,i,s,o){let a=new cle;return a.src=e,a.width=n,a.height=r,a.frameRate=o,a.bitrate=s,a.codec=i,ole(this,a),a}removeRendition(e){ale(e)}get selected(){return J(this,Rf)}set selected(e){J(this,Rf)!==e&&(Ke(this,Rf,e),e===!0&&sle(this))}};Rf=new WeakMap;function ule(t,e){let n=Ne(t).media.audioRenditions;Ne(e).media=Ne(t).media,Ne(e).track=t;let r=Ne(t).renditionSet;r.add(e);let i=r.size-1;i in NT.prototype||Object.defineProperty(NT.prototype,i,{get(){return Ku(this)[i]}}),queueMicrotask(()=>{t.enabled&&n.dispatchEvent(new Fb("addrendition",{rendition:e}))})}function dle(t){let e=Ne(t).media.audioRenditions,n=Ne(t).track;Ne(n).renditionSet.delete(t),queueMicrotask(()=>{Ne(t).track.enabled&&e.dispatchEvent(new Fb("removerendition",{rendition:t}))})}function hle(t){let e=Ne(t).media.audioRenditions;!e||Ne(e).changeRequested||(Ne(e).changeRequested=!0,queueMicrotask(()=>{delete Ne(e).changeRequested,Ne(t).track.enabled&&e.dispatchEvent(new Event("change"))}))}function Ku(t){return[...Ne(t).media.audioTracks].filter(e=>e.enabled).flatMap(e=>[...Ne(e).renditionSet])}var Jl,ec,tc,NT=class extends EventTarget{constructor(){super(...arguments),at(this,Jl),at(this,ec),at(this,tc)}[Symbol.iterator](){return Ku(this).values()}get length(){return Ku(this).length}getRenditionById(e){var n;return(n=Ku(this).find(r=>`${r.id}`==`${e}`))!=null?n:null}get selectedIndex(){return Ku(this).findIndex(e=>e.selected)}set selectedIndex(e){for(let[n,r]of Ku(this).entries())r.selected=n===e}get onaddrendition(){return J(this,Jl)}set onaddrendition(e){J(this,Jl)&&(this.removeEventListener("addrendition",J(this,Jl)),Ke(this,Jl,void 0)),typeof e=="function"&&(Ke(this,Jl,e),this.addEventListener("addrendition",e))}get onremoverendition(){return J(this,ec)}set onremoverendition(e){J(this,ec)&&(this.removeEventListener("removerendition",J(this,ec)),Ke(this,ec,void 0)),typeof e=="function"&&(Ke(this,ec,e),this.addEventListener("removerendition",e))}get onchange(){return J(this,tc)}set onchange(e){J(this,tc)&&(this.removeEventListener("change",J(this,tc)),Ke(this,tc,void 0)),typeof e=="function"&&(Ke(this,tc,e),this.addEventListener("change",e))}};Jl=new WeakMap,ec=new WeakMap,tc=new WeakMap;var If,fle=class{constructor(){Yt(this,"src"),Yt(this,"id"),Yt(this,"bitrate"),Yt(this,"codec"),at(this,If,!1)}get selected(){return J(this,If)}set selected(t){J(this,If)!==t&&(Ke(this,If,t),hle(this))}};If=new WeakMap;function $T(t,e){let n=t.audioTracks;Ne(e).media=t,Ne(e).renditionSet||(Ne(e).renditionSet=new Set);let r=Ne(n).trackSet;r.add(e);let i=r.size-1;i in BT.prototype||Object.defineProperty(BT.prototype,i,{get(){return[...Ne(this).trackSet][i]}}),queueMicrotask(()=>{n.dispatchEvent(new $b("addtrack",{track:e}))})}function FT(t){var e;let n=(e=Ne(t).media)==null?void 0:e.audioTracks;n&&(Ne(n).trackSet.delete(t),queueMicrotask(()=>{n.dispatchEvent(new $b("removetrack",{track:t}))}))}function ple(t){let e=Ne(t).media.audioTracks;!e||Ne(e).changeRequested||(Ne(e).changeRequested=!0,queueMicrotask(()=>{delete Ne(e).changeRequested,e.dispatchEvent(new Event("change"))}))}var nc,rc,ic,Lf,yv,BT=class extends EventTarget{constructor(){super(),at(this,Lf),at(this,nc),at(this,rc),at(this,ic),Ne(this).trackSet=new Set}[Symbol.iterator](){return J(this,Lf,yv).values()}get length(){return J(this,Lf,yv).size}getTrackById(e){var n;return(n=[...J(this,Lf,yv)].find(r=>r.id===e))!=null?n:null}get onaddtrack(){return J(this,nc)}set onaddtrack(e){J(this,nc)&&(this.removeEventListener("addtrack",J(this,nc)),Ke(this,nc,void 0)),typeof e=="function"&&(Ke(this,nc,e),this.addEventListener("addtrack",e))}get onremovetrack(){return J(this,rc)}set onremovetrack(e){J(this,rc)&&(this.removeEventListener("removetrack",J(this,rc)),Ke(this,rc,void 0)),typeof e=="function"&&(Ke(this,rc,e),this.addEventListener("removetrack",e))}get onchange(){return J(this,ic)}set onchange(e){J(this,ic)&&(this.removeEventListener("change",J(this,ic)),Ke(this,ic,void 0)),typeof e=="function"&&(Ke(this,ic,e),this.addEventListener("change",e))}};nc=new WeakMap,rc=new WeakMap,ic=new WeakMap,Lf=new WeakSet,yv=function(){return Ne(this).trackSet};var Df,k$=class{constructor(){Yt(this,"id"),Yt(this,"kind"),Yt(this,"label",""),Yt(this,"language",""),Yt(this,"sourceBuffer"),at(this,Df,!1)}addRendition(e,n,r){let i=new fle;return i.src=e,i.codec=n,i.bitrate=r,ule(this,i),i}removeRendition(e){dle(e)}get enabled(){return J(this,Df)}set enabled(e){J(this,Df)!==e&&(Ke(this,Df,e),ple(this))}};Df=new WeakMap;var KD=Uy(globalThis.HTMLMediaElement,"video"),zD=Uy(globalThis.HTMLMediaElement,"audio");function mle(t){if(!(t!=null&&t.prototype))return t;let e=Uy(t,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return gle(this)}});let n=Uy(t,"audio");(!n||`${n}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return vle(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(s,o="",a=""){let c=new C$;return c.kind=s,c.label=o,c.language=a,DT(this,c),c}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=PT),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(s,o="",a=""){let c=new k$;return c.kind=s,c.label=o,c.language=a,$T(this,c),c}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=FT),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return r(this)}});let r=s=>{let o=Ne(s).videoRenditions;return o||(o=new OT,Ne(o).media=s,Ne(s).videoRenditions=o),o};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return i(this)}});let i=s=>{let o=Ne(s).audioRenditions;return o||(o=new NT,Ne(o).media=s,Ne(s).audioRenditions=o),o};return t}function Uy(t,e){var n;if(t!=null&&t.prototype)return(n=Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`))==null?void 0:n.get}function gle(t){var e;let n=Ne(t).videoTracks;if(!n&&(n=new MT,Ne(t).videoTracks=n,KD)){let r=KD.call((e=t.nativeEl)!=null?e:t);for(let i of r)DT(t,i);r.addEventListener("change",()=>{n.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",i=>{if([...n].some(s=>s instanceof C$)){for(let s of r)PT(s);return}DT(t,i.track)}),r.addEventListener("removetrack",i=>{PT(i.track)})}return n}function vle(t){var e;let n=Ne(t).audioTracks;if(!n&&(n=new BT,Ne(t).audioTracks=n,zD)){let r=zD.call((e=t.nativeEl)!=null?e:t);for(let i of r)$T(t,i);r.addEventListener("change",()=>{n.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",i=>{if([...n].some(s=>s instanceof k$)){for(let s of r)FT(s);return}$T(t,i.track)}),r.addEventListener("removetrack",i=>{FT(i.track)})}return n}__.push("castchange","entercast","leavecast");var oe={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},yle=Object.values(oe),YD=Hae(),qD="mux-video",Js,Pf,bv,Mf,Ev,xv,Sv,Tv,Av,Of,wv,ble=class extends M1{constructor(){super(),at(this,Of),at(this,Js),at(this,Pf),at(this,bv),at(this,Mf,{}),at(this,Ev,{}),at(this,xv),at(this,Sv),at(this,Tv),at(this,Av),Ke(this,bv,n_())}static get NAME(){return qD}static get VERSION(){return YD}static get observedAttributes(){var t;return[...yle,...(t=M1.observedAttributes)!=null?t:[]]}get preferCmcd(){var t;return(t=this.getAttribute(oe.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?wy.includes(t)?this.setAttribute(oe.PREFER_CMCD,t):console.warn(`Invalid value for preferCmcd. Must be one of ${wy.join()}`):this.removeAttribute(oe.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(oe.PLAYER_INIT_TIME)?+this.getAttribute(oe.PLAYER_INIT_TIME):J(this,bv)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(oe.PLAYER_INIT_TIME):this.setAttribute(oe.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=J(this,Tv))!=null?t:qD}set playerSoftwareName(t){Ke(this,Tv,t)}get playerSoftwareVersion(){var t;return(t=J(this,Sv))!=null?t:YD}set playerSoftwareVersion(t){Ke(this,Sv,t)}get _hls(){var t;return(t=J(this,Js))==null?void 0:t.engine}get mux(){var t;return(t=this.nativeEl)==null?void 0:t.mux}get error(){var t;return(t=O5(this.nativeEl))!=null?t:null}get errorTranslator(){return J(this,Av)}set errorTranslator(t){Ke(this,Av,t)}get src(){return this.getAttribute("src")}set src(t){t!==this.src&&(t==null?this.removeAttribute("src"):this.setAttribute("src",t))}get type(){var t;return(t=this.getAttribute(oe.TYPE))!=null?t:void 0}set type(t){t!==this.type&&(t?this.setAttribute(oe.TYPE,t):this.removeAttribute(oe.TYPE))}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let e=this.autoplay;t!==e&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get preload(){let t=this.getAttribute("preload");return t===""?"auto":["none","metadata","auto"].includes(t)?t:super.preload}set preload(t){t!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(t)?this.setAttribute("preload",t):this.removeAttribute("preload"))}get debug(){return this.getAttribute(oe.DEBUG)!=null}set debug(t){t!==this.debug&&(t?this.setAttribute(oe.DEBUG,""):this.removeAttribute(oe.DEBUG))}get disableTracking(){return this.hasAttribute(oe.DISABLE_TRACKING)}set disableTracking(t){t!==this.disableTracking&&this.toggleAttribute(oe.DISABLE_TRACKING,!!t)}get disableCookies(){return this.hasAttribute(oe.DISABLE_COOKIES)}set disableCookies(t){t!==this.disableCookies&&(t?this.setAttribute(oe.DISABLE_COOKIES,""):this.removeAttribute(oe.DISABLE_COOKIES))}get startTime(){let t=this.getAttribute(oe.START_TIME);if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}set startTime(t){t!==this.startTime&&(t==null?this.removeAttribute(oe.START_TIME):this.setAttribute(oe.START_TIME,`${t}`))}get playbackId(){var t;return this.hasAttribute(oe.PLAYBACK_ID)?this.getAttribute(oe.PLAYBACK_ID):(t=M5(this.src))!=null?t:void 0}set playbackId(t){t!==this.playbackId&&(t?this.setAttribute(oe.PLAYBACK_ID,t):this.removeAttribute(oe.PLAYBACK_ID))}get maxResolution(){var t;return(t=this.getAttribute(oe.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(oe.MAX_RESOLUTION,t):this.removeAttribute(oe.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(oe.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(oe.MIN_RESOLUTION,t):this.removeAttribute(oe.MIN_RESOLUTION))}get renditionOrder(){var t;return(t=this.getAttribute(oe.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(oe.RENDITION_ORDER,t):this.removeAttribute(oe.RENDITION_ORDER))}get programStartTime(){let t=this.getAttribute(oe.PROGRAM_START_TIME);if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}set programStartTime(t){t==null?this.removeAttribute(oe.PROGRAM_START_TIME):this.setAttribute(oe.PROGRAM_START_TIME,`${t}`)}get programEndTime(){let t=this.getAttribute(oe.PROGRAM_END_TIME);if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}set programEndTime(t){t==null?this.removeAttribute(oe.PROGRAM_END_TIME):this.setAttribute(oe.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){let t=this.getAttribute(oe.ASSET_START_TIME);if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}set assetStartTime(t){t==null?this.removeAttribute(oe.ASSET_START_TIME):this.setAttribute(oe.ASSET_START_TIME,`${t}`)}get assetEndTime(){let t=this.getAttribute(oe.ASSET_END_TIME);if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}set assetEndTime(t){t==null?this.removeAttribute(oe.ASSET_END_TIME):this.setAttribute(oe.ASSET_END_TIME,`${t}`)}get customDomain(){var t;return(t=this.getAttribute(oe.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(oe.CUSTOM_DOMAIN,t):this.removeAttribute(oe.CUSTOM_DOMAIN))}get drmToken(){var t;return(t=this.getAttribute(oe.DRM_TOKEN))!=null?t:void 0}set drmToken(t){t!==this.drmToken&&(t?this.setAttribute(oe.DRM_TOKEN,t):this.removeAttribute(oe.DRM_TOKEN))}get playbackToken(){var t,e,n,r;if(this.hasAttribute(oe.PLAYBACK_TOKEN))return(t=this.getAttribute(oe.PLAYBACK_TOKEN))!=null?t:void 0;if(this.hasAttribute(oe.PLAYBACK_ID)){let[,i]=Zw((e=this.playbackId)!=null?e:"");return(n=new URLSearchParams(i).get("token"))!=null?n:void 0}if(this.src)return(r=new URLSearchParams(this.src).get("token"))!=null?r:void 0}set playbackToken(t){t!==this.playbackToken&&(t?this.setAttribute(oe.PLAYBACK_TOKEN,t):this.removeAttribute(oe.PLAYBACK_TOKEN))}get tokens(){let t=this.getAttribute(oe.PLAYBACK_TOKEN),e=this.getAttribute(oe.DRM_TOKEN);return{...J(this,Ev),...t!=null?{playback:t}:{},...e!=null?{drm:e}:{}}}set tokens(t){Ke(this,Ev,t??{})}get ended(){return F5(this.nativeEl,this._hls)}get envKey(){var t;return(t=this.getAttribute(oe.ENV_KEY))!=null?t:void 0}set envKey(t){t!==this.envKey&&(t?this.setAttribute(oe.ENV_KEY,t):this.removeAttribute(oe.ENV_KEY))}get beaconCollectionDomain(){var t;return(t=this.getAttribute(oe.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(oe.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(oe.BEACON_COLLECTION_DOMAIN))}get streamType(){var t;return(t=this.getAttribute(oe.STREAM_TYPE))!=null?t:rT(this.nativeEl)}set streamType(t){t!==this.streamType&&(t?this.setAttribute(oe.STREAM_TYPE,t):this.removeAttribute(oe.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(oe.TARGET_LIVE_WINDOW)?+this.getAttribute(oe.TARGET_LIVE_WINDOW):Vie(this.nativeEl)}set targetLiveWindow(t){t!=this.targetLiveWindow&&(t==null?this.removeAttribute(oe.TARGET_LIVE_WINDOW):this.setAttribute(oe.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t,e;if(this.hasAttribute(oe.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,r=(t=this.nativeEl.seekable.end(0))!=null?t:0,i=(e=this.nativeEl.seekable.start(0))!=null?e:0;return Math.max(i,r-n)}return Wie(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(oe.LIVE_EDGE_OFFSET))return+this.getAttribute(oe.LIVE_EDGE_OFFSET)}set liveEdgeOffset(t){t!=this.liveEdgeOffset&&(t==null?this.removeAttribute(oe.LIVE_EDGE_OFFSET):this.setAttribute(oe.LIVE_EDGE_OFFSET,`${+t}`))}get seekable(){return r_(this.nativeEl)}async addCuePoints(t){return _5(this.nativeEl,t)}get activeCuePoint(){return C5(this.nativeEl)}get cuePoints(){return bie(this.nativeEl)}async addChapters(t){return R5(this.nativeEl,t)}get activeChapter(){return I5(this.nativeEl)}get chapters(){return xie(this.nativeEl)}getStartDate(){return Tie(this.nativeEl,this._hls)}get currentPdt(){return Aie(this.nativeEl,this._hls)}get preferPlayback(){let t=this.getAttribute(oe.PREFER_PLAYBACK);if(t===fo.MSE||t===fo.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===fo.MSE||t===fo.NATIVE?this.setAttribute(oe.PREFER_PLAYBACK,t):this.removeAttribute(oe.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(t=>t.startsWith("metadata-")&&![oe.METADATA_URL].includes(t)).reduce((t,e)=>{let n=this.getAttribute(e);return n!=null&&(t[e.replace(/^metadata-/,"").replace(/-/g,"_")]=n),t},{}),...J(this,Mf)}}set metadata(t){Ke(this,Mf,t??{}),this.mux&&this.mux.emit("hb",J(this,Mf))}get _hlsConfig(){return J(this,xv)}set _hlsConfig(t){Ke(this,xv,t)}load(){Ke(this,Js,Kie(this,this.nativeEl,J(this,Js)))}unload(){B5(this.nativeEl,J(this,Js)),Ke(this,Js,void 0)}attributeChangedCallback(t,e,n){var r,i;switch(M1.observedAttributes.includes(t)&&!["src","autoplay","preload"].includes(t)&&super.attributeChangedCallback(t,e,n),t){case oe.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n??void 0;break;case oe.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n??void 0;break;case"src":{let s=!!e,o=!!n;!s&&o?an(this,Of,wv).call(this):s&&!o?this.unload():s&&o&&(this.unload(),an(this,Of,wv).call(this));break}case"autoplay":if(n===e)break;(r=J(this,Js))==null||r.setAutoplay(this.autoplay);break;case"preload":if(n===e)break;(i=J(this,Js))==null||i.setPreload(n);break;case oe.PLAYBACK_ID:this.src=nT(this);break;case oe.DEBUG:{let s=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=s);break}case oe.METADATA_URL:n&&fetch(n).then(s=>s.json()).then(s=>this.metadata=s).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case oe.STREAM_TYPE:(n==null||n!==e)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case oe.TARGET_LIVE_WINDOW:(n==null||n!==e)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break}}connectedCallback(){var t;(t=super.connectedCallback)==null||t.call(this),this.nativeEl&&this.src&&!J(this,Js)&&an(this,Of,wv).call(this)}disconnectedCallback(){this.unload()}};Js=new WeakMap,Pf=new WeakMap,bv=new WeakMap,Mf=new WeakMap,Ev=new WeakMap,xv=new WeakMap,Sv=new WeakMap,Tv=new WeakMap,Av=new WeakMap,Of=new WeakSet,wv=async function(){J(this,Pf)||(await Ke(this,Pf,Promise.resolve()),Ke(this,Pf,null),this.load())};var _v,UT=class extends rle(mle(ble)){constructor(){super(...arguments),at(this,_v)}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var e;return(e=J(this,_v))!=null?e:this.muxCastCustomData}set castCustomData(e){Ke(this,_v,e)}};_v=new WeakMap;P1.customElements.get("mux-video")||(P1.customElements.define("mux-video",UT),P1.MuxVideoElement=UT);var Ele=UT,R$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xt=(t,e,n)=>(R$(t,e,"read from private field"),n?n.call(t):e.get(t)),lo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Jo=(t,e,n,r)=>(R$(t,e,"write to private field"),e.set(t,n),n),zu,Cv,sc,Nf,Va,Wa,Ha,oc,Yu,kv,gs;const XD=1,QD=0,xle=1,Sle={processCallback(t,e,n){if(n){for(const[r,i]of e)if(r in n){const s=n[r];typeof s=="boolean"&&i instanceof Is&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=s:typeof s=="function"&&i instanceof Is?i.element[i.attributeName]=s:i.value=s}}}};class Bb extends ne.DocumentFragment{constructor(e,n,r=Sle){var i;super(),lo(this,zu,void 0),lo(this,Cv,void 0),this.append(e.content.cloneNode(!0)),Jo(this,zu,I$(this)),Jo(this,Cv,r),(i=r.createCallback)==null||i.call(r,this,xt(this,zu),n),r.processCallback(this,xt(this,zu),n)}update(e){xt(this,Cv).processCallback(this,xt(this,zu),e)}}zu=new WeakMap;Cv=new WeakMap;const I$=(t,e=[])=>{let n,r;for(const i of t.attributes||[])if(i.value.includes("{{")){const s=new Ale;for([n,r]of JD(i.value))if(!n)s.append(r);else{const o=new Is(t,i.name,i.namespaceURI);s.append(o),e.push([r,o])}i.value=s.toString()}for(const i of t.childNodes)if(i.nodeType===XD&&!(i instanceof HTMLTemplateElement))I$(i,e);else{const s=i.data;if(i.nodeType===XD||s.includes("{{")){const o=[];if(s)for([n,r]of JD(s))if(!n)o.push(new Text(r));else{const a=new Qd(t);o.push(a),e.push([r,a])}else if(i instanceof HTMLTemplateElement){const a=new P$(t,i);o.push(a),e.push([a.expression,a])}i.replaceWith(...o.flatMap(a=>a.replacementNodes||[a]))}}return e},ZD={},JD=t=>{let e="",n=0,r=ZD[t],i=0,s;if(r)return r;for(r=[];s=t[i];i++)s==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++n==1?(e&&r.push([QD,e]),e="",i++):s==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--n?(r.push([xle,e.trim()]),e="",i++):e+=s||"";return e&&r.push([QD,(n>0?"{{":"")+e]),ZD[t]=r},Tle=11;class L${get value(){return""}set value(e){}toString(){return this.value}}const D$=new WeakMap;class Ale{constructor(){lo(this,sc,[])}[Symbol.iterator](){return xt(this,sc).values()}get length(){return xt(this,sc).length}item(e){return xt(this,sc)[e]}append(...e){for(const n of e)n instanceof Is&&D$.set(n,this),xt(this,sc).push(n)}toString(){return xt(this,sc).join("")}}sc=new WeakMap;class Is extends L${constructor(e,n,r){super(),lo(this,oc),lo(this,Nf,""),lo(this,Va,void 0),lo(this,Wa,void 0),lo(this,Ha,void 0),Jo(this,Va,e),Jo(this,Wa,n),Jo(this,Ha,r)}get attributeName(){return xt(this,Wa)}get attributeNamespace(){return xt(this,Ha)}get element(){return xt(this,Va)}get value(){return xt(this,Nf)}set value(e){xt(this,Nf)!==e&&(Jo(this,Nf,e),!xt(this,oc,Yu)||xt(this,oc,Yu).length===1?e==null?xt(this,Va).removeAttributeNS(xt(this,Ha),xt(this,Wa)):xt(this,Va).setAttributeNS(xt(this,Ha),xt(this,Wa),e):xt(this,Va).setAttributeNS(xt(this,Ha),xt(this,Wa),xt(this,oc,Yu).toString()))}get booleanValue(){return xt(this,Va).hasAttributeNS(xt(this,Ha),xt(this,Wa))}set booleanValue(e){if(!xt(this,oc,Yu)||xt(this,oc,Yu).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}Nf=new WeakMap;Va=new WeakMap;Wa=new WeakMap;Ha=new WeakMap;oc=new WeakSet;Yu=function(){return D$.get(this)};class Qd extends L${constructor(e,n){super(),lo(this,kv,void 0),lo(this,gs,void 0),Jo(this,kv,e),Jo(this,gs,n?[...n]:[new Text])}get replacementNodes(){return xt(this,gs)}get parentNode(){return xt(this,kv)}get nextSibling(){return xt(this,gs)[xt(this,gs).length-1].nextSibling}get previousSibling(){return xt(this,gs)[0].previousSibling}get value(){return xt(this,gs).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const n=e.flat().flatMap(r=>r==null?[new Text]:r.forEach?[...r]:r.nodeType===Tle?[...r.childNodes]:r.nodeType?[r]:[new Text(r)]);n.length||n.push(new Text),Jo(this,gs,wle(xt(this,gs)[0].parentNode,xt(this,gs),n,this.nextSibling))}}kv=new WeakMap;gs=new WeakMap;class P$ extends Qd{constructor(e,n){const r=n.getAttribute("directive")||n.getAttribute("type");let i=n.getAttribute("expression")||n.getAttribute(r)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),this.expression=i,this.template=n,this.directive=r}}function wle(t,e,n,r=null){let i=0,s,o,a,c=n.length,u=e.length;for(;i<c&&i<u&&e[i]==n[i];)i++;for(;i<c&&i<u&&n[c-1]==e[u-1];)r=n[--u,--c];if(i==u)for(;i<c;)t.insertBefore(n[i++],r);if(i==c)for(;i<u;)t.removeChild(e[i++]);else{for(s=e[i];i<c;)a=n[i++],o=s?s.nextSibling:r,s==a?s=o:i<c&&n[i]==o?(t.replaceChild(a,s),s=o):t.insertBefore(a,s);for(;s!=r;)o=s.nextSibling,t.removeChild(s),s=o}return n}const eP={string:t=>String(t)};class M${constructor(e){this.template=e,this.state=void 0}}const Ec=new WeakMap,xc=new WeakMap,jT={partial:(t,e)=>{e[t.expression]=new M$(t.template)},if:(t,e)=>{var n;if(O$(t.expression,e))if(Ec.get(t)!==t.template){Ec.set(t,t.template);const r=new Bb(t.template,e,R_);t.replace(r),xc.set(t,r)}else(n=xc.get(t))==null||n.update(e);else t.replace(""),Ec.delete(t),xc.delete(t)}},_le=Object.keys(jT),R_={processCallback(t,e,n){var r,i;if(n)for(const[s,o]of e){if(o instanceof P$){if(!o.directive){const c=_le.find(u=>o.template.hasAttribute(u));c&&(o.directive=c,o.expression=o.template.getAttribute(c))}(r=jT[o.directive])==null||r.call(jT,o,n);continue}let a=O$(s,n);if(a instanceof M$){Ec.get(o)!==a.template?(Ec.set(o,a.template),a=new Bb(a.template,a.state,R_),o.value=a,xc.set(o,a)):(i=xc.get(o))==null||i.update(a.state);continue}a?(o instanceof Is&&o.attributeName.startsWith("aria-")&&(a=String(a)),o instanceof Is?typeof a=="boolean"?o.booleanValue=a:typeof a=="function"?o.element[o.attributeName]=a:o.value=a:(o.value=a,Ec.delete(o),xc.delete(o))):o instanceof Is?o.value=void 0:(o.value=void 0,Ec.delete(o),xc.delete(o))}}},tP={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var n;return(n=eP[e])==null?void 0:n.call(eP,t)}};function Cle(t){return kle(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function O$(t,e={}){var n,r,i,s,o,a,c;const u=Cle(t);if(u.length===0||u.some(({type:h})=>!h))return sf(t);if(((n=u[0])==null?void 0:n.token)===">"){const h=e[(r=u[1])==null?void 0:r.token];if(!h)return sf(t);const f={...e};h.state=f;const p=u.slice(2);for(let g=0;g<p.length;g+=3){const v=(i=p[g])==null?void 0:i.token,y=(s=p[g+1])==null?void 0:s.token,E=(o=p[g+2])==null?void 0:o.token;v&&y==="="&&(f[v]=of(E,e))}return h}if(u.length===1)return p0(u[0])?of(u[0].token,e):sf(t);if(u.length===2){const h=(a=u[0])==null?void 0:a.token,f=tP[h];if(!f||!p0(u[1]))return sf(t);const p=of(u[1].token,e);return f(p)}if(u.length===3){const h=(c=u[1])==null?void 0:c.token,f=tP[h];if(!f||!p0(u[0])||!p0(u[2]))return sf(t);const p=of(u[0].token,e);if(h==="|")return f(p,u[2].token);const g=of(u[2].token,e);return f(p,g)}}function sf(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function p0({type:t}){return["number","boolean","string","param"].includes(t)}function of(t,e){const n=t[0],r=t.slice(-1);return t==="true"||t==="false"?t==="true":n===r&&["'",'"'].includes(n)?t.slice(1,-1):Y5(t)?parseFloat(t):e[t]}function kle(t,e){let n,r,i;const s=[];for(;t;){i=null,n=t.length;for(const o in e)r=e[o].exec(t),r&&r.index<n&&(i={token:r[0],type:o,matches:r.slice(1)},n=r.index);n&&s.push({token:t.substr(0,n),type:void 0}),i&&s.push(i),t=t.substr(n+(i?i.token.length:0))}return s}var I_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},VT=(t,e,n)=>(I_(t,e,"read from private field"),n?n.call(t):e.get(t)),af=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Sc=(t,e,n,r)=>(I_(t,e,"write to private field"),e.set(t,n),n),$1=(t,e,n)=>(I_(t,e,"access private method"),n),gd,Rv,vd,WT,N$,Iv,HT;const F1={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},$$=Xe.createElement("template");$$.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class Ub extends ne.HTMLElement{constructor(){super(),af(this,WT),af(this,Iv),af(this,gd,void 0),af(this,Rv,void 0),af(this,vd,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(n=>{var r;this.mediaController&&!((r=this.mediaController)!=null&&r.breakpointsComputed)||n.some(i=>{const s=i.target;return s===this?!0:s.localName!=="media-controller"?!1:!!(F1[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(Gc.BREAKPOINTS_COMPUTED,this.render),$1(this,WT,N$).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=VT(this,gd))!=null?e:this.constructor.template}set template(e){Sc(this,vd,null),Sc(this,gd,e),this.createRenderer()}get props(){var e,n,r;const i=[...Array.from((n=(e=this.mediaController)==null?void 0:e.attributes)!=null?n:[]).filter(({name:o})=>F1[o]||o.startsWith("breakpoint")),...Array.from(this.attributes)],s={};for(const o of i){const a=(r=F1[o.name])!=null?r:mse(o.name);let{value:c}=o;c!=null?(Y5(c)&&(c=parseFloat(c)),s[a]=c===""?!0:c):s[a]=!1}return s}attributeChangedCallback(e,n,r){e==="template"&&n!=r&&$1(this,Iv,HT).call(this)}connectedCallback(){$1(this,Iv,HT).call(this)}createRenderer(){this.template&&this.template!==VT(this,Rv)&&(Sc(this,Rv,this.template),this.renderer=new Bb(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append($$.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}gd=new WeakMap;Rv=new WeakMap;vd=new WeakMap;WT=new WeakSet;N$=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};Iv=new WeakSet;HT=function(){var t;const e=this.getAttribute("template");if(!e||e===VT(this,vd))return;const n=this.getRootNode(),r=(t=n==null?void 0:n.getElementById)==null?void 0:t.call(n,e);if(r){Sc(this,vd,e),Sc(this,gd,r),this.createRenderer();return}Rle(e)&&(Sc(this,vd,e),Ile(e).then(i=>{const s=Xe.createElement("template");s.innerHTML=i,Sc(this,gd,s),this.createRenderer()}).catch(console.error))};Ub.observedAttributes=["template"];Ub.processor=R_;function Rle(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function Ile(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}ne.customElements.get("media-theme")||ne.customElements.define("media-theme",Ub);function Lle({anchor:t,floating:e,placement:n}){const r=Dle({anchor:t,floating:e}),{x:i,y:s}=Mle(r,n);return{x:i,y:s}}function Dle({anchor:t,floating:e}){return{anchor:Ple(t,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function Ple(t,e){var n;const r=t.getBoundingClientRect(),i=(n=e==null?void 0:e.getBoundingClientRect())!=null?n:{x:0,y:0};return{x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}function Mle({anchor:t,floating:e},n){const r=Ole(n)==="x"?"y":"x",i=r==="y"?"height":"width",s=F$(n),o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,c=t[i]/2-e[i]/2;let u;switch(s){case"top":u={x:o,y:t.y-e.height};break;case"bottom":u={x:o,y:t.y+t.height};break;case"right":u={x:t.x+t.width,y:a};break;case"left":u={x:t.x-e.width,y:a};break;default:u={x:t.x,y:t.y}}switch(n.split("-")[1]){case"start":u[r]-=c;break;case"end":u[r]+=c;break}return u}function F$(t){return t.split("-")[0]}function Ole(t){return["top","bottom"].includes(F$(t))?"y":"x"}class L_ extends Event{constructor({action:e="auto",relatedTarget:n,...r}){super("invoke",r),this.action=e,this.relatedTarget=n}}class Nle extends Event{constructor({newState:e,oldState:n,...r}){super("toggle",r),this.newState=e,this.oldState=n}}var D_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ut=(t,e,n)=>(D_(t,e,"read from private field"),n?n.call(t):e.get(t)),on=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},eo=(t,e,n,r)=>(D_(t,e,"write to private field"),e.set(t,n),n),dn=(t,e,n)=>(D_(t,e,"access private method"),n),to,Dc,cl,Lv,Dv,Pc,Bp,GT,B$,jy,Pv,KT,zT,U$,YT,j$,qT,V$,yd,bd,Ed,Up,Vy,P_,XT,W$,M_,H$,QT,G$,O_,K$,ZT,z$,JT,Y$,ip,Wy,eA,q$,sp,Hy,Mv,tA;function Nd({type:t,text:e,value:n,checked:r}){const i=Xe.createElement("media-chrome-menu-item");i.type=t,i.part.add("menu-item"),i.part.add(t),i.value=n,i.checked=r;const s=Xe.createElement("span");return s.textContent=e,i.append(s),i}function Mc(t,e){let n=t.querySelector(`:scope > [slot="${e}"]`);if((n==null?void 0:n.nodeName)=="SLOT"&&(n=n.assignedElements({flatten:!0})[0]),n)return n=n.cloneNode(!0),n;const r=t.shadowRoot.querySelector(`[name="${e}"] > svg`);return r?r.cloneNode(!0):""}const X$=Xe.createElement("template");X$.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .8))));
      border-radius: var(--media-menu-border-radius);
      border: var(--media-menu-border, none);
      display: var(--media-menu-display, inline-flex);
      transition: var(--media-menu-transition-in,
        visibility 0s,
        opacity .2s ease-out,
        transform .15s ease-out,
        left .2s ease-in-out,
        min-width .2s ease-in-out,
        min-height .2s ease-in-out
      ) !important;
      
      visibility: var(--media-menu-visibility, visible);
      opacity: var(--media-menu-opacity, 1);
      max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
      transform: var(--media-menu-transform-in, translateY(0) scale(1));
      flex-direction: column;
      
      min-height: 0;
      position: relative;
      bottom: var(--_menu-bottom);
      box-sizing: border-box;
    }

    :host([hidden]) {
      transition: var(--media-menu-transition-out,
        visibility .15s ease-in,
        opacity .15s ease-in,
        transform .15s ease-in
      ) !important;
      visibility: var(--media-menu-hidden-visibility, hidden);
      opacity: var(--media-menu-hidden-opacity, 0);
      max-height: var(--media-menu-hidden-max-height,
        var(--media-menu-max-height, var(--_menu-max-height, 300px)));
      transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
      pointer-events: none;
    }

    :host([slot="submenu"]) {
      background: none;
      width: 100%;
      min-height: 100%;
      position: absolute;
      bottom: 0;
      right: -100%;
    }

    #container {
      display: flex;
      flex-direction: column;
      min-height: 0;
      transition: transform .2s ease-out;
      transform: translate(0, 0);
    }

    #container.has-expanded {
      transition: transform .2s ease-in;
      transform: translate(-100%, 0);
    }

    button {
      background: none;
      color: inherit;
      border: none;
      padding: 0;
      font: inherit;
      outline: inherit;
      display: inline-flex;
      align-items: center;
    }

    slot[name="header"][hidden] {
      display: none;
    }

    slot[name="header"] > *,
    slot[name="header"]::slotted(*) {
      padding: .4em .7em;
      border-bottom: 1px solid rgb(255 255 255 / .25);
      cursor: default;
    }

    slot[name="header"] > button[part~="back"],
    slot[name="header"]::slotted(button[part~="back"]) {
      cursor: pointer;
    }

    svg[part~="back"] {
      height: var(--media-menu-icon-height, var(--media-control-height, 24px));
      fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
      display: block;
      margin-right: .5ch;
    }

    slot:not([name]) {
      gap: var(--media-menu-gap);
      flex-direction: var(--media-menu-flex-direction, column);
      overflow: var(--media-menu-overflow, hidden auto);
      display: flex;
      min-height: 0;
    }

    :host([role="menu"]) slot:not([name]) {
      padding-block: .4em;
    }

    slot:not([name])::slotted([role="menu"]) {
      background: none;
    }

    media-chrome-menu-item > span {
      margin-right: .5ch;
      max-width: var(--media-menu-item-max-width);
      text-overflow: ellipsis;
      overflow: hidden;
    }
  </style>
  <style id="layout-row" media="width:0">

    slot[name="header"] > *,
    slot[name="header"]::slotted(*) {
      padding: .4em .5em;
    }

    slot:not([name]) {
      gap: var(--media-menu-gap, .25em);
      flex-direction: var(--media-menu-flex-direction, row);
      padding-inline: .5em;
    }

    media-chrome-menu-item {
      padding: .3em .5em;
    }

    media-chrome-menu-item[aria-checked="true"] {
      background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
    }

    
    media-chrome-menu-item::part(checked-indicator) {
      display: var(--media-menu-item-checked-indicator-display, none);
    }
  </style>
  <div id="container">
    <slot name="header" hidden>
      <button part="back button" aria-label="Back to previous menu">
        <slot name="back-icon">
          <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
            <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
          </svg>
        </slot>
        <slot name="title"></slot>
      </button>
    </slot>
    <slot></slot>
  </div>
  <slot name="checked-indicator" hidden></slot>
`;const Nl={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class ha extends ne.HTMLElement{constructor(){super(),on(this,GT),on(this,Pv),on(this,zT),on(this,YT),on(this,qT),on(this,Ed),on(this,Vy),on(this,XT),on(this,M_),on(this,QT),on(this,O_),on(this,ZT),on(this,JT),on(this,ip),on(this,eA),on(this,sp),on(this,Mv),on(this,to,null),on(this,Dc,null),on(this,cl,null),on(this,Lv,new Set),on(this,Dv,void 0),on(this,Pc,!1),on(this,Bp,null),on(this,jy,()=>{const e=Ut(this,Lv),n=new Set(this.items);for(const r of e)n.has(r)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:r}));for(const r of n)e.has(r)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:r}));eo(this,Lv,n)}),on(this,yd,()=>{dn(this,Ed,Up).call(this),dn(this,Vy,P_).call(this,!1)}),on(this,bd,()=>{dn(this,Ed,Up).call(this)}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.nativeEl=this.constructor.template.content.cloneNode(!0),this.shadowRoot.append(this.nativeEl)),this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),eo(this,Dv,new MutationObserver(Ut(this,jy))),Ut(this,Dv).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[Nl.DISABLED,Nl.HIDDEN,Nl.STYLE,Nl.ANCHOR,nn.MEDIA_CONTROLLER]}static formatMenuItemText(e,n){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":dn(this,GT,B$).call(this,e);break;case"invoke":dn(this,zT,U$).call(this,e);break;case"click":dn(this,XT,W$).call(this,e);break;case"toggle":dn(this,QT,G$).call(this,e);break;case"focusout":dn(this,ZT,z$).call(this,e);break;case"keydown":dn(this,JT,Y$).call(this,e);break}}connectedCallback(){var e,n;eo(this,Bp,s4(this.shadowRoot,":host")),dn(this,Pv,KT).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),eo(this,to,sT(this)),(n=(e=Ut(this,to))==null?void 0:e.associateElement)==null||n.call(e,this),this.hidden||(Pd(jp(this),Ut(this,yd)),Pd(this,Ut(this,bd)))}disconnectedCallback(){var e,n;Rp(jp(this),Ut(this,yd)),Rp(this,Ut(this,bd)),this.disable(),(n=(e=Ut(this,to))==null?void 0:e.unassociateElement)==null||n.call(e,this),eo(this,to,null)}attributeChangedCallback(e,n,r){var i,s,o,a;e===Nl.HIDDEN&&r!==n?(Ut(this,Pc)||eo(this,Pc,!0),this.hidden?dn(this,qT,V$).call(this):dn(this,YT,j$).call(this),this.dispatchEvent(new Nle({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===nn.MEDIA_CONTROLLER?(n&&((s=(i=Ut(this,to))==null?void 0:i.unassociateElement)==null||s.call(i,this),eo(this,to,null)),r&&this.isConnected&&(eo(this,to,sT(this)),(a=(o=Ut(this,to))==null?void 0:o.associateElement)==null||a.call(o,this))):e===Nl.DISABLED&&r!==n?r==null?this.enable():this.disable():e===Nl.STYLE&&r!==n&&dn(this,Pv,KT).call(this)}formatMenuItemText(e,n){return this.constructor.formatMenuItemText(e,n)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=kb(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter($le)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,n;return(n=(e=this.checkedItems[0])==null?void 0:e.value)!=null?n:""}set value(e){const n=this.items.find(r=>r.value===e);n&&dn(this,Mv,tA).call(this,n)}focus(){if(eo(this,Dc,a_()),this.items.length){dn(this,sp,Hy).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e==null||e.focus()}handleSelect(e){var n;const r=dn(this,ip,Wy).call(this,e);r&&(dn(this,Mv,tA).call(this,r,r.type==="checkbox"),Ut(this,cl)&&!this.hidden&&((n=Ut(this,Dc))==null||n.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var n,r;const{key:i}=e,s=this.items,o=(r=(n=dn(this,ip,Wy).call(this,e))!=null?n:dn(this,eA,q$).call(this))!=null?r:s[0],a=s.indexOf(o);let c=Math.max(0,a);i==="ArrowDown"?c++:i==="ArrowUp"?c--:e.key==="Home"?c=0:e.key==="End"&&(c=s.length-1),c<0&&(c=s.length-1),c>s.length-1&&(c=0),dn(this,sp,Hy).call(this,s[c]),s[c].focus()}}to=new WeakMap;Dc=new WeakMap;cl=new WeakMap;Lv=new WeakMap;Dv=new WeakMap;Pc=new WeakMap;Bp=new WeakMap;GT=new WeakSet;B$=function(t){const e=t.target;for(const n of e.assignedNodes({flatten:!0}))n.nodeType===3&&n.textContent.trim()===""&&n.remove();if(["header","title"].includes(e.name)){const n=this.shadowRoot.querySelector('slot[name="header"]');n.hidden=e.assignedNodes().length===0}e.name||Ut(this,jy).call(this)};jy=new WeakMap;Pv=new WeakSet;KT=function(){var t;const e=this.shadowRoot.querySelector("#layout-row"),n=(t=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:t.trim();e.setAttribute("media",n==="row"?"":"width:0")};zT=new WeakSet;U$=function(t){eo(this,cl,t.relatedTarget),da(this,t.relatedTarget)||(this.hidden=!this.hidden)};YT=new WeakSet;j$=function(){var t;(t=Ut(this,cl))==null||t.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),Pd(jp(this),Ut(this,yd)),Pd(this,Ut(this,bd))};qT=new WeakSet;V$=function(){var t;(t=Ut(this,cl))==null||t.setAttribute("aria-expanded","false"),Rp(jp(this),Ut(this,yd)),Rp(this,Ut(this,bd))};yd=new WeakMap;bd=new WeakMap;Ed=new WeakSet;Up=function(t){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:n}=Lle({anchor:this.anchorElement,floating:this,placement:"top-start"});t??(t=this.offsetWidth);const i=jp(this).getBoundingClientRect(),s=i.width-e-t,o=i.height-n-this.offsetHeight,{style:a}=Ut(this,Bp);a.setProperty("position","absolute"),a.setProperty("right",`${Math.max(0,s)}px`),a.setProperty("--_menu-bottom",`${o}px`);const c=getComputedStyle(this),h=a.getPropertyValue("--_menu-bottom")===c.bottom?o:parseFloat(c.bottom),f=i.height-h-parseFloat(c.marginBottom);this.style.setProperty("--_menu-max-height",`${f}px`)};Vy=new WeakSet;P_=function(t){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),n=e==null?void 0:e.querySelector('[role="menu"]'),{style:r}=Ut(this,Bp);if(t||r.setProperty("--media-menu-transition-in","none"),n){const i=n.offsetHeight,s=Math.max(n.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${s}px`),this.style.setProperty("min-height",`${i}px`),dn(this,Ed,Up).call(this,s)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),dn(this,Ed,Up).call(this);r.removeProperty("--media-menu-transition-in")};XT=new WeakSet;W$=function(t){var e;if(t.stopPropagation(),t.composedPath().includes(Ut(this,M_,H$))){(e=Ut(this,Dc))==null||e.focus(),this.hidden=!0;return}const n=dn(this,ip,Wy).call(this,t);!n||n.hasAttribute("disabled")||(dn(this,sp,Hy).call(this,n),this.handleSelect(t))};M_=new WeakSet;H$=function(){var t;return(t=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:t.find(n=>n.matches('button[part~="back"]'))};QT=new WeakSet;G$=function(t){if(t.target===this)return;dn(this,O_,K$).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const n of e)n.invokeTargetElement!=t.target&&t.newState=="open"&&n.getAttribute("aria-expanded")=="true"&&!n.invokeTargetElement.hidden&&n.invokeTargetElement.dispatchEvent(new L_({relatedTarget:n}));for(const n of e)n.setAttribute("aria-expanded",`${!n.submenuElement.hidden}`);dn(this,Vy,P_).call(this,!0)};O_=new WeakSet;K$=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};ZT=new WeakSet;z$=function(t){var e;da(this,t.relatedTarget)||(Ut(this,Pc)&&((e=Ut(this,Dc))==null||e.focus()),Ut(this,cl)&&Ut(this,cl)!==t.relatedTarget&&!this.hidden&&(this.hidden=!0))};JT=new WeakSet;Y$=function(t){var e,n,r,i,s;const{key:o,ctrlKey:a,altKey:c,metaKey:u}=t;if(!(a||c||u)&&this.keysUsed.includes(o))if(t.preventDefault(),t.stopPropagation(),o==="Tab"){if(Ut(this,Pc)){this.hidden=!0;return}t.shiftKey?(n=(e=this.previousElementSibling)==null?void 0:e.focus)==null||n.call(e):(i=(r=this.nextElementSibling)==null?void 0:r.focus)==null||i.call(r),this.blur()}else o==="Escape"?((s=Ut(this,Dc))==null||s.focus(),Ut(this,Pc)&&(this.hidden=!0)):o==="Enter"||o===" "?this.handleSelect(t):this.handleMove(t)};ip=new WeakSet;Wy=function(t){return t.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};eA=new WeakSet;q$=function(){return this.items.find(t=>t.tabIndex===0)};sp=new WeakSet;Hy=function(t){for(const e of this.items)e.tabIndex=e===t?0:-1};Mv=new WeakSet;tA=function(t,e){const n=[...this.checkedItems];t.type==="radio"&&this.radioGroupItems.forEach(r=>r.checked=!1),e?t.checked=!t.checked:t.checked=!0,this.checkedItems.some((r,i)=>r!=n[i])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};ha.template=X$;function $le(t){return["menuitem","menuitemradio","menuitemcheckbox"].includes(t==null?void 0:t.role)}function jp(t){var e;return(e=t.getAttribute("bounds")?Xd(t,`#${t.getAttribute("bounds")}`):ss(t)||t.parentElement)!=null?e:t}ne.customElements.get("media-chrome-menu")||ne.customElements.define("media-chrome-menu",ha);var N_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},po=(t,e,n)=>(N_(t,e,"read from private field"),n?n.call(t):e.get(t)),Go=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},B1=(t,e,n,r)=>(N_(t,e,"write to private field"),e.set(t,n),n),co=(t,e,n)=>(N_(t,e,"access private method"),n),Ov,op,nA,Q$,$_,Z$,F_,J$,mo,$d,Vp,rA,eF,Nv,iA;const tF=Xe.createElement("template");tF.innerHTML=`
  <style>
    :host {
      transition: var(--media-menu-item-transition,
        background .15s linear,
        opacity .2s ease-in-out
      );
      outline: var(--media-menu-item-outline, 0);
      outline-offset: var(--media-menu-item-outline-offset, -1px);
      cursor: pointer;
      display: flex;
      align-items: center;
      align-self: stretch;
      justify-self: stretch;
      white-space: nowrap;
      white-space-collapse: collapse;
      text-wrap: nowrap;
      padding: .4em .8em .4em 1em;
    }

    :host(:focus-visible) {
      box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
      outline: var(--media-menu-item-hover-outline, 0);
      outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
    }

    :host(:hover) {
      cursor: pointer;
      background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
      outline: var(--media-menu-item-hover-outline);
      outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
    }

    :host([aria-checked="true"]) {
      background: var(--media-menu-item-checked-background);
    }

    :host([hidden]) {
      display: none;
    }

    :host([disabled]) {
      pointer-events: none;
      color: rgba(255, 255, 255, .3);
    }

    slot:not([name]) {
      width: 100%;
    }

    slot:not([name="submenu"]) {
      display: inline-flex;
      align-items: center;
      transition: inherit;
      opacity: var(--media-menu-item-opacity, 1);
    }

    slot[name="description"] {
      justify-content: end;
    }

    slot[name="description"] > span {
      display: inline-block;
      margin-inline: 1em .2em;
      max-width: var(--media-menu-item-description-max-width, 100px);
      text-overflow: ellipsis;
      overflow: hidden;
      font-size: .8em;
      font-weight: 400;
      text-align: right;
      position: relative;
      top: .04em;
    }

    slot[name="checked-indicator"] {
      display: none;
    }

    :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
      display: var(--media-menu-item-checked-indicator-display, inline-block);
    }

    
    svg, img, ::slotted(svg), ::slotted(img) {
      height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
      fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
      display: block;
    }

    
    [part~="indicator"],
    ::slotted([part~="indicator"]) {
      fill: var(--media-menu-item-indicator-fill,
        var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
      height: var(--media-menu-item-indicator-height, 1.25em);
      margin-right: .5ch;
    }

    [part~="checked-indicator"] {
      visibility: hidden;
    }

    :host([aria-checked="true"]) [part~="checked-indicator"] {
      visibility: visible;
    }
  </style>
  <slot name="checked-indicator">
    <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
      <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
    </svg>
  </slot>
  <slot name="prefix"></slot>
  <slot></slot>
  <slot name="description"></slot>
  <slot name="suffix"></slot>
  <slot name="submenu"></slot>
`;const Vi={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class jb extends ne.HTMLElement{constructor(){super(),Go(this,nA),Go(this,$_),Go(this,F_),Go(this,$d),Go(this,rA),Go(this,Nv),Go(this,Ov,!1),Go(this,op,void 0),Go(this,mo,()=>{var e,n;this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const r=this.shadowRoot.querySelector('slot[name="description"]'),i=(e=this.submenuElement.checkedItems)==null?void 0:e[0],s=(n=i==null?void 0:i.dataset.description)!=null?n:i==null?void 0:i.text,o=Xe.createElement("span");o.textContent=s??"",r.replaceChildren(o)}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[Vi.TYPE,Vi.DISABLED,Vi.CHECKED,Vi.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),lf(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":co(this,nA,Q$).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":co(this,rA,eF).call(this,e);break;case"keyup":co(this,$d,Vp).call(this,e);break}}attributeChangedCallback(e,n,r){e===Vi.CHECKED&&lf(this)&&!po(this,Ov)?this.setAttribute("aria-checked",r!=null?"true":"false"):e===Vi.TYPE&&r!==n?this.role="menuitem"+r:e===Vi.DISABLED&&r!==n&&(r==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(Vi.DISABLED)||this.enable(),this.role="menuitem"+this.type,B1(this,op,sA(this,this.parentNode)),co(this,Nv,iA).call(this)}disconnectedCallback(){this.disable(),co(this,Nv,iA).call(this),B1(this,op,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=kb(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(Vi.TYPE))!=null?e:""}set type(e){this.setAttribute(Vi.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(Vi.VALUE))!=null?e:this.text}set value(e){this.setAttribute(Vi.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if(lf(this))return this.getAttribute("aria-checked")==="true"}set checked(e){lf(this)&&(B1(this,Ov,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){lf(this)||this.invokeTargetElement&&da(this,e.target)&&this.invokeTargetElement.dispatchEvent(new L_({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}Ov=new WeakMap;op=new WeakMap;nA=new WeakSet;Q$=function(t){const e=t.target;if(!(e!=null&&e.name))for(const r of e.assignedNodes({flatten:!0}))r instanceof Text&&r.textContent.trim()===""&&r.remove();e.name==="submenu"&&(this.submenuElement?co(this,$_,Z$).call(this):co(this,F_,J$).call(this))};$_=new WeakSet;Z$=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",po(this,mo)),this.submenuElement.addEventListener("addmenuitem",po(this,mo)),this.submenuElement.addEventListener("removemenuitem",po(this,mo)),po(this,mo).call(this)};F_=new WeakSet;J$=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",po(this,mo)),this.submenuElement.removeEventListener("addmenuitem",po(this,mo)),this.submenuElement.removeEventListener("removemenuitem",po(this,mo)),po(this,mo).call(this)};mo=new WeakMap;$d=new WeakSet;Vp=function(t){const{key:e}=t;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",co(this,$d,Vp));return}this.handleClick(t)};rA=new WeakSet;eF=function(t){const{metaKey:e,altKey:n,key:r}=t;if(e||n||!this.keysUsed.includes(r)){this.removeEventListener("keyup",co(this,$d,Vp));return}this.addEventListener("keyup",co(this,$d,Vp),{once:!0})};Nv=new WeakSet;iA=function(){var t;const e=(t=po(this,op))==null?void 0:t.radioGroupItems;if(!e)return;let n=e.filter(r=>r.getAttribute("aria-checked")==="true").pop();n||(n=e[0]);for(const r of e)r.setAttribute("aria-checked","false");n==null||n.setAttribute("aria-checked","true")};jb.template=tF;function lf(t){return t.type==="radio"||t.type==="checkbox"}function sA(t,e){if(!t)return null;const{host:n}=t.getRootNode();return!e&&n?sA(t,n):e!=null&&e.items?e:sA(e,e==null?void 0:e.parentNode)}ne.customElements.get("media-chrome-menu-item")||ne.customElements.define("media-chrome-menu-item",jb);const nF=Xe.createElement("template");nF.innerHTML=ha.template.innerHTML+`
  <style>
    :host {
      background: var(--media-settings-menu-background,
        var(--media-menu-background,
        var(--media-control-background,
        var(--media-secondary-color, rgb(20 20 30 / .8)))));
      min-width: var(--media-settings-menu-min-width, 170px);
      border-radius: 2px 2px 0 0;
      overflow: hidden;
    }

    :host([role="menu"]) {
      
      justify-content: end;
    }

    slot:not([name]) {
      justify-content: var(--media-settings-menu-justify-content);
      flex-direction: var(--media-settings-menu-flex-direction, column);
      overflow: visible;
    }

    #container.has-expanded {
      --media-settings-menu-item-opacity: 0;
    }
  </style>
`;class rF extends ha{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ss(this).querySelector("media-settings-menu-button")}}rF.template=nF;ne.customElements.get("media-settings-menu")||ne.customElements.define("media-settings-menu",rF);var nP;const Gy=Xe.createElement("template");Gy.innerHTML=jb.template.innerHTML+`
  <style>
    slot:not([name="submenu"]) {
      opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
    }

    :host([aria-expanded="true"]:hover) {
      background: transparent;
    }
  </style>
`;(nP=Gy.content)!=null&&nP.querySelector&&(Gy.content.querySelector('slot[name="suffix"]').innerHTML=`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `);class iF extends jb{}iF.template=Gy;ne.customElements.get("media-settings-menu-item")||ne.customElements.define("media-settings-menu-item",iF);class Zd extends Di{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=kb(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new L_({relatedTarget:this}))}}ne.customElements.get("media-chrome-menu-button")||ne.customElements.define("media-chrome-menu-button",Zd);const sF=Xe.createElement("template");sF.innerHTML=`
  <style>
    :host([aria-expanded="true"]) slot[name=tooltip] {
      display: none;
    }
  </style>
  <slot name="icon">
    <svg aria-hidden="true" viewBox="0 0 24 24">
      <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
    </svg>
  </slot>
`;class Fle extends Zd{static get observedAttributes(){return[...super.observedAttributes,"target"]}constructor(){super({slotTemplate:sF,tooltipContent:$n.SETTINGS})}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Ri.SETTINGS())}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ss(this).querySelector("media-settings-menu")}}ne.customElements.get("media-settings-menu-button")||ne.customElements.define("media-settings-menu-button",Fle);var B_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},oF=(t,e,n)=>(B_(t,e,"read from private field"),n?n.call(t):e.get(t)),m0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},oA=(t,e,n,r)=>(B_(t,e,"write to private field"),e.set(t,n),n),g0=(t,e,n)=>(B_(t,e,"access private method"),n),$f,Ky,$v,aA,Fv,lA;class Ble extends ha{constructor(){super(...arguments),m0(this,$v),m0(this,Fv),m0(this,$f,[]),m0(this,Ky,void 0)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_AUDIO_TRACK_LIST,F.MEDIA_AUDIO_TRACK_ENABLED,F.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_AUDIO_TRACK_ENABLED&&n!==r?this.value=r:e===F.MEDIA_AUDIO_TRACK_LIST&&n!==r&&(oA(this,$f,hse(r??"")),g0(this,$v,aA).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",g0(this,Fv,lA))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",g0(this,Fv,lA))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=ss(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return oF(this,$f)}set mediaAudioTrackList(e){oA(this,$f,e),g0(this,$v,aA).call(this)}get mediaAudioTrackEnabled(){var e;return(e=er(this,F.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){tr(this,F.MEDIA_AUDIO_TRACK_ENABLED,e)}}$f=new WeakMap;Ky=new WeakMap;$v=new WeakSet;aA=function(){if(oF(this,Ky)===JSON.stringify(this.mediaAudioTrackList))return;oA(this,Ky,JSON.stringify(this.mediaAudioTrackList));const t=this.mediaAudioTrackList;this.defaultSlot.textContent="";for(const e of t){const n=this.formatMenuItemText(e.label,e),r=Nd({type:"radio",text:n,value:`${e.id}`,checked:e.enabled});r.prepend(Mc(this,"checked-indicator")),this.defaultSlot.append(r)}};Fv=new WeakSet;lA=function(){if(this.value==null)return;const t=new ne.CustomEvent(je.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ne.customElements.get("media-audio-track-menu")||ne.customElements.define("media-audio-track-menu",Ble);const Ule=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`,aF=Xe.createElement("template");aF.innerHTML=`
  <style>
    :host([aria-expanded="true"]) slot[name=tooltip] {
      display: none;
    }
  </style>
  <slot name="icon">${Ule}</slot>
`;class jle extends Zd{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_AUDIO_TRACK_ENABLED,F.MEDIA_AUDIO_TRACK_UNAVAILABLE]}constructor(){super({slotTemplate:aF,tooltipContent:$n.AUDIO_TRACK_MENU})}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Ri.AUDIO_TRACKS())}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=ss(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=er(this,F.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){tr(this,F.MEDIA_AUDIO_TRACK_ENABLED,e)}}ne.customElements.get("media-audio-track-menu-button")||ne.customElements.define("media-audio-track-menu-button",jle);var U_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Vle=(t,e,n)=>(U_(t,e,"read from private field"),e.get(t)),U1=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Wle=(t,e,n,r)=>(U_(t,e,"write to private field"),e.set(t,n),n),j1=(t,e,n)=>(U_(t,e,"access private method"),n),zy,cA,lF,Bv,uA;const Hle=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`,cF=Xe.createElement("template");cF.innerHTML=ha.template.innerHTML+`
  <slot name="captions-indicator" hidden>${Hle}</slot>`;class uF extends ha{constructor(){super(...arguments),U1(this,cA),U1(this,Bv),U1(this,zy,void 0)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_SUBTITLES_LIST,F.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_SUBTITLES_LIST&&n!==r?j1(this,cA,lF).call(this):e===F.MEDIA_SUBTITLES_SHOWING&&n!==r&&(this.value=r)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",j1(this,Bv,uA))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",j1(this,Bv,uA))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ss(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return rP(this,F.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){iP(this,F.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return rP(this,F.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){iP(this,F.MEDIA_SUBTITLES_SHOWING,e)}}zy=new WeakMap;cA=new WeakSet;lF=function(){var t;if(Vle(this,zy)===JSON.stringify(this.mediaSubtitlesList))return;Wle(this,zy,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const e=!this.value,n=Nd({type:"radio",text:this.formatMenuItemText("Off"),value:"off",checked:e});n.prepend(Mc(this,"checked-indicator")),this.defaultSlot.append(n);const r=this.mediaSubtitlesList;for(const i of r){const s=Nd({type:"radio",text:this.formatMenuItemText(i.label,i),value:lT(i),checked:this.value==lT(i)});s.prepend(Mc(this,"checked-indicator")),((t=i.kind)!=null?t:"subs")==="captions"&&s.append(Mc(this,"captions-indicator")),this.defaultSlot.append(s)}};Bv=new WeakSet;uA=function(){const t=this.mediaSubtitlesShowing,e=this.getAttribute(F.MEDIA_SUBTITLES_SHOWING),n=this.value!==e;if(t!=null&&t.length&&n&&this.dispatchEvent(new ne.CustomEvent(je.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:t})),!this.value||!n)return;const r=new ne.CustomEvent(je.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(r)};uF.template=cF;const rP=(t,e)=>{const n=t.getAttribute(e);return n?Db(n):[]},iP=(t,e,n)=>{if(!(n!=null&&n.length)){t.removeAttribute(e);return}const r=Pp(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ne.customElements.get("media-captions-menu")||ne.customElements.define("media-captions-menu",uF);var Gle=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Kle=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},zle=(t,e,n,r)=>(Gle(t,e,"write to private field"),e.set(t,n),n),dA;const Yle=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,qle=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`,dF=Xe.createElement("template");dF.innerHTML=`
  <style>
    :host([aria-checked="true"]) slot[name=off] {
      display: none !important;
    }

    
    :host(:not([aria-checked="true"])) slot[name=on] {
      display: none !important;
    }

    :host([aria-expanded="true"]) slot[name=tooltip] {
      display: none;
    }
  </style>

  <slot name="icon">
    <slot name="on">${Yle}</slot>
    <slot name="off">${qle}</slot>
  </slot>
`;const sP=t=>{t.setAttribute("aria-checked",g4(t).toString())};class Xle extends Zd{constructor(e={}){super({slotTemplate:dF,tooltipContent:$n.CAPTIONS,...e}),Kle(this,dA,void 0),zle(this,dA,!1)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_SUBTITLES_LIST,F.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Ri.CLOSED_CAPTIONS()),sP(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_SUBTITLES_SHOWING&&sP(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=ss(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return oP(this,F.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){aP(this,F.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return oP(this,F.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){aP(this,F.MEDIA_SUBTITLES_SHOWING,e)}}dA=new WeakMap;const oP=(t,e)=>{const n=t.getAttribute(e);return n?Db(n):[]},aP=(t,e,n)=>{if(!(n!=null&&n.length)){t.removeAttribute(e);return}const r=Pp(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ne.customElements.get("media-captions-menu-button")||ne.customElements.define("media-captions-menu-button",Xle);var hF=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},v0=(t,e,n)=>(hF(t,e,"read from private field"),n?n.call(t):e.get(t)),V1=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},cf=(t,e,n)=>(hF(t,e,"access private method"),n),qu,Ff,Uv,jv,hA;const W1={RATES:"rates"};class Qle extends ha{constructor(){super(),V1(this,Ff),V1(this,jv),V1(this,qu,new Lb(this,W1.RATES,{defaultValue:t$})),cf(this,Ff,Uv).call(this)}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PLAYBACK_RATE,W1.RATES]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_PLAYBACK_RATE&&n!=r?this.value=r:e===W1.RATES&&n!=r&&(v0(this,qu).value=r,cf(this,Ff,Uv).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",cf(this,jv,hA))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",cf(this,jv,hA))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ss(this).querySelector("media-playback-rate-menu-button")}get rates(){return v0(this,qu)}set rates(e){e?Array.isArray(e)&&(v0(this,qu).value=e.join(" ")):v0(this,qu).value="",cf(this,Ff,Uv).call(this)}get mediaPlaybackRate(){return Sn(this,F.MEDIA_PLAYBACK_RATE,Tf)}set mediaPlaybackRate(e){Qn(this,F.MEDIA_PLAYBACK_RATE,e)}}qu=new WeakMap;Ff=new WeakSet;Uv=function(){this.defaultSlot.textContent="";for(const t of this.rates){const e=Nd({type:"radio",text:this.formatMenuItemText(`${t}x`,t),value:t,checked:this.mediaPlaybackRate==t});e.prepend(Mc(this,"checked-indicator")),this.defaultSlot.append(e)}};jv=new WeakSet;hA=function(){if(!this.value)return;const t=new ne.CustomEvent(je.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ne.customElements.get("media-playback-rate-menu")||ne.customElements.define("media-playback-rate-menu",Qle);var Zle=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},y0=(t,e,n)=>(Zle(t,e,"read from private field"),n?n.call(t):e.get(t)),Jle=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Xu;const H1={RATES:"rates"},ece=[1,1.2,1.5,1.7,2],G1=1,fF=Xe.createElement("template");fF.innerHTML=`
  <style>
    :host {
      min-width: 5ch;
      padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
    }
    
    :host([aria-expanded="true"]) slot[name=tooltip] {
      display: none;
    }
  </style>
  <slot name="icon"></slot>
`;class tce extends Zd{constructor(e={}){super({slotTemplate:fF,tooltipContent:$n.PLAYBACK_RATE,...e}),Jle(this,Xu,new Lb(this,H1.RATES,{defaultValue:ece})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${G1}x`}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_PLAYBACK_RATE,H1.RATES]}attributeChangedCallback(e,n,r){if(super.attributeChangedCallback(e,n,r),e===H1.RATES&&(y0(this,Xu).value=r),e===F.MEDIA_PLAYBACK_RATE){const i=r?+r:Number.NaN,s=Number.isNaN(i)?G1:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",Ri.PLAYBACK_RATE({playbackRate:s}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ss(this).querySelector("media-playback-rate-menu")}get rates(){return y0(this,Xu)}set rates(e){e?Array.isArray(e)&&(y0(this,Xu).value=e.join(" ")):y0(this,Xu).value=""}get mediaPlaybackRate(){return Sn(this,F.MEDIA_PLAYBACK_RATE,G1)}set mediaPlaybackRate(e){Qn(this,F.MEDIA_PLAYBACK_RATE,e)}}Xu=new WeakMap;ne.customElements.get("media-playback-rate-menu-button")||ne.customElements.define("media-playback-rate-menu-button",tce);var j_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Bf=(t,e,n)=>(j_(t,e,"read from private field"),n?n.call(t):e.get(t)),b0=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},lP=(t,e,n,r)=>(j_(t,e,"write to private field"),e.set(t,n),n),uf=(t,e,n)=>(j_(t,e,"access private method"),n),Uf,id,jf,Vv,Wv,fA;class nce extends ha{constructor(){super(...arguments),b0(this,jf),b0(this,Wv),b0(this,Uf,[]),b0(this,id,{})}static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_RENDITION_LIST,F.MEDIA_RENDITION_SELECTED,F.MEDIA_RENDITION_UNAVAILABLE,F.MEDIA_HEIGHT]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===F.MEDIA_RENDITION_SELECTED&&n!==r?this.value=r??"auto":e===F.MEDIA_RENDITION_LIST&&n!==r?(lP(this,Uf,lse(r)),uf(this,jf,Vv).call(this)):e===F.MEDIA_HEIGHT&&n!==r&&uf(this,jf,Vv).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",uf(this,Wv,fA))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",uf(this,Wv,fA))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ss(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return Bf(this,Uf)}set mediaRenditionList(e){lP(this,Uf,e),uf(this,jf,Vv).call(this)}get mediaRenditionSelected(){return er(this,F.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){tr(this,F.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Sn(this,F.MEDIA_HEIGHT)}set mediaHeight(e){Qn(this,F.MEDIA_HEIGHT,e)}}Uf=new WeakMap;id=new WeakMap;jf=new WeakSet;Vv=function(){if(Bf(this,id).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&Bf(this,id).mediaHeight===this.mediaHeight)return;Bf(this,id).mediaRenditionList=JSON.stringify(this.mediaRenditionList),Bf(this,id).mediaHeight=this.mediaHeight;const t=this.mediaRenditionList.sort((i,s)=>s.height-i.height);for(const i of t)i.selected=i.id===this.mediaRenditionSelected;this.defaultSlot.textContent="";const e=!this.mediaRenditionSelected;for(const i of t){const s=this.formatMenuItemText(`${Math.min(i.width,i.height)}p`,i),o=Nd({type:"radio",text:s,value:`${i.id}`,checked:i.selected&&!e});o.prepend(Mc(this,"checked-indicator")),this.defaultSlot.append(o)}const n=Nd({type:"radio",text:this.formatMenuItemText("Auto"),value:"auto",checked:e}),r=this.mediaHeight>0?`Auto (${this.mediaHeight}p)`:"Auto";n.dataset.description=r,n.prepend(Mc(this,"checked-indicator")),this.defaultSlot.append(n)};Wv=new WeakSet;fA=function(){if(this.value==null)return;const t=new ne.CustomEvent(je.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ne.customElements.get("media-rendition-menu")||ne.customElements.define("media-rendition-menu",nce);const rce=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`,pF=Xe.createElement("template");pF.innerHTML=`
  <style>
    :host([aria-expanded="true"]) slot[name=tooltip] {
      display: none;
    }
  </style>
  <slot name="icon">${rce}</slot>
`;class ice extends Zd{static get observedAttributes(){return[...super.observedAttributes,F.MEDIA_RENDITION_SELECTED,F.MEDIA_RENDITION_UNAVAILABLE,F.MEDIA_HEIGHT]}constructor(){super({slotTemplate:pF,tooltipContent:$n.RENDITIONS})}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Ri.QUALITY())}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ss(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return er(this,F.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){tr(this,F.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Sn(this,F.MEDIA_HEIGHT)}set mediaHeight(e){Qn(this,F.MEDIA_HEIGHT,e)}}ne.customElements.get("media-rendition-menu-button")||ne.customElements.define("media-rendition-menu-button",ice);var mF=t=>{throw TypeError(t)},V_=(t,e,n)=>e.has(t)||mF("Cannot "+n),Qt=(t,e,n)=>(V_(t,e,"read from private field"),n?n.call(t):e.get(t)),Ts=(t,e,n)=>e.has(t)?mF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xo=(t,e,n,r)=>(V_(t,e,"write to private field"),e.set(t,n),n),Yn=(t,e,n)=>(V_(t,e,"access private method"),n),Vb=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends Vb{}globalThis.DocumentFragment=t}var W_=class extends Vb{},sce=class extends Vb{},oce={get(t){},define(t,e,n){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(W_)}},Hv,ace=class{constructor(e,n={}){Ts(this,Hv),xo(this,Hv,n==null?void 0:n.detail)}get detail(){return Qt(this,Hv)}initCustomEvent(){}};Hv=new WeakMap;function lce(t,e){return new W_}var gF={document:{createElement:lce},DocumentFragment,customElements:oce,CustomEvent:ace,EventTarget:Vb,HTMLElement:W_,HTMLVideoElement:sce},vF=typeof window>"u"||typeof globalThis.customElements>"u",Ls=vF?gF:globalThis,H_=vF?gF.document:globalThis.document;function cce(t){let e="";return Object.entries(t).forEach(([n,r])=>{r!=null&&(e+=`${pA(n)}: ${r}; `)}),e?e.trim():void 0}function pA(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function yF(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function Ti(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function bF(t){let e=uce(t).toString();return e?"?"+e:""}function uce(t){let e={};for(let n in t)t[n]!=null&&(e[n]=t[n]);return new URLSearchParams(e)}var EF=(t,e)=>!t||!e?!1:t.contains(e)?!0:EF(t,e.getRootNode().host),xF="mux.com",dce=()=>{try{return"3.2.4"}catch{}return"UNKNOWN"},hce=dce(),SF=()=>hce,fce=(t,{token:e,customDomain:n=xF,thumbnailTime:r,programTime:i}={})=>{var s;let o=e==null?r:void 0,{aud:a}=(s=pd(e))!=null?s:{};if(!(e&&a!=="t"))return`https://image.${n}/${t}/thumbnail.webp${bF({token:e,time:o,program_time:i})}`},pce=(t,{token:e,customDomain:n=xF,programStartTime:r,programEndTime:i}={})=>{var s;let{aud:o}=(s=pd(e))!=null?s:{};if(!(e&&o!=="s"))return`https://image.${n}/${t}/storyboard.vtt${bF({token:e,format:"webp",program_start_time:r,program_end_time:i})}`},G_=t=>{if(t){if([tn.LIVE,tn.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return tn.LIVE}},mce={crossorigin:"crossOrigin",playsinline:"playsInline"};function gce(t){var e;return(e=mce[t])!=null?e:yF(t)}var Qu,Zu,ci,vce=class{constructor(t,e){Ts(this,Qu),Ts(this,Zu),Ts(this,ci,[]),xo(this,Qu,t),xo(this,Zu,e)}[Symbol.iterator](){return Qt(this,ci).values()}get length(){return Qt(this,ci).length}get value(){var t;return(t=Qt(this,ci).join(" "))!=null?t:""}set value(t){var e;t!==this.value&&(xo(this,ci,[]),this.add(...(e=t==null?void 0:t.split(" "))!=null?e:[]))}toString(){return this.value}item(t){return Qt(this,ci)[t]}values(){return Qt(this,ci).values()}keys(){return Qt(this,ci).keys()}forEach(t){Qt(this,ci).forEach(t)}add(...t){var e,n;t.forEach(r=>{this.contains(r)||Qt(this,ci).push(r)}),!(this.value===""&&!((e=Qt(this,Qu))!=null&&e.hasAttribute(`${Qt(this,Zu)}`)))&&((n=Qt(this,Qu))==null||n.setAttribute(`${Qt(this,Zu)}`,`${this.value}`))}remove(...t){var e;t.forEach(n=>{Qt(this,ci).splice(Qt(this,ci).indexOf(n),1)}),(e=Qt(this,Qu))==null||e.setAttribute(`${Qt(this,Zu)}`,`${this.value}`)}contains(t){return Qt(this,ci).includes(t)}toggle(t,e){return typeof e<"u"?e?(this.add(t),!0):(this.remove(t),!1):this.contains(t)?(this.remove(t),!1):(this.add(t),!0)}replace(t,e){this.remove(t),this.add(e)}};Qu=new WeakMap,Zu=new WeakMap,ci=new WeakMap;var TF=`[mux-player ${SF()}]`;function Qo(...t){console.warn(TF,...t)}function qi(...t){console.error(TF,...t)}function AF(t){var e;let n=(e=t.message)!=null?e:"";t.context&&(n+=` ${t.context}`),t.file&&(n+=` ${Ge("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${t.file}`),Qo(n)}var Ur={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},ac={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},cP=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),yce=__.filter(t=>t!=="error"),bce=Object.values(Ur).filter(t=>![Ur.PLAYSINLINE].includes(t)),Ece=Object.values(ac),xce=class extends Ls.HTMLElement{static get observedAttributes(){return[...bce,...Ece]}constructor(){super()}init(){yce.forEach(t=>{var e;(e=this.media)==null||e.addEventListener(t,n=>{this.dispatchEvent(new Event(n.type))})})}attributeChangedCallback(t,e,n){var r,i;switch(t){case ac.MUTED:{this.media&&(this.media.muted=n!=null,this.media.defaultMuted=n!=null);return}case ac.VOLUME:{let s=(r=Ti(n))!=null?r:1;this.media&&(this.media.volume=s);return}case ac.PLAYBACKRATE:{let s=(i=Ti(n))!=null?i:1;this.media&&(this.media.playbackRate=s,this.media.defaultPlaybackRate=s);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}load(){var t;(t=this.media)==null||t.load()}requestCast(t){var e;return(e=this.media)==null?void 0:e.requestCast(t)}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:cP}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:cP}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentSrc(){var t,e;return(e=(t=this.media)==null?void 0:t.currentSrc)!=null?e:""}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=Ti(this.getAttribute(ac.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute(ac.PLAYBACKRATE,`${t}`):this.removeAttribute(ac.PLAYBACKRATE)}get crossOrigin(){return df(this,Ur.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(Ur.CROSSORIGIN,`${t}`)}get autoplay(){return df(this,Ur.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(Ur.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(Ur.AUTOPLAY)}get loop(){return df(this,Ur.LOOP)!=null}set loop(t){t?this.setAttribute(Ur.LOOP,""):this.removeAttribute(Ur.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return df(this,Ur.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(Ur.MUTED,""):this.removeAttribute(Ur.MUTED)}get playsInline(){return df(this,Ur.PLAYSINLINE)!=null}set playsInline(t){qi("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(Ur.PRELOAD,t):this.removeAttribute(Ur.PRELOAD)}};function df(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var uP=xce,Sce=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  width: 100%;
  line-height: 0;
}

/* Hide custom elements that are not defined yet */
:not(:defined) {
  display: none;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,hf=new WeakMap,Tce=class wF{constructor(e,n){this.element=e,this.type=n,this.element.addEventListener(this.type,this);let r=hf.get(this.element);r&&r.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let n=hf.get(this.element);n&&n.delete(this.type)}}static for(e){hf.has(e.element)||hf.set(e.element,new Map);let n=e.attributeName.slice(2),r=hf.get(e.element);return r&&r.has(n)?r.get(n):new wF(e.element,n)}};function Ace(t,e){return t instanceof Is&&t.attributeName.startsWith("on")?(Tce.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function wce(t,e){return e instanceof _F&&t instanceof Qd?(e.renderInto(t),!0):!1}function _ce(t,e){return e instanceof DocumentFragment&&t instanceof Qd?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function Cce(t,e){if(t instanceof Is){let n=t.attributeNamespace,r=t.element.getAttributeNS(n,t.attributeName);return String(e)!==r&&(t.value=String(e)),!0}return t.value=String(e),!0}function kce(t,e){if(t instanceof Is&&e instanceof Element){let n=t.element;return n[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),n[t.attributeName]=e),!0}return!1}function Rce(t,e){if(typeof e=="boolean"&&t instanceof Is){let n=t.attributeNamespace,r=t.element.hasAttributeNS(n,t.attributeName);return e!==r&&(t.booleanValue=e),!0}return!1}function Ice(t,e){return e===!1&&t instanceof Qd?(t.replace(""),!0):!1}function Lce(t,e){kce(t,e)||Rce(t,e)||Ace(t,e)||Ice(t,e)||wce(t,e)||_ce(t,e)||Cce(t,e)}var K1=new Map,dP=new WeakMap,hP=new WeakMap,_F=class{constructor(e,n,r){this.strings=e,this.values=n,this.processor=r,this.stringsKey=this.strings.join("")}get template(){if(K1.has(this.stringsKey))return K1.get(this.stringsKey);{let e=H_.createElement("template"),n=this.strings.length-1;return e.innerHTML=this.strings.reduce((r,i,s)=>r+i+(s<n?`{{ ${s} }}`:""),""),K1.set(this.stringsKey,e),e}}renderInto(e){var n;let r=this.template;if(dP.get(e)!==r){dP.set(e,r);let s=new Bb(r,this.values,this.processor);hP.set(e,s),e instanceof Qd?e.replace(...s.children):e.appendChild(s);return}let i=hP.get(e);(n=i==null?void 0:i.update)==null||n.call(i,this.values)}},Dce={processCallback(t,e,n){var r;if(n){for(let[i,s]of e)if(i in n){let o=(r=n[i])!=null?r:"";Lce(s,o)}}}};function Gv(t,...e){return new _F(t,e,Dce)}function Pce(t,e){t.renderInto(e)}var Mce=t=>{let{tokens:e}=t;return e.drm?":host { --_cast-button-drm-display: none; }":""},Oce=t=>Gv`
  <style>
    ${Mce(t)}
    ${Sce}
  </style>
  ${Bce(t)}
`,Nce=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return G_(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},$ce={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",LISTBOX:"listbox",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},Fce=Object.values($ce).join(", "),Bce=t=>{var e,n,r,i,s,o,a,c,u,h,f,p,g,v,y,E,S,w,T,C,_,L,D,P,N,k,$,z,j,q,G,H,Q;return Gv`
  <media-theme
    template="${t.themeTemplate||!1}"
    defaultstreamtype="${(e=t.defaultStreamType)!=null?e:!1}"
    hotkeys="${Nce(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||!1}"
    noautoseektolive="${!!((n=t.streamType)!=null&&n.includes(tn.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(r=t.audio)!=null?r:!1}"
    style="${(i=cce({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor,"--media-accent-color":t.accentColor}))!=null?i:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(s=t.forwardSeekOffset)!=null?s:!1}"
    backwardseekoffset="${(o=t.backwardSeekOffset)!=null?o:!1}"
    playbackrates="${(a=t.playbackRates)!=null?a:!1}"
    defaultshowremainingtime="${(c=t.defaultShowRemainingTime)!=null?c:!1}"
    defaultduration="${(u=t.defaultDuration)!=null?u:!1}"
    hideduration="${(h=t.hideDuration)!=null?h:!1}"
    title="${(f=t.title)!=null?f:!1}"
    exportparts="${Fce}"
    onclose="${t.onCloseErrorDialog}"
    onfocusin="${t.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      target-live-window="${(p=t.targetLiveWindow)!=null?p:!1}"
      stream-type="${(g=G_(t.streamType))!=null?g:!1}"
      crossorigin="${(v=t.crossOrigin)!=null?v:""}"
      playsinline
      autoplay="${(y=t.autoplay)!=null?y:!1}"
      muted="${(E=t.muted)!=null?E:!1}"
      loop="${(S=t.loop)!=null?S:!1}"
      preload="${(w=t.preload)!=null?w:!1}"
      debug="${(T=t.debug)!=null?T:!1}"
      prefer-cmcd="${(C=t.preferCmcd)!=null?C:!1}"
      disable-tracking="${(_=t.disableTracking)!=null?_:!1}"
      disable-cookies="${(L=t.disableCookies)!=null?L:!1}"
      prefer-playback="${(D=t.preferPlayback)!=null?D:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(P=t.beaconCollectionDomain)!=null?P:!1}"
      player-init-time="${(N=t.playerInitTime)!=null?N:!1}"
      player-software-name="${(k=t.playerSoftwareName)!=null?k:!1}"
      player-software-version="${($=t.playerSoftwareVersion)!=null?$:!1}"
      env-key="${(z=t.envKey)!=null?z:!1}"
      custom-domain="${(j=t.customDomain)!=null?j:!1}"
      src="${t.src?t.src:t.playbackId?nT(t):!1}"
      cast-src="${t.src?t.src:t.playbackId?nT(t):!1}"
      cast-receiver="${(q=t.castReceiver)!=null?q:!1}"
      drm-token="${(H=(G=t.tokens)==null?void 0:G.drm)!=null?H:!1}"
      exportparts="video"
    >
      ${t.storyboard?Gv`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:Gv``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${t.poster?t.poster:!1}"
        placeholdersrc="${(Q=t.placeholder)!=null?Q:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},CF=t=>t.charAt(0).toUpperCase()+t.slice(1),Uce=(t,e=!1)=>{var n,r;if(t.muxCode){let i=CF((n=t.errorCategory)!=null?n:"video"),s=wb((r=t.errorCategory)!=null?r:hn.VIDEO);if(t.muxCode===ze.NETWORK_OFFLINE)return Ge("Your device appears to be offline",e);if(t.muxCode===ze.NETWORK_TOKEN_EXPIRED)return Ge("{category} URL has expired",e).format({category:i});if([ze.NETWORK_TOKEN_SUB_MISMATCH,ze.NETWORK_TOKEN_AUD_MISMATCH,ze.NETWORK_TOKEN_AUD_MISSING,ze.NETWORK_TOKEN_MALFORMED].includes(t.muxCode))return Ge("{category} URL is formatted incorrectly",e).format({category:i});if(t.muxCode===ze.NETWORK_TOKEN_MISSING)return Ge("Invalid {categoryName} URL",e).format({categoryName:s});if(t.muxCode===ze.NETWORK_NOT_FOUND)return Ge("{category} does not exist",e).format({category:i});if(t.muxCode===ze.NETWORK_NOT_READY)return Ge("{category} is not currently available",e).format({category:i})}if(t.code){if(t.code===De.MEDIA_ERR_NETWORK)return Ge("Network Error",e);if(t.code===De.MEDIA_ERR_DECODE)return Ge("Media Error",e);if(t.code===De.MEDIA_ERR_SRC_NOT_SUPPORTED)return Ge("Source Not Supported",e)}return Ge("Error",e)},jce=(t,e=!1)=>{var n,r;if(t.muxCode){let i=CF((n=t.errorCategory)!=null?n:"video"),s=wb((r=t.errorCategory)!=null?r:hn.VIDEO);return t.muxCode===ze.NETWORK_OFFLINE?Ge("Check your internet connection and try reloading this video.",e):t.muxCode===ze.NETWORK_TOKEN_EXPIRED?Ge("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:s}):t.muxCode===ze.NETWORK_TOKEN_SUB_MISMATCH?Ge("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:s}):t.muxCode===ze.NETWORK_TOKEN_MALFORMED?Ge("{category} URL is formatted incorrectly",e).format({category:i}):[ze.NETWORK_TOKEN_AUD_MISMATCH,ze.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode)?Ge("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:s}):[ze.NETWORK_TOKEN_MISSING,ze.NETWORK_INVALID_URL].includes(t.muxCode)?Ge("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:s}):t.muxCode===ze.NETWORK_NOT_FOUND?"":t.muxCode===ze.NETWORK_NOT_READY?Ge("The live stream or video file are not yet ready.",e):t.message}return t.code&&(t.code===De.MEDIA_ERR_NETWORK||t.code===De.MEDIA_ERR_DECODE||(t.code,De.MEDIA_ERR_SRC_NOT_SUPPORTED)),t.message},Vce=(t,e=!1)=>{let n=Uce(t,e),r=jce(t,e);return{title:n,message:r}},Wce=t=>{if(t.muxCode){if(t.muxCode===ze.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(t.muxCode===ze.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([ze.NETWORK_TOKEN_AUD_MISMATCH,ze.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode))return"403-incorrect-aud-value.md";if(t.muxCode===ze.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(t.muxCode===ze.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(t.muxCode===ze.NETWORK_NOT_FOUND)return"404-not-found.md";if(t.muxCode===ze.NETWORK_NOT_READY)return"412-not-playable.md"}if(t.code){if(t.code===De.MEDIA_ERR_NETWORK)return"";if(t.code===De.MEDIA_ERR_DECODE)return"media-decode-error.md";if(t.code===De.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},fP=(t,e)=>{let n=Wce(t);return{message:t.message,context:t.context,file:n}},Hce=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps: hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%,
        hsl(0 0% 0% / 0.104) 22.5%, hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%,
        hsl(0 0% 0% / 0.45) 47.1%, hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%,
        hsl(0 0% 0% / 0.825) 71%, hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%,
        hsl(0 0% 0%) 100%;
    }

    :host([title]:not([audio])) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }
  </style>

  <template partial="TitleDisplay">
    <template if="title">
      <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>
    <media-error-dialog slot="dialog" noautohide></media-error-dialog>

    <template if="!audio">
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,mA=H_.createElement("template");"innerHTML"in mA&&(mA.innerHTML=Hce);var pP,mP,kF=class extends Ub{};kF.template=(mP=(pP=mA.content)==null?void 0:pP.children)==null?void 0:mP[0];Ls.customElements.get("media-theme-gerwig")||Ls.customElements.define("media-theme-gerwig",kF);var Gce="gerwig",zo={SRC:"src",POSTER:"poster"},Se={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips"},gA=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","novolumepref"];function Kce(t,e){var n;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src||!!t.currentSrc,poster:t.poster,storyboard:t.storyboard,storyboardSrc:t.getAttribute(Se.STORYBOARD_SRC),placeholder:t.getAttribute("placeholder"),themeTemplate:Yce(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute(Se.NOHOTKEYS),hotKeys:t.getAttribute(Se.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableTracking:t.disableTracking,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,minResolution:t.minResolution,programStartTime:t.programStartTime,programEndTime:t.programEndTime,assetStartTime:t.assetStartTime,assetEndTime:t.assetEndTime,renditionOrder:t.renditionOrder,metadata:t.metadata,playerInitTime:t.playerInitTime,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(oe.TARGET_LIVE_WINDOW),streamType:G_(t.getAttribute(oe.STREAM_TYPE)),primaryColor:t.getAttribute(Se.PRIMARY_COLOR),secondaryColor:t.getAttribute(Se.SECONDARY_COLOR),accentColor:t.getAttribute(Se.ACCENT_COLOR),forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultDuration:t.defaultDuration,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:qce(t),playbackRates:t.getAttribute(Se.PLAYBACK_RATES),customDomain:(n=t.getAttribute(oe.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute(Se.TITLE),novolumepref:t.hasAttribute(Se.NO_VOLUME_PREF),castReceiver:t.castReceiver,...e,extraSourceParams:t.extraSourceParams}}var zce=z4.formatErrorMessage;z4.formatErrorMessage=t=>{var e,n;if(t instanceof De){let r=Vce(t,!1);return`
      ${r!=null&&r.title?`<h3>${r.title}</h3>`:""}
      ${r!=null&&r.message||r!=null&&r.linkUrl?`<p>
        ${r==null?void 0:r.message}
        ${r!=null&&r.linkUrl?`<a
              href="${r.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=r.linkText)!=null?e:""} ${Ge("(opens in a new window)")}"
              >${(n=r.linkText)!=null?n:r.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return zce(t)};function Yce(t){var e,n;let r=t.theme;if(r){let i=(n=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:n.call(e,r);if(i&&i instanceof HTMLTemplateElement)return i;r.startsWith("media-theme-")||(r=`media-theme-${r}`);let s=Ls.customElements.get(r);if(s!=null&&s.template)return s.template}}function qce(t){var e;let n=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return n&&getComputedStyle(n).getPropertyValue("--media-duration-display-display").trim()==="none"}function gP(t){let e=t.hasAttribute(Se.TITLE)?{video_title:t.getAttribute(Se.TITLE)}:{};return t.getAttributeNames().filter(n=>n.startsWith("metadata-")).reduce((n,r)=>{let i=t.getAttribute(r);return i!==null&&(n[r.replace(/^metadata-/,"").replace(/-/g,"_")]=i),n},e)}var Xce=Object.values(oe),Qce=Object.values(zo),Zce=Object.values(Se),vP=SF(),yP="mux-player",bP={isDialogOpen:!1},Jce={redundant_streams:!0},Kv,zv,Yv,lc,qv,xd,On,Ga,RF,vA,cc,EP,xP,SP,TP,AP=class extends uP{constructor(){super(),Ts(this,On),Ts(this,Kv),Ts(this,zv,!1),Ts(this,Yv,{}),Ts(this,lc,!0),Ts(this,qv,new vce(this,"hotkeys")),Ts(this,xd,{...bP,onCloseErrorDialog:e=>{var n;((n=e.composedPath()[0])==null?void 0:n.localName)==="media-error-dialog"&&Yn(this,On,vA).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:e=>{var n;((n=e.composedPath()[0])==null?void 0:n.localName)==="media-error-dialog"&&(EF(this,H_.activeElement)||e.preventDefault())}}),xo(this,Kv,n_()),this.attachShadow({mode:"open"}),Yn(this,On,RF).call(this),this.isConnected&&Yn(this,On,Ga).call(this)}static get NAME(){return yP}static get VERSION(){return vP}static get observedAttributes(){var e;return[...(e=uP.observedAttributes)!=null?e:[],...Qce,...Xce,...Zce]}get mediaTheme(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("media-theme")}get mediaController(){var e,n;return(n=(e=this.mediaTheme)==null?void 0:e.shadowRoot)==null?void 0:n.querySelector("media-controller")}connectedCallback(){var e;let n=(e=this.shadowRoot)==null?void 0:e.querySelector("mux-video");n&&(n.metadata=gP(this))}attributeChangedCallback(e,n,r){switch(Yn(this,On,Ga).call(this),super.attributeChangedCallback(e,n,r),e){case Se.HOTKEYS:Qt(this,qv).value=r;break;case Se.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&Qo(Ge("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time."));break}case Se.THUMBNAIL_TOKEN:{if(r){let i=pd(r);if(i){let{aud:s}=i,o=Jf.THUMBNAIL;s!==o&&Qo(Ge("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:s,expectedAud:o,tokenNamePrefix:"thumbnail"}))}}break}case Se.STORYBOARD_TOKEN:{if(r){let i=pd(r);if(i){let{aud:s}=i,o=Jf.STORYBOARD;s!==o&&Qo(Ge("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:s,expectedAud:o,tokenNamePrefix:"storyboard"}))}}break}case Se.DRM_TOKEN:{if(r){let i=pd(r);if(i){let{aud:s}=i,o=Jf.DRM;s!==o&&Qo(Ge("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:s,expectedAud:o,tokenNamePrefix:"drm"}))}}break}case oe.PLAYBACK_ID:{r!=null&&r.includes("?token")&&qi(Ge("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case oe.STREAM_TYPE:r&&![tn.LIVE,tn.ON_DEMAND,tn.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:AF({file:"invalid-stream-type.md",message:Ge("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):r===tn.LIVE?this.getAttribute(Se.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN}[oe.PLAYBACK_ID,zo.SRC,Se.PLAYBACK_TOKEN].includes(e)&&n!==r&&xo(this,xd,{...Qt(this,xd),...bP}),Yn(this,On,cc).call(this,{[gce(e)]:r})}get preferCmcd(){var e;return(e=this.getAttribute(oe.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?wy.includes(e)?this.setAttribute(oe.PREFER_CMCD,e):Qo(`Invalid value for preferCmcd. Must be one of ${wy.join()}`):this.removeAttribute(oe.PREFER_CMCD))}get hasPlayed(){var e,n;return(n=(e=this.mediaController)==null?void 0:e.hasAttribute(F.MEDIA_HAS_PLAYED))!=null?n:!1}get inLiveWindow(){var e;return(e=this.mediaController)==null?void 0:e.hasAttribute(F.MEDIA_TIME_IS_LIVE)}get _hls(){var e;return(e=this.media)==null?void 0:e._hls}get mux(){var e;return(e=this.media)==null?void 0:e.mux}get theme(){var e;return(e=this.getAttribute(Se.THEME))!=null?e:Gce}set theme(e){this.setAttribute(Se.THEME,`${e}`)}get themeProps(){let e=this.mediaTheme;if(!e)return;let n={};for(let r of e.getAttributeNames()){if(gA.includes(r))continue;let i=e.getAttribute(r);n[yF(r)]=i===""?!0:i}return n}set themeProps(e){var n,r;Yn(this,On,Ga).call(this);let i={...this.themeProps,...e};for(let s in i){if(gA.includes(s))continue;let o=e==null?void 0:e[s];typeof o=="boolean"||o==null?(n=this.mediaTheme)==null||n.toggleAttribute(pA(s),!!o):(r=this.mediaTheme)==null||r.setAttribute(pA(s),o)}}get playbackId(){var e;return(e=this.getAttribute(oe.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e?this.setAttribute(oe.PLAYBACK_ID,e):this.removeAttribute(oe.PLAYBACK_ID)}get src(){var e,n;return this.playbackId?(e=$l(this,zo.SRC))!=null?e:void 0:(n=this.getAttribute(zo.SRC))!=null?n:void 0}set src(e){e?this.setAttribute(zo.SRC,e):this.removeAttribute(zo.SRC)}get poster(){var e;let n=this.getAttribute(zo.POSTER);if(n!=null)return n;let{tokens:r}=this;if(r.playback&&!r.thumbnail){Qo("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return fce(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(e=this.thumbnailTime)!=null?e:this.startTime,programTime:this.programStartTime,token:r.thumbnail})}set poster(e){e||e===""?this.setAttribute(zo.POSTER,e):this.removeAttribute(zo.POSTER)}get storyboardSrc(){var e;return(e=this.getAttribute(Se.STORYBOARD_SRC))!=null?e:void 0}set storyboardSrc(e){e?this.setAttribute(Se.STORYBOARD_SRC,e):this.removeAttribute(Se.STORYBOARD_SRC)}get storyboard(){let{tokens:e}=this;if(this.storyboardSrc&&!e.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[tn.LIVE,tn.UNKNOWN].includes(this.streamType)||e.playback&&!e.storyboard))return pce(this.playbackId,{customDomain:this.customDomain,token:e.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(Se.AUDIO)}set audio(e){if(!e){this.removeAttribute(Se.AUDIO);return}this.setAttribute(Se.AUDIO,"")}get hotkeys(){return Qt(this,qv)}get nohotkeys(){return this.hasAttribute(Se.NOHOTKEYS)}set nohotkeys(e){if(!e){this.removeAttribute(Se.NOHOTKEYS);return}this.setAttribute(Se.NOHOTKEYS,"")}get thumbnailTime(){return Ti(this.getAttribute(Se.THUMBNAIL_TIME))}set thumbnailTime(e){this.setAttribute(Se.THUMBNAIL_TIME,`${e}`)}get title(){var e;return(e=this.getAttribute(Se.TITLE))!=null?e:""}set title(e){e!==this.title&&(e?this.setAttribute(Se.TITLE,e):this.removeAttribute("title"),super.title=e)}get placeholder(){var e;return(e=$l(this,Se.PLACEHOLDER))!=null?e:""}set placeholder(e){this.setAttribute(Se.PLACEHOLDER,`${e}`)}get primaryColor(){var e,n;let r=this.getAttribute(Se.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(n=(e=Ls.getComputedStyle(this.mediaTheme))==null?void 0:e.getPropertyValue("--_primary-color"))==null?void 0:n.trim(),r))return r}set primaryColor(e){this.setAttribute(Se.PRIMARY_COLOR,`${e}`)}get secondaryColor(){var e,n;let r=this.getAttribute(Se.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(n=(e=Ls.getComputedStyle(this.mediaTheme))==null?void 0:e.getPropertyValue("--_secondary-color"))==null?void 0:n.trim(),r))return r}set secondaryColor(e){this.setAttribute(Se.SECONDARY_COLOR,`${e}`)}get accentColor(){var e,n;let r=this.getAttribute(Se.ACCENT_COLOR);if(r!=null||this.mediaTheme&&(r=(n=(e=Ls.getComputedStyle(this.mediaTheme))==null?void 0:e.getPropertyValue("--_accent-color"))==null?void 0:n.trim(),r))return r}set accentColor(e){this.setAttribute(Se.ACCENT_COLOR,`${e}`)}get defaultShowRemainingTime(){return this.hasAttribute(Se.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(e){e?this.setAttribute(Se.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(Se.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(Se.PLAYBACK_RATES))return this.getAttribute(Se.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(e=>Number(e)).filter(e=>!Number.isNaN(e)).sort((e,n)=>e-n)}set playbackRates(e){if(!e){this.removeAttribute(Se.PLAYBACK_RATES);return}this.setAttribute(Se.PLAYBACK_RATES,e.join(" "))}get forwardSeekOffset(){var e;return(e=Ti(this.getAttribute(Se.FORWARD_SEEK_OFFSET)))!=null?e:10}set forwardSeekOffset(e){this.setAttribute(Se.FORWARD_SEEK_OFFSET,`${e}`)}get backwardSeekOffset(){var e;return(e=Ti(this.getAttribute(Se.BACKWARD_SEEK_OFFSET)))!=null?e:10}set backwardSeekOffset(e){this.setAttribute(Se.BACKWARD_SEEK_OFFSET,`${e}`)}get defaultHiddenCaptions(){return this.hasAttribute(Se.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(e){e?this.setAttribute(Se.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(Se.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return Ti(this.getAttribute(Se.DEFAULT_DURATION))}set defaultDuration(e){e==null?this.removeAttribute(Se.DEFAULT_DURATION):this.setAttribute(Se.DEFAULT_DURATION,`${e}`)}get playerInitTime(){return this.hasAttribute(oe.PLAYER_INIT_TIME)?Ti(this.getAttribute(oe.PLAYER_INIT_TIME)):Qt(this,Kv)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(oe.PLAYER_INIT_TIME):this.setAttribute(oe.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=this.getAttribute(oe.PLAYER_SOFTWARE_NAME))!=null?e:yP}get playerSoftwareVersion(){var e;return(e=this.getAttribute(oe.PLAYER_SOFTWARE_VERSION))!=null?e:vP}get beaconCollectionDomain(){var e;return(e=this.getAttribute(oe.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(oe.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(oe.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var e;return(e=this.getAttribute(oe.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(oe.MAX_RESOLUTION,e):this.removeAttribute(oe.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(oe.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(oe.MIN_RESOLUTION,e):this.removeAttribute(oe.MIN_RESOLUTION))}get renditionOrder(){var e;return(e=this.getAttribute(oe.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(oe.RENDITION_ORDER,e):this.removeAttribute(oe.RENDITION_ORDER))}get programStartTime(){return Ti(this.getAttribute(oe.PROGRAM_START_TIME))}set programStartTime(e){e==null?this.removeAttribute(oe.PROGRAM_START_TIME):this.setAttribute(oe.PROGRAM_START_TIME,`${e}`)}get programEndTime(){return Ti(this.getAttribute(oe.PROGRAM_END_TIME))}set programEndTime(e){e==null?this.removeAttribute(oe.PROGRAM_END_TIME):this.setAttribute(oe.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){return Ti(this.getAttribute(oe.ASSET_START_TIME))}set assetStartTime(e){e==null?this.removeAttribute(oe.ASSET_START_TIME):this.setAttribute(oe.ASSET_START_TIME,`${e}`)}get assetEndTime(){return Ti(this.getAttribute(oe.ASSET_END_TIME))}set assetEndTime(e){e==null?this.removeAttribute(oe.ASSET_END_TIME):this.setAttribute(oe.ASSET_END_TIME,`${e}`)}get extraSourceParams(){return this.hasAttribute(Se.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(Se.EXTRA_SOURCE_PARAMS)).entries()].reduce((e,[n,r])=>(e[n]=r,e),{}):Jce}set extraSourceParams(e){e==null?this.removeAttribute(Se.EXTRA_SOURCE_PARAMS):this.setAttribute(Se.EXTRA_SOURCE_PARAMS,new URLSearchParams(e).toString())}get customDomain(){var e;return(e=this.getAttribute(oe.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(oe.CUSTOM_DOMAIN,e):this.removeAttribute(oe.CUSTOM_DOMAIN))}get envKey(){var e;return(e=$l(this,oe.ENV_KEY))!=null?e:void 0}set envKey(e){this.setAttribute(oe.ENV_KEY,`${e}`)}get noVolumePref(){return this.hasAttribute(Se.NO_VOLUME_PREF)}set noVolumePref(e){e?this.setAttribute(Se.NO_VOLUME_PREF,""):this.removeAttribute(Se.NO_VOLUME_PREF)}get debug(){return $l(this,oe.DEBUG)!=null}set debug(e){e?this.setAttribute(oe.DEBUG,""):this.removeAttribute(oe.DEBUG)}get disableTracking(){return $l(this,oe.DISABLE_TRACKING)!=null}set disableTracking(e){this.toggleAttribute(oe.DISABLE_TRACKING,!!e)}get disableCookies(){return $l(this,oe.DISABLE_COOKIES)!=null}set disableCookies(e){e?this.setAttribute(oe.DISABLE_COOKIES,""):this.removeAttribute(oe.DISABLE_COOKIES)}get streamType(){var e,n,r;return(r=(n=this.getAttribute(oe.STREAM_TYPE))!=null?n:(e=this.media)==null?void 0:e.streamType)!=null?r:tn.UNKNOWN}set streamType(e){this.setAttribute(oe.STREAM_TYPE,`${e}`)}get defaultStreamType(){var e,n,r;return(r=(n=this.getAttribute(Se.DEFAULT_STREAM_TYPE))!=null?n:(e=this.mediaController)==null?void 0:e.getAttribute(Se.DEFAULT_STREAM_TYPE))!=null?r:tn.ON_DEMAND}set defaultStreamType(e){e?this.setAttribute(Se.DEFAULT_STREAM_TYPE,e):this.removeAttribute(Se.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var e,n;return this.hasAttribute(Se.TARGET_LIVE_WINDOW)?+this.getAttribute(Se.TARGET_LIVE_WINDOW):(n=(e=this.media)==null?void 0:e.targetLiveWindow)!=null?n:Number.NaN}set targetLiveWindow(e){e==this.targetLiveWindow||Number.isNaN(e)&&Number.isNaN(this.targetLiveWindow)||(e==null?this.removeAttribute(Se.TARGET_LIVE_WINDOW):this.setAttribute(Se.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e;return(e=this.media)==null?void 0:e.liveEdgeStart}get startTime(){return Ti($l(this,oe.START_TIME))}set startTime(e){this.setAttribute(oe.START_TIME,`${e}`)}get preferPlayback(){let e=this.getAttribute(oe.PREFER_PLAYBACK);if(e===fo.MSE||e===fo.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===fo.MSE||e===fo.NATIVE?this.setAttribute(oe.PREFER_PLAYBACK,e):this.removeAttribute(oe.PREFER_PLAYBACK))}get metadata(){var e;return(e=this.media)==null?void 0:e.metadata}set metadata(e){if(Yn(this,On,Ga).call(this),!this.media){qi("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...gP(this),...e}}get _hlsConfig(){var e;return(e=this.media)==null?void 0:e._hlsConfig}set _hlsConfig(e){if(Yn(this,On,Ga).call(this),!this.media){qi("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=e}async addCuePoints(e){var n;if(Yn(this,On,Ga).call(this),!this.media){qi("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(n=this.media)==null?void 0:n.addCuePoints(e)}get activeCuePoint(){var e;return(e=this.media)==null?void 0:e.activeCuePoint}get cuePoints(){var e,n;return(n=(e=this.media)==null?void 0:e.cuePoints)!=null?n:[]}addChapters(e){var n;if(Yn(this,On,Ga).call(this),!this.media){qi("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(n=this.media)==null?void 0:n.addChapters(e)}get activeChapter(){var e;return(e=this.media)==null?void 0:e.activeChapter}get chapters(){var e,n;return(n=(e=this.media)==null?void 0:e.chapters)!=null?n:[]}getStartDate(){var e;return(e=this.media)==null?void 0:e.getStartDate()}get currentPdt(){var e;return(e=this.media)==null?void 0:e.currentPdt}get tokens(){let e=this.getAttribute(Se.PLAYBACK_TOKEN),n=this.getAttribute(Se.DRM_TOKEN),r=this.getAttribute(Se.THUMBNAIL_TOKEN),i=this.getAttribute(Se.STORYBOARD_TOKEN);return{...Qt(this,Yv),...e!=null?{playback:e}:{},...n!=null?{drm:n}:{},...r!=null?{thumbnail:r}:{},...i!=null?{storyboard:i}:{}}}set tokens(e){xo(this,Yv,e??{})}get playbackToken(){var e;return(e=this.getAttribute(Se.PLAYBACK_TOKEN))!=null?e:void 0}set playbackToken(e){this.setAttribute(Se.PLAYBACK_TOKEN,`${e}`)}get drmToken(){var e;return(e=this.getAttribute(Se.DRM_TOKEN))!=null?e:void 0}set drmToken(e){this.setAttribute(Se.DRM_TOKEN,`${e}`)}get thumbnailToken(){var e;return(e=this.getAttribute(Se.THUMBNAIL_TOKEN))!=null?e:void 0}set thumbnailToken(e){this.setAttribute(Se.THUMBNAIL_TOKEN,`${e}`)}get storyboardToken(){var e;return(e=this.getAttribute(Se.STORYBOARD_TOKEN))!=null?e:void 0}set storyboardToken(e){this.setAttribute(Se.STORYBOARD_TOKEN,`${e}`)}addTextTrack(e,n,r,i){var s;let o=(s=this.media)==null?void 0:s.nativeEl;if(o)return Jw(o,e,n,r,i)}removeTextTrack(e){var n;let r=(n=this.media)==null?void 0:n.nativeEl;if(r)return yie(r,e)}get textTracks(){var e;return(e=this.media)==null?void 0:e.textTracks}get castReceiver(){var e;return(e=this.getAttribute(Se.CAST_RECEIVER))!=null?e:void 0}set castReceiver(e){e!==this.castReceiver&&(e?this.setAttribute(Se.CAST_RECEIVER,e):this.removeAttribute(Se.CAST_RECEIVER))}get castCustomData(){var e;return(e=this.media)==null?void 0:e.castCustomData}set castCustomData(e){if(!this.media){qi("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=e}get noTooltips(){return this.hasAttribute(Se.NO_TOOLTIPS)}set noTooltips(e){if(!e){this.removeAttribute(Se.NO_TOOLTIPS);return}this.setAttribute(Se.NO_TOOLTIPS,"")}};Kv=new WeakMap,zv=new WeakMap,Yv=new WeakMap,lc=new WeakMap,qv=new WeakMap,xd=new WeakMap,On=new WeakSet,Ga=function(){var t,e,n,r;if(!Qt(this,zv)){xo(this,zv,!0),Yn(this,On,cc).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof Ls.HTMLElement))throw""}catch{qi("<media-theme> failed to upgrade!")}try{if(customElements.upgrade(this.media),!(this.media instanceof Ele))throw""}catch{qi("<mux-video> failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof ooe))throw""}catch{qi("<media-controller> failed to upgrade!")}this.init(),Yn(this,On,EP).call(this),Yn(this,On,xP).call(this),Yn(this,On,SP).call(this),xo(this,lc,(e=(t=this.mediaController)==null?void 0:t.hasAttribute(Ot.USER_INACTIVE))!=null?e:!0),Yn(this,On,TP).call(this),(n=this.media)==null||n.addEventListener("streamtypechange",()=>Yn(this,On,cc).call(this)),(r=this.media)==null||r.addEventListener("loadstart",()=>Yn(this,On,cc).call(this))}},RF=function(){var t,e;try{(t=window==null?void 0:window.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window==null?void 0:window.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},vA=function(t){Object.assign(Qt(this,xd),t),Yn(this,On,cc).call(this)},cc=function(t={}){Pce(Oce(Kce(this,{...Qt(this,xd),...t})),this.shadowRoot)},EP=function(){let t=e=>{var n,r;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(gA.includes(i))return;let s=this.getAttribute(e);s!=null?(n=this.mediaTheme)==null||n.setAttribute(i,s):(r=this.mediaTheme)==null||r.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:n}of e)t(n)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},xP=function(){var t;let e=n=>{let{detail:r}=n;if(r instanceof De||(r=new De(r.message,r.code,r.fatal)),!(r!=null&&r.fatal)){Qo(r),r.data&&Qo(`${r.name} data:`,r.data);return}let i=fP(r);i.message&&AF(i),qi(r),r.data&&qi(`${r.name} data:`,r.data),Yn(this,On,vA).call(this,{isDialogOpen:!0})};this.addEventListener("error",e),this.media&&(this.media.errorTranslator=(n={})=>{var r,i,s;if(!(((r=this.media)==null?void 0:r.error)instanceof De))return n;let o=fP((i=this.media)==null?void 0:i.error);return{player_error_code:(s=this.media)==null?void 0:s.error.code,player_error_message:o.message?String(o.message):n.player_error_message,player_error_context:o.context?String(o.context):n.player_error_context}}),(t=this.media)==null||t.addEventListener("error",n=>{var r,i;let{detail:s}=n;if(!s){let{message:o,code:a}=(i=(r=this.media)==null?void 0:r.error)!=null?i:{};s=new De(o,a)}s!=null&&s.fatal&&this.dispatchEvent(new CustomEvent("error",{detail:s}))})},SP=function(){var t,e,n,r;let i=()=>Yn(this,On,cc).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(r=(n=this.media)==null?void 0:n.textTracks)==null||r.addEventListener("removetrack",i)},TP=function(){var t,e;if(!/Firefox/i.test(navigator.userAgent))return;let n,r=new WeakMap,i=()=>this.streamType===tn.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,s=(c,u,h=!1)=>{i()||Array.from(c&&c.activeCues||[]).forEach(f=>{if(!(!f.snapToLines||f.line<-5||f.line>=0&&f.line<10))if(!u||this.paused){let p=f.text.split(`
`).length,g=-3;this.streamType===tn.LIVE&&(g=-2);let v=g-p;if(f.line===v&&!h)return;r.has(f)||r.set(f,f.line),f.line=v}else setTimeout(()=>{f.line=r.get(f)||"auto"},500)})},o=()=>{var c,u;s(n,(u=(c=this.mediaController)==null?void 0:c.hasAttribute(Ot.USER_INACTIVE))!=null?u:!1)},a=()=>{var c,u;let h=Array.from(((u=(c=this.mediaController)==null?void 0:c.media)==null?void 0:u.textTracks)||[]).filter(f=>["subtitles","captions"].includes(f.kind)&&f.mode==="showing")[0];h!==n&&(n==null||n.removeEventListener("cuechange",o)),n=h,n==null||n.addEventListener("cuechange",o),s(n,Qt(this,lc))};a(),(t=this.textTracks)==null||t.addEventListener("change",a),(e=this.textTracks)==null||e.addEventListener("addtrack",a),this.addEventListener("userinactivechange",()=>{var c,u;let h=(u=(c=this.mediaController)==null?void 0:c.hasAttribute(Ot.USER_INACTIVE))!=null?u:!0;Qt(this,lc)!==h&&(xo(this,lc,h),s(n,Qt(this,lc)))})};function $l(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}Ls.customElements.get("mux-player")||(Ls.customElements.define("mux-player",AP),Ls.MuxPlayerElement=AP);var IF=parseInt(br.version)>=19,wP={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},eue=t=>t==null,tue=(t,e)=>eue(e)?!1:t in e,nue=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),rue=(t,e)=>{if(!(!IF&&typeof e=="boolean"&&!e)){if(tue(t,wP))return wP[t];if(typeof e<"u")return/[A-Z]/.test(t)?nue(t):t}},iue=(t,e)=>!IF&&typeof t=="boolean"?"":t,sue=(t={})=>Object.entries(t).reduce((e,[n,r])=>{let i=rue(n,r);if(!i)return e;let s=iue(r);return e[i]=s,e},{}),oue=(...t)=>{let e=I.useRef(null);return I.useEffect(()=>{t.forEach(n=>{n&&(typeof n=="function"?n(e.current):n.current=e.current)})},[t]),e},aue=Object.prototype.hasOwnProperty,lue=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,s)=>e[s]===i);let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!aue.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0},LF=(t,e,n)=>!lue(e,t[n]),cue=(t,e,n)=>{t[n]=e},uue=(t,e,n,r=cue,i=LF)=>I.useEffect(()=>{let s=n==null?void 0:n.current;s&&i(s,e,t)&&r(s,e,t)},[n==null?void 0:n.current,e]),Hs=uue,due=()=>{try{return"3.2.4"}catch{}return"UNKNOWN"},hue=due(),fue=()=>hue,pue=br.forwardRef(({children:t,...e},n)=>br.createElement("mux-player",sue({...e,ref:n}),t)),un=(t,e,n)=>I.useEffect(()=>{let r=e==null?void 0:e.current;if(!(!r||!n))return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}},[e==null?void 0:e.current,n]),mue=(t,e)=>{let{onAbort:n,onCanPlay:r,onCanPlayThrough:i,onEmptied:s,onLoadStart:o,onLoadedData:a,onLoadedMetadata:c,onProgress:u,onDurationChange:h,onVolumeChange:f,onRateChange:p,onResize:g,onWaiting:v,onPlay:y,onPlaying:E,onTimeUpdate:S,onPause:w,onSeeking:T,onSeeked:C,onStalled:_,onSuspend:L,onEnded:D,onError:P,onCuePointChange:N,onCuePointsChange:k,onChapterChange:$,metadata:z,tokens:j,paused:q,playbackId:G,playbackRates:H,currentTime:Q,themeProps:W,extraSourceParams:V,castCustomData:K,_hlsConfig:B,...Z}=e;return Hs("playbackRates",H,t),Hs("metadata",z,t),Hs("extraSourceParams",V,t),Hs("_hlsConfig",B,t),Hs("themeProps",W,t),Hs("tokens",j,t),Hs("playbackId",G,t),Hs("castCustomData",K,t),Hs("paused",q,t,(ue,fe)=>{fe!=null&&(fe?ue.pause():ue.play())},(ue,fe,me)=>ue.hasAttribute("autoplay")&&!ue.hasPlayed?!1:LF(ue,fe,me)),Hs("currentTime",Q,t,(ue,fe)=>{fe!=null&&(ue.currentTime=fe)}),un("abort",t,n),un("canplay",t,r),un("canplaythrough",t,i),un("emptied",t,s),un("loadstart",t,o),un("loadeddata",t,a),un("loadedmetadata",t,c),un("progress",t,u),un("durationchange",t,h),un("volumechange",t,f),un("ratechange",t,p),un("resize",t,g),un("waiting",t,v),un("play",t,y),un("playing",t,E),un("timeupdate",t,S),un("pause",t,w),un("seeking",t,T),un("seeked",t,C),un("stalled",t,_),un("suspend",t,L),un("ended",t,D),un("error",t,P),un("cuepointchange",t,N),un("cuepointschange",t,k),un("chapterchange",t,$),[Z]},gue=fue(),vue="mux-player-react",yue=br.forwardRef((t,e)=>{var n;let r=I.useRef(null),i=oue(r,e),[s]=mue(r,t),[o]=I.useState((n=t.playerInitTime)!=null?n:n_());return br.createElement(pue,{ref:i,playerSoftwareName:vue,playerSoftwareVersion:gue,playerInitTime:o,...s})}),DF=yue;const bue=({competition:t,onBack:e,onClose:n,onSubmitPitch:r,onViewLeaderboard:i})=>{const{id:s,title:o,description:a,dates:c,prizes:u,rules:h,eligibility:f,maxTeamSize:p,status:g}=t;return b.jsxs(b.Fragment,{children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{onClick:e,size:"small",children:b.jsx(qd,{})}),b.jsx(ce,{variant:"h6",children:"Competition Details"})]}),b.jsx(At,{onClick:n,size:"small",children:b.jsx(is,{})})]})}),b.jsx(Jr,{children:b.jsxs(Ds,{spacing:3,children:[b.jsxs(ie,{children:[b.jsx(ce,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:o}),b.jsx(ce,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:a}),b.jsx(ie,{sx:{mt:2,mb:4},children:b.jsx(DF,{streamType:"on-demand",playbackId:"ulXSeoy4rgSxgL02hqIlr58BZ66aiXqflANbiakPKLiM",style:{width:"100%",borderRadius:"8px",aspectRatio:"16 / 9"}})})]}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Key Dates"}),b.jsxs(hd,{dense:!0,disablePadding:!0,children:[b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(IS,{color:"action"})}),b.jsx(xs,{primary:"Competition Period",secondary:`${c.start}  ${c.end}`})]}),b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(IS,{color:"action"})}),b.jsx(xs,{primary:"Submission Deadline",secondary:c.submissionDeadline})]})]})]}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Prizes"}),b.jsxs(hd,{dense:!0,disablePadding:!0,children:[b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(qf,{color:"primary"})}),b.jsx(xs,{primary:"Grand Prize",secondary:u.grandPrize})]}),b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(qf,{color:"action"})}),b.jsx(xs,{primary:"First Place",secondary:u.firstPlace})]}),b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(qf,{color:"action"})}),b.jsx(xs,{primary:"Runner Up",secondary:u.runnerUp})]})]})]}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Rules & Requirements"}),b.jsxs(hd,{dense:!0,disablePadding:!0,children:[Array.isArray(h)?h.map((v,y)=>b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(z2,{color:"action"})}),b.jsx(xs,{primary:v})]},y)):b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(z2,{color:"action"})}),b.jsx(xs,{primary:h})]}),b.jsxs(Es,{disableGutters:!0,children:[b.jsx(Oa,{sx:{minWidth:36},children:b.jsx(V3,{color:"action"})}),b.jsx(xs,{primary:"Team Size",secondary:`Maximum ${p} members`})]})]})]}),b.jsx(ie,{sx:{mt:4},children:b.jsxs(Ds,{spacing:2,children:[b.jsx(St,{variant:"contained",fullWidth:!0,size:"large",onClick:()=>r(t),disabled:g!=="ongoing",children:"Submit My Pitch"}),b.jsx(St,{variant:"outlined",fullWidth:!0,size:"large",onClick:()=>i(s),children:"View Leaderboard"})]})})]})})]})},Eue=({onAdd:t})=>{const[e,n]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(""),a=()=>{e.trim()&&(t({id:Date.now().toString(),name:e.trim(),role:r.trim()||"Team Member",email:s.trim()}),n(""),i(""),o(""))};return b.jsx(ie,{sx:{mb:2},children:b.jsxs(Zt,{container:!0,spacing:2,alignItems:"flex-start",children:[b.jsx(Zt,{item:!0,xs:12,sm:4,children:b.jsx(Rs,{fullWidth:!0,label:"Name",value:e,onChange:c=>n(c.target.value),placeholder:"Team member name",variant:"outlined",size:"small"})}),b.jsx(Zt,{item:!0,xs:12,sm:3,children:b.jsx(Rs,{fullWidth:!0,label:"Role",value:r,onChange:c=>i(c.target.value),placeholder:"Role",variant:"outlined",size:"small"})}),b.jsx(Zt,{item:!0,xs:12,sm:3,children:b.jsx(Rs,{fullWidth:!0,label:"Email",value:s,onChange:c=>o(c.target.value),placeholder:"Email",variant:"outlined",size:"small"})}),b.jsx(Zt,{item:!0,xs:12,sm:2,sx:{display:"flex",alignItems:"center"},children:b.jsx(St,{variant:"contained",onClick:a,startIcon:b.jsx(j3,{}),disabled:!e.trim(),fullWidth:!0,children:"Add"})})]})})},PF=({open:t,competition:e,existingSubmission:n,onClose:r,onBack:i,onSubmit:s})=>{const o=Zr(),a=am(o.breakpoints.down("md")),[c,u]=I.useState({title:"",description:"",video:null,videoPreview:"",website:"",team:[],categories:[]}),[h,f]=I.useState(!1),[p,g]=I.useState(!1),[v,y]=I.useState({}),E=[{id:"black",label:"BLACK",color:"#000000"},{id:"white",label:"WHITE",color:"#FFFFFF",textColor:"#000000"},{id:"grey",label:"GREY",color:"#9E9E9E"},{id:"yellow",label:"YELLOW",color:"#FFC107"},{id:"blue",label:"BLUE",color:"#2196F3"},{id:"purple",label:"PURPLE",color:"#9C27B0"},{id:"green",label:"GREEN",color:"#4CAF50"},{id:"red",label:"RED",color:"#F44336"},{id:"pink",label:"PINK",color:"#E91E63"},{id:"orange",label:"ORANGE",color:"#FF9800"},{id:"gold",label:"GOLD",color:"#FFD700"},{id:"silver",label:"SILVER",color:"#C0C0C0",textColor:"#000000"}];I.useEffect(()=>{n&&u({title:n.name,description:n.description,video:null,videoPreview:n.video.thumbnailUrl,website:"",team:n.team,categories:["blue","purple","green","red"]})},[n]);const S=()=>{const P={title:c.title.trim()?void 0:"Pitch name is required",description:c.description.trim()?void 0:"Description is required",video:!c.video&&!c.videoPreview?"Video is required":void 0};return y(P),!Object.values(P).some(Boolean)},w=async()=>{if(S())try{f(!0),await s(c)}catch(P){console.error("Submission error:",P)}finally{f(!1)}},T=P=>{g(!0),setTimeout(()=>{var k;const N=(k=P.target.files)==null?void 0:k[0];N&&(u($=>({...$,video:N,videoPreview:URL.createObjectURL(N)})),y($=>({...$,video:void 0}))),g(!1)},1500)},C=()=>{c.videoPreview&&c.video&&URL.revokeObjectURL(c.videoPreview),u(P=>({...P,video:null,videoPreview:""}))},_=P=>{u(N=>({...N,team:[...N.team,P]}))},L=P=>{u(N=>({...N,team:N.team.filter(k=>k.id!==P)}))},D=P=>{u(N=>{const k=N.categories||[];return k.includes(P)?{...N,categories:k.filter($=>$!==P)}:{...N,categories:[...k,P]}})};return b.jsxs(Kr,{open:t,onClose:r,fullScreen:a,PaperProps:{sx:{maxWidth:"800px",width:"100%",height:a?"100%":"95vh",maxHeight:"95vh",margin:2,borderRadius:2}},children:[b.jsx(gi,{sx:{px:3,py:2,borderBottom:"1px solid",borderColor:"divider"},children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{onClick:i,size:"small",edge:"start",children:b.jsx(qd,{})}),b.jsx(ce,{variant:"h6",sx:{fontWeight:600},children:n?"Edit Submission":"Create New Submission"})]}),b.jsx(At,{onClick:r,size:"small",edge:"end",children:b.jsx(is,{})})]})}),b.jsx(Jr,{sx:{p:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:b.jsxs(ie,{sx:{flex:1,overflow:"auto",px:3,py:3},children:[b.jsxs(ie,{sx:{display:"flex",mb:4,bgcolor:"primary.50",p:2,borderRadius:2,border:"1px solid",borderColor:"primary.100"},children:[b.jsx(Qr,{sx:{bgcolor:"primary.main",mr:2,width:40,height:40},children:"C"}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"body2",sx:{mb:1},children:"Here is the pitch I recommend for this competition"}),b.jsx(ce,{variant:"caption",color:"text.secondary",children:"Based on your past submissions and the competition requirements"})]})]}),b.jsxs(ie,{sx:{mb:4},children:[c.videoPreview?b.jsxs(ie,{sx:{position:"relative",borderRadius:2,overflow:"hidden",height:240,bgcolor:"black","&:hover .video-controls":{opacity:1}},children:[b.jsx(ie,{component:"img",src:c.videoPreview,alt:"Video preview",sx:{width:"100%",height:"100%",objectFit:"cover"}}),b.jsxs(ie,{className:"video-controls",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",opacity:.7,transition:"opacity 0.2s"},children:[b.jsx(At,{sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},mr:2},children:b.jsx(kw,{})}),b.jsx(At,{onClick:C,sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"}},children:b.jsx(K2,{})})]})]}):b.jsxs(ie,{sx:{position:"relative",border:"2px dashed",borderColor:v.video?"error.main":"divider",borderRadius:2,p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:240,bgcolor:v.video?"error.50":"background.default",transition:"all 0.2s"},children:[p?b.jsx(ow,{size:40,sx:{mb:2}}):b.jsx(mQ,{sx:{fontSize:40,mb:2,color:v.video?"error.main":"action.active"}}),b.jsx(ce,{variant:"body1",gutterBottom:!0,color:v.video?"error":"text.primary",children:p?"Uploading video...":"Upload your pitch video"}),b.jsx(ce,{variant:"body2",color:v.video?"error":"text.secondary",gutterBottom:!0,textAlign:"center",children:"Drag and drop your video file here, or click to browse"}),b.jsx(ce,{variant:"caption",color:v.video?"error":"text.secondary",children:"Supported formats: MP4, MOV, AVI (max 500MB)"}),b.jsx(ie,{component:"label",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",cursor:p?"default":"pointer"},children:b.jsx("input",{type:"file",accept:"video/*",onChange:T,style:{position:"absolute",opacity:0,width:"1px",height:"1px",overflow:"hidden"},disabled:p})})]}),c.videoPreview&&b.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[b.jsx(St,{variant:"contained",fullWidth:!0,sx:{mr:1},children:"Submit this version"}),b.jsx(St,{variant:"outlined",fullWidth:!0,sx:{ml:1},children:"Choose a different version"})]}),v.video&&b.jsx(c3,{error:!0,children:v.video})]}),b.jsxs(ie,{sx:{mb:4},children:[b.jsx(Rs,{fullWidth:!0,label:"Team name",value:c.title,onChange:P=>{u(N=>({...N,title:P.target.value})),y(N=>({...N,title:void 0}))},error:!!v.title,helperText:v.title,placeholder:"Enter your team name",sx:{mb:3}}),b.jsx(Rs,{fullWidth:!0,label:"Description",value:c.description,onChange:P=>{u(N=>({...N,description:P.target.value})),y(N=>({...N,description:void 0}))},error:!!v.description,helperText:v.description,placeholder:"Describe your submission",multiline:!0,rows:4,sx:{mb:3}}),b.jsx(Rs,{fullWidth:!0,label:"Executive Summary Link",value:c.website||"",onChange:P=>{u(N=>({...N,website:P.target.value}))},placeholder:"https://link",sx:{mb:1}}),b.jsx(St,{variant:"text",size:"small",color:"primary",startIcon:b.jsx(cy,{}),sx:{mb:3},children:"Edit links"})]}),b.jsxs(ie,{sx:{mb:4},children:[b.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[b.jsx(ce,{variant:"subtitle1",sx:{fontWeight:600},children:"Categories"}),b.jsx(ce,{variant:"caption",color:"primary",sx:{display:"flex",alignItems:"center",bgcolor:"primary.50",p:.5,px:1,borderRadius:10},children:"1"})]}),b.jsx(Zt,{container:!0,spacing:1,sx:{mb:3},children:E.map(P=>{var N,k;return b.jsx(Zt,{item:!0,children:b.jsx(Wd,{label:P.label,onClick:()=>D(P.id),sx:{bgcolor:P.color,color:P.textColor||"white",opacity:(N=c.categories)!=null&&N.includes(P.id)?1:.7,"&:hover":{opacity:1}},clickable:!0,variant:(k=c.categories)!=null&&k.includes(P.id)?"filled":"outlined"})},P.id)})})]}),b.jsxs(ie,{sx:{mb:4},children:[b.jsx(ce,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Teammates"}),c.team&&c.team.length>0?b.jsx(ie,{sx:{mb:3},children:c.team.map((P,N)=>b.jsxs(ie,{sx:{display:"flex",alignItems:"center",mb:2,p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1},children:[b.jsx(Qr,{sx:{mr:2},children:P.name.charAt(0)}),b.jsxs(ie,{sx:{flex:1},children:[b.jsx(ce,{variant:"body1",children:P.name}),b.jsxs(ce,{variant:"body2",color:"text.secondary",children:[P.role||"Team Member"," ",P.email&&` ${P.email}`]})]}),b.jsx(At,{size:"small",color:"error",onClick:()=>L(P.id),children:b.jsx(K2,{fontSize:"small"})})]},P.id||N))}):b.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No team members added yet."}),b.jsx(St,{variant:"outlined",startIcon:b.jsx(cy,{}),fullWidth:!0,sx:{mb:2},children:"Edit teammates"}),b.jsx(Fc,{sx:{mb:3}}),b.jsx(Eue,{onAdd:_})]}),b.jsxs(ie,{sx:{display:"flex",gap:2,mt:4},children:[b.jsx(St,{variant:"outlined",color:"error",sx:{flex:1},children:"Delete"}),b.jsx(St,{variant:"contained",color:"primary",onClick:w,disabled:h||!c.videoPreview,sx:{flex:2},children:h?"Saving...":"Save"}),b.jsx(St,{variant:"contained",color:"secondary",sx:{flex:2},children:"Un-publish"})]})]})})]})};br.forwardRef((t,e)=>b.jsx(l3,{direction:"left",ref:e,...t}));const MF=({open:t,onClose:e,onClick:n,onView:r,onSubmitPitch:i,onViewLeaderboard:s})=>{const o=Zr(),a=am(o.breakpoints.down("md")),[c,u]=I.useState("list"),[h,f]=I.useState(null),{setSubmissionDashboardOpen:p}=Yd(),g=[{id:"1",title:"Startup Pitch Competition",description:"Submit your startup pitch for a chance to win funding and mentorship",startDate:"2024-03-01",endDate:"2024-04-01",status:"ongoing",organizerName:"Techstars",organizerId:"org-123",dates:{start:"March 1, 2024",end:"April 1, 2024",submissionDeadline:"March 25, 2024"},prizes:{grandPrize:"$50,000 Investment and Mentorship",firstPlace:"$25,000 Investment",runnerUp:"$10,000 Investment",otherPrizes:["Mentorship Opportunities","Networking Event Access"]},rules:["All submissions must be original","Entries must be submitted before the deadline","Teams must have at least one founder present during judging"],maxTeamSize:5,eligibility:["Open to startups less than 3 years old"]},{id:"2",title:"AI Innovation Challenge",description:"Showcase your AI solutions for real-world problems",startDate:"2024-04-15",endDate:"2024-05-15",status:"upcoming",organizerName:"AI Alliance",organizerId:"org-456",dates:{start:"April 15, 2024",end:"May 15, 2024",submissionDeadline:"May 10, 2024"},prizes:{grandPrize:"$75,000 Investment",firstPlace:"$40,000 Investment",runnerUp:"$15,000 Investment",otherPrizes:["AI Computing Credits","Expert Mentorship"]},rules:["Solutions must use AI/ML technologies","Open source contributions are encouraged","Demo video required with submission"],maxTeamSize:4,eligibility:["Open to all"]}],v=C=>{f(C),u("preview")},y=C=>{f(C),u("submit")},E=C=>{console.log("View leaderboard for competition:",C)},S=()=>{c==="preview"?u("list"):c==="submit"&&u("preview")},w=()=>{u("preview")},T=async C=>{console.log("Submission data:",C),u("list"),setTimeout(()=>{e(),p(!0)},500)};return b.jsxs(Kr,{open:t,onClose:e,fullScreen:a,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{height:"95vh",maxHeight:"95vh",ml:2,mr:2}},children:[c==="list"&&b.jsxs(b.Fragment,{children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsx(ce,{variant:"h6",children:"Competition Dashboard"}),b.jsx(At,{size:"small",onClick:e,children:b.jsx(is,{})})]})}),b.jsxs(Jr,{children:[b.jsx(ce,{variant:"h5",gutterBottom:!0,children:"Competitions"}),b.jsx(ce,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Join these pitch competitions to showcase your ideas and win prizes"}),b.jsx(Zt,{container:!0,spacing:3,children:g.map(C=>b.jsx(Zt,{item:!0,xs:12,sm:6,children:b.jsx(xQ,{competition:C,onClick:()=>v(C)})},C.id))})]})]}),c==="preview"&&h&&b.jsx(bue,{competition:h,onBack:S,onClose:e,onSubmitPitch:y,onViewLeaderboard:E}),c==="submit"&&h&&b.jsx(PF,{open:!0,competition:h,onBack:S,onClose:w,onSubmit:T})]})},xue={PITCH_HISTORY:{triggers:["history","version","find version","past pitches","compare pitches","view history"],action:"openPitchVersions",responses:["I can help you find pitch versions. Would you like to compare previous pitches or view your history?"],quickReplies:["Compare pitches"]},PITCH_ANALYSIS:{triggers:["analysis","see analysis","detailed breakdown"],action:"openAnalysis",responses:["I'll pull up a detailed analysis of your pitch performance. What aspects would you like to focus on?"],quickReplies:["Overall metrics","Specific improvements"]},PITCH_IMPROVEMENTS:{triggers:["improvements","show improvements","specific improvements"],action:"openImprovements",responses:["I'll show you the key areas for improvement in your pitch. Would you like to focus on content or delivery?"],quickReplies:["Content focus","Delivery focus"]},TEAM_FEEDBACK:{triggers:["team feedback","get feedback","show feedback","feedback"],action:"openTeamFeedback",responses:["Let's check what feedback your team has provided. Would you like to see recent comments or request new feedback?"],quickReplies:["Recent feedback"]},COMPETITIONS:{triggers:["competition","enter competition","find competitions"],action:"openCompetitionHub",responses:["I can help you find pitch competitions. Would you like to see upcoming events or practice for a specific competition?"],quickReplies:["View competitions"]},DASHBOARD:{triggers:["dashboard","my pitches"],action:"openSubmissionDashboard",responses:["I'll show you your submissions dashboard. Would you like to see your existing submissions or create a new one?"],quickReplies:["View submissions","Create new submission"]},SUBMISSIONS:{triggers:["submissions","my submissions","view submissions","competition submissions"],action:"openSubmissionDashboard",responses:["I'll open your submissions dashboard. You can view your existing submissions or create a new one."],quickReplies:["Create new submission","View past submissions"]},NEW_SUBMISSION:{triggers:["new submission","create submission","submit pitch","enter competition"],action:"openSubmissionForm",responses:["Let's create a new submission for a competition. Would you like to use an existing pitch or record a new one?"],quickReplies:["Use existing pitch","Record new pitch"]},PROFILE:{triggers:["my profile","view profile","profile"],action:"openProfile",responses:["I'll open your profile settings. Would you like to update your information or manage your preferences?"],quickReplies:["Update info"]},NEW_PITCH:{triggers:["new pitch","upload new pitch","record pitch","upload video","record now"],action:"openMediaDialog",responses:["I'd be happy to help you record a new pitch! Would you like to upload a video or record one now?"],quickReplies:["Record now","Upload video"]}},Sue={RADIANT_HUE:{versions:[{id:"harper-v1",title:"RadiantHue Initial Pitch",videoUrl:"v3Y602TiLPaUfsZN9VfumowhaC3IWCA200tCMWvg2AkPo",timestamp:"2025-01-15T10:00:00Z",analysis:{score:70,metrics:{clarity:65,pace:75,engagement:70}},feedback:[{id:"f1",author:"Coach",content:"Good initial pitch. Focus on slower delivery in the introduction.",timestamp:"2025-01-15T10:30:00Z"}],isFavorite:!1},{id:"harper-v2",title:"RadiantHue Refined Pitch",videoUrl:"YYtQ34SRyksieH026qohfbOhBNd02LQAK3Fgt8wk5J8tM",timestamp:"2025-01-16T14:00:00Z",analysis:{score:82,metrics:{clarity:80,pace:85,engagement:81}},feedback:[{id:"f2",author:"Coach",content:"Much improved! Your pacing is better and the value proposition is clearer.",timestamp:"2025-01-16T14:30:00Z"}],isFavorite:!0},{id:"harper-v3",title:"RadiantHue Final Pitch",videoUrl:"00YR82qyS8utVtQuisE48P5BGqeeaUVxxJfR8LhiRsFk",timestamp:"2025-01-17T16:00:00Z",analysis:{score:90,metrics:{clarity:88,pace:92,engagement:90}},feedback:[{id:"f3",author:"Coach",content:"Excellent final version! Your confidence shows and the message is compelling.",timestamp:"2025-01-17T16:30:00Z"}],isFavorite:!1}]}},Tue=({total:t,current:e,onChange:n})=>b.jsx(ie,{sx:{display:"flex",justifyContent:"center",gap:1,mt:2},children:Array.from({length:t}).map((r,i)=>b.jsx(ie,{onClick:()=>n(i),sx:{width:8,height:8,borderRadius:"50%",bgcolor:i===e?"primary.main":"grey.300",cursor:"pointer",transition:"all 0.2s ease","&:hover":{bgcolor:i===e?"primary.dark":"grey.400",transform:"scale(1.2)"}}},i))}),E0=({label:t,value:e,color:n})=>b.jsxs(ie,{sx:{width:"100%"},children:[b.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[b.jsx(ce,{variant:"body2",children:t}),b.jsxs(ce,{variant:"body2",fontWeight:"medium",children:[e,"%"]})]}),b.jsx(ie,{sx:{width:"100%",height:8,bgcolor:"grey.100",borderRadius:1,overflow:"hidden"},children:b.jsx(ie,{sx:{width:`${e}%`,height:"100%",bgcolor:n,borderRadius:1,transition:"width 0.3s ease"}})})]}),Aue=({version:t})=>b.jsxs(lr,{sx:{p:3,bgcolor:"grey.50"},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Detailed Analysis"}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"body1",sx:{mb:1},children:"Your pitch for Radiant Hue has improved in clarity and focus. You effectively highlight the use of ethically sourced natural ingredients and inclusivity, which strengthens your unique selling proposition."}),b.jsx(ce,{variant:"body1",sx:{mb:1},children:"However, areas needing improvement remain. The previous analysis suggested adding an engaging question, which was not incorporated. Additionally, filler words like 'uh' and 'you know' reduce the professional tone."})]}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"subtitle1",sx:{mb:1,fontWeight:"medium"},children:"Technical Analysis"}),b.jsx(ie,{sx:{pl:2},children:b.jsxs(ce,{component:"div",children:[" ",b.jsx("strong",{children:"Visual Quality:"})," Clean background, good lighting, and professional attire.",b.jsx("br",{})," ",b.jsx("strong",{children:"Eye Contact:"})," Varied, but maintaining more consistent focus on the camera would help.",b.jsx("br",{})," ",b.jsx("strong",{children:"Body Language:"})," Neutral; adding more expressive gestures can enhance engagement.",b.jsx("br",{})," ",b.jsx("strong",{children:"Filler Words:"})," 'Uh' and 'you know' detract from professionalismminimizing these will strengthen your delivery."]})})]}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"subtitle1",sx:{mb:1,fontWeight:"medium"},children:"Suggestions"}),b.jsx(ie,{sx:{pl:2},children:b.jsxs(ce,{component:"div",children:[" ",b.jsx("strong",{children:"Engage the Audience:"})," Introduce a question or interactive element.",b.jsx("br",{})," ",b.jsx("strong",{children:"Reduce Filler Words:"})," Minimize 'uh' and 'you know' for a more polished delivery.",b.jsx("br",{})," ",b.jsx("strong",{children:"Enhance Confidence:"})," Project a more professional and assured tone.",b.jsx("br",{})," ",b.jsx("strong",{children:"Consistent Eye Contact:"})," Maintaining steady camera focus will increase audience engagement.",b.jsx("br",{})," ",b.jsx("strong",{children:"Express Enthusiasm:"})," Use varied facial expressions and body language to emphasize key points."]})})]})]}),OF=({open:t,onClose:e})=>{const[n,r]=I.useState(0),i=Sue.RADIANT_HUE.versions;return b.jsxs(Kr,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{m:1,width:"100%",maxWidth:"600px",maxHeight:"calc(100% - 16px)"}},children:[b.jsx(gi,{children:b.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Version ",n+1," of ",i.length]}),b.jsx(At,{onClick:e,sx:{position:"absolute",right:8,top:8},children:b.jsx(B3,{size:20})})]})}),b.jsx(Jr,{sx:{flexGrow:1,overflow:"auto",display:"flex",flexDirection:"column",gap:1,pb:3,px:1},children:b.jsx(wue,{versions:i,currentIndex:n,onIndexChange:r})})]})},wue=({versions:t,currentIndex:e,onIndexChange:n})=>{const r=()=>{n(e>0?e-1:t.length-1)},i=()=>{n(e<t.length-1?e+1:0)};return b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:2,height:"100%"},children:[b.jsxs(ie,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[b.jsx(At,{onClick:r,children:b.jsx(fQ,{})}),b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1},children:[b.jsx(At,{children:t[e].isFavorite?b.jsx(DS,{sx:{color:"warning.main"}}):b.jsx(bQ,{})}),b.jsx(ce,{variant:"h6",children:t[e].title})]}),b.jsx(At,{onClick:i,children:b.jsx(pQ,{})})]}),b.jsx(ie,{sx:{flexGrow:1,overflow:"auto"},children:b.jsx(_ue,{version:t[e]})}),b.jsx(ie,{sx:{pt:2},children:b.jsx(Tue,{total:t.length,current:e,onChange:n})})]})},_ue=({version:t})=>b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:3},children:[b.jsx(ie,{sx:{width:"100%"},children:b.jsx(DF,{streamType:"on-demand",playbackId:t.videoUrl,style:{width:"100%",borderRadius:"8px",aspectRatio:"16 / 9"}})}),b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:3},children:[b.jsxs(lr,{sx:{p:3,bgcolor:"grey.50"},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Analysis"}),b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:2},children:[b.jsx(E0,{label:"Overall Score",value:t.analysis.score,color:"primary.main"}),b.jsx(E0,{label:"Clarity",value:t.analysis.metrics.clarity,color:"success.main"}),b.jsx(E0,{label:"Pace",value:t.analysis.metrics.pace,color:"warning.main"}),b.jsx(E0,{label:"Engagement",value:t.analysis.metrics.engagement,color:"info.main"})]})]}),b.jsx(Aue,{version:t}),b.jsxs(lr,{sx:{p:3,bgcolor:"grey.50"},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Feedback"}),b.jsx(ie,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"300px",overflow:"auto"},children:t.feedback.map(e=>b.jsxs(lr,{sx:{p:2},children:[b.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[b.jsx(ce,{variant:"subtitle2",children:e.author}),b.jsx(ce,{variant:"caption",color:"text.secondary",children:new Date(e.timestamp).toLocaleString()})]}),b.jsx(ce,{variant:"body2",children:e.content})]},e.id))})]})]})]}),NF=({open:t,onClose:e})=>b.jsxs(Kr,{open:t,onClose:e,fullScreen:!0,sx:{height:"95vh",display:"flex",margin:2,flexDirection:"column"},children:[b.jsxs(gi,{sx:{flexShrink:0},children:["Profile",b.jsx(At,{onClick:e,sx:{position:"absolute",right:8,top:8},children:b.jsx(is,{})})]}),b.jsx(Jr,{sx:{flexGrow:1,overflowY:"auto"},children:b.jsx(ie,{p:3,children:b.jsxs(Zt,{container:!0,spacing:3,children:[b.jsx(Zt,{item:!0,xs:12,md:4,children:b.jsxs(lr,{elevation:2,sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[b.jsx(Qr,{sx:{width:120,height:120,mb:2},alt:"User Profile",src:"/path/to/avatar.jpg"}),b.jsx(ce,{variant:"h6",children:"User Name"}),b.jsx(ce,{variant:"subtitle1",color:"text.secondary",children:"Pitch Enthusiast"})]})}),b.jsx(Zt,{item:!0,xs:12,md:8,children:b.jsx(yo,{children:b.jsxs(ea,{children:[b.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Profile Details"}),b.jsxs(Zt,{container:!0,spacing:2,children:[b.jsxs(Zt,{item:!0,xs:12,sm:6,children:[b.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Email"}),b.jsx(ce,{children:"user@example.com"})]}),b.jsxs(Zt,{item:!0,xs:12,sm:6,children:[b.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Total Pitches"}),b.jsx(ce,{children:"12"})]})]})]})})})]})})})]}),$F=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!1);return{videoUrl:t,isPortrait:n,handleVideoUpload:(s,o)=>{const a=URL.createObjectURL(s);localStorage.setItem("uploadedVideo",a),console.log(" useVideoUpload - File Uploaded:",s),console.log(" Generated Video URL:",a);const c=document.createElement("video");c.src=a,c.onloadedmetadata=()=>{const u=c.videoHeight>c.videoWidth;e(a),r(u),o(a,u)}}}},FF=({open:t,onClose:e,onSendVideo:n,isVersionUpload:r})=>{const{handleVideoUpload:i}=$F(),s=async o=>{if(o.target.files&&o.target.files[0]){const a=o.target.files[0];console.log(" MediaUploadDialog - File selected:",a.name),i(a,(c,u)=>{console.log(" MediaUploadDialog - Upload complete:",{fileUrl:c,isPortrait:u}),n(c,u),e()})}};return b.jsx(bp,{in:t,children:b.jsx(lr,{elevation:3,sx:{display:t?"block":"none",position:"absolute",bottom:"75px",left:"16px",width:180,borderRadius:2,zIndex:1400,overflow:"hidden",boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)",transformOrigin:"bottom left"},onClick:o=>o.stopPropagation(),children:b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:.5,p:1.5,bgcolor:"white"},children:[b.jsxs(St,{variant:"contained",sx:{bgcolor:"#0090f2",cursor:"pointer",textAlign:"left"},component:"label",children:[b.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:s}),b.jsx(ce,{variant:"body2",children:"Upload video"})]}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Record video"})}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Upload PDF"})}),b.jsx(Fc,{sx:{my:.75}}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Choose a coach"})})]})})})};function z1(t){const{children:e,value:n,index:r,...i}=t;return b.jsx("div",{role:"tabpanel",hidden:n!==r,id:`submission-tabpanel-${r}`,"aria-labelledby":`submission-tab-${r}`,...i,style:{paddingTop:16},children:n===r&&e})}const BF=({submission:t,onBack:e,onClose:n,onEdit:r})=>{const i=Zr(),s=am(i.breakpoints.down("md")),[o,a]=I.useState(0),c=(g,v)=>{a(v)},u={rank:3,points:500,feedback:"Great pitch! Your product vision is clear and the market opportunity is well-defined. Consider adding more details about your go-to-market strategy.",criteria:[{name:"Clarity",score:9.2,outOf:10},{name:"Market Fit",score:8.5,outOf:10},{name:"Innovation",score:9,outOf:10},{name:"Feasibility",score:7.8,outOf:10}]},h=`${t.competitionName}: ${u.points} points, ${u.rank}${_P()} place`,f=`Competition ended: ${t.date}`,p=["A","B","D","R"];return b.jsxs(Kr,{open:!0,onClose:n,fullScreen:s,PaperProps:{sx:{maxWidth:"900px",width:"100%",height:"95vh",maxHeight:"95vh",margin:2,borderRadius:2,overflow:"hidden"}},children:[b.jsx(gi,{sx:{px:3,py:2,borderBottom:"1px solid",borderColor:"divider"},children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{onClick:e,size:"small",edge:"start",children:b.jsx(qd,{})}),b.jsx(ce,{variant:"h6",sx:{fontWeight:600},children:"Submission Details"})]}),b.jsx(At,{onClick:n,size:"small",edge:"end",children:b.jsx(is,{})})]})}),b.jsx(Jr,{sx:{p:0,display:"flex",flexDirection:"column",overflow:"hidden",bgcolor:"background.default"},children:b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[b.jsxs(ie,{sx:{position:"relative",height:300,bgcolor:"black",display:"flex",alignItems:"center",justifyContent:"center","&:hover .play-overlay":{opacity:1}},children:[b.jsx(ie,{component:"img",src:t.video.thumbnailUrl||"",alt:t.name,sx:{width:"100%",height:"100%",objectFit:"cover",opacity:.7}}),b.jsx(ie,{className:"play-overlay",sx:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:.9,transition:"opacity 0.2s"},children:b.jsx(At,{sx:{bgcolor:"primary.main",color:"white",width:70,height:70,"&:hover":{bgcolor:"primary.dark",transform:"scale(1.05)"}},children:b.jsx(kw,{sx:{fontSize:40}})})})]}),b.jsx(ie,{sx:{flex:1,overflow:"auto",px:3,py:3},children:b.jsxs(Zt,{container:!0,spacing:3,children:[b.jsxs(Zt,{item:!0,xs:12,md:8,children:[b.jsxs(ie,{sx:{mb:2},children:[b.jsx(Wd,{label:h,color:"primary",variant:"outlined",sx:{borderRadius:16,mb:1}}),b.jsx(ce,{variant:"body2",color:"text.secondary",children:f})]}),b.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:2},children:t.name}),b.jsx(ie,{sx:{display:"flex",gap:1,mb:3},children:p.map(g=>b.jsx(Qr,{sx:{bgcolor:"secondary.light",width:30,height:30,fontSize:"0.875rem"},children:g},g))}),b.jsx(ie,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:b.jsxs(WY,{value:o,onChange:c,"aria-label":"submission tabs",children:[b.jsx(qx,{label:"Overview",id:"submission-tab-0"}),b.jsx(qx,{label:"Feedback",id:"submission-tab-1"}),b.jsx(qx,{label:"Documents",id:"submission-tab-2"})]})}),b.jsxs(z1,{value:o,index:0,children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Description"}),b.jsx(ce,{paragraph:!0,children:t.description||"No description provided."}),!t.description&&b.jsx(ce,{paragraph:!0,children:"RadiantHue is a makeup brand that changes the narrative. We're dedicated to providing clean beauty products that are safe for all skin types and tones without compromising on quality or performance. Our inclusive range is designed to celebrate everyone's unique beauty using ethically sourced natural ingredients."}),b.jsx(ce,{variant:"h6",sx:{mt:4,mb:2},children:"Team Members"}),b.jsxs(Zt,{container:!0,spacing:2,children:[t.team&&t.team.map((g,v)=>b.jsx(Zt,{item:!0,xs:12,sm:6,children:b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:2},children:[b.jsx(Qr,{children:g.name.charAt(0)}),b.jsxs(ie,{children:[b.jsx(ce,{variant:"body1",children:g.name}),b.jsx(ce,{variant:"body2",color:"text.secondary",children:g.role||"Team Member"})]})]})},g.id||v)),(!t.team||t.team.length===0)&&b.jsx(Zt,{item:!0,xs:12,children:b.jsx(ce,{color:"text.secondary",children:"No team members added."})})]})]}),b.jsxs(z1,{value:o,index:1,children:[b.jsxs(ie,{sx:{mb:4},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Judges Feedback"}),b.jsx(lr,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"divider"},children:b.jsx(ce,{paragraph:!0,children:u.feedback})})]}),b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Scoring Criteria"}),b.jsx(Zt,{container:!0,spacing:2,children:u.criteria.map((g,v)=>b.jsx(Zt,{item:!0,xs:12,sm:6,children:b.jsx(yo,{variant:"outlined",sx:{borderRadius:2,height:"100%"},children:b.jsxs(ea,{children:[b.jsx(ce,{color:"text.secondary",gutterBottom:!0,children:g.name}),b.jsxs(ce,{variant:"h4",sx:{fontWeight:700},children:[g.score.toFixed(1),b.jsxs(ce,{component:"span",variant:"body2",color:"text.secondary",sx:{ml:1},children:["/ ",g.outOf]})]})]})})},v))})]}),b.jsxs(z1,{value:o,index:2,children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Attached Documents"}),t.documents&&t.documents.length>0?b.jsx(Zt,{container:!0,spacing:2,children:t.documents.map((g,v)=>b.jsx(Zt,{item:!0,xs:12,children:b.jsxs(lr,{variant:"outlined",sx:{p:2,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:2},children:[b.jsx(Qr,{sx:{bgcolor:"primary.light"},children:g.type==="pdf"?"PDF":g.type.toUpperCase()}),b.jsx(ce,{children:g.name||`Document ${v+1}`})]}),b.jsx(At,{children:b.jsx(gQ,{})})]})},v))}):b.jsx(ce,{color:"text.secondary",children:"No documents attached to this submission."})]})]}),b.jsxs(Zt,{item:!0,xs:12,md:4,children:[b.jsxs(lr,{elevation:0,sx:{p:3,borderRadius:2,border:"1px solid",borderColor:"divider",mb:3},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Competition Results"}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"body2",color:"text.secondary",children:"Rank"}),b.jsxs(ce,{variant:"h4",sx:{fontWeight:700},children:[u.rank,b.jsx("sup",{children:_P()})]})]}),b.jsx(Fc,{sx:{my:2}}),b.jsxs(ie,{sx:{mb:2},children:[b.jsx(ce,{variant:"body2",color:"text.secondary",children:"Points"}),b.jsx(ce,{variant:"h4",sx:{fontWeight:700},children:u.points})]})]}),b.jsxs(ie,{sx:{mb:3},children:[b.jsx(ce,{variant:"h6",sx:{mb:2},children:"Links"}),b.jsxs(ie,{component:lr,elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:2},children:[b.jsx(LS,{color:"primary",fontSize:"small"}),b.jsx(w2,{href:"#",underline:"hover",children:"Executive Summary"})]}),b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[b.jsx(LS,{color:"primary",fontSize:"small"}),b.jsx(w2,{href:"#",underline:"hover",children:"Company Website"})]})]})]}),b.jsxs(ie,{children:[b.jsx(St,{variant:"contained",fullWidth:!0,startIcon:b.jsx(cy,{}),onClick:r,sx:{mb:2},children:"Edit Submission"}),b.jsx(St,{variant:"outlined",fullWidth:!0,children:"Unpublish"})]})]})]})})]})})]})};function _P(t){return"rd"}const UF=({open:t,onClose:e,competitionName:n})=>{const r=Zr(),i=am(r.breakpoints.down("sm"));return b.jsxs(Kr,{open:t,onClose:e,fullScreen:i,PaperProps:{sx:{maxWidth:"500px",borderRadius:2,p:2}},children:[b.jsx(ie,{sx:{display:"flex",justifyContent:"flex-end"},children:b.jsx(At,{onClick:e,size:"small","aria-label":"close",children:b.jsx(is,{})})}),b.jsxs(Jr,{sx:{textAlign:"center",pt:0},children:[b.jsx(hQ,{color:"success",sx:{fontSize:80,mb:2}}),b.jsx(ce,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"Great job!"}),b.jsxs(ce,{variant:"body1",paragraph:!0,color:"text.secondary",sx:{mb:4},children:["Your pitch has been successfully submitted to ",b.jsx("strong",{children:n}),". The competition organizers will review your submission and provide feedback soon."]}),b.jsx(St,{variant:"contained",fullWidth:!0,size:"large",onClick:e,sx:{mb:2},children:"View My Submissions"}),b.jsx(St,{variant:"outlined",fullWidth:!0,size:"large",onClick:e,children:"Return to Competition"})]})]})};Ee(Wd)(({theme:t})=>({borderRadius:16,paddingLeft:t.spacing(1),paddingRight:t.spacing(1),fontWeight:500}));const Cue=Ee(Qr)(({theme:t})=>({width:30,height:30,fontSize:"0.875rem",fontWeight:500,backgroundColor:t.palette.primary.light})),kue=({submission:t,variant:e="vertical",onPlay:n,onEdit:r,onUnpublish:i,onSelect:s})=>{const{id:o,name:a,competitionName:c,date:u,status:h,video:f,description:p}=t,g=["A","B","D","R"],v=`${c}: 500 points, 3rd place`,y=h==="submitted"?`Competition ended: ${u}`:`Draft created: ${u}`;return b.jsxs(yo,{elevation:0,sx:{borderRadius:2,overflow:"hidden",border:"1px solid",borderColor:"divider","&:hover":{borderColor:"primary.light",boxShadow:"0 4px 8px rgba(0,0,0,0.05)"},display:"flex",flexDirection:e==="horizontal"?"row":"column"},onClick:()=>s&&s(o),children:[b.jsx(AG,{component:"div",sx:{position:"relative",height:180,width:e==="horizontal"?200:"100%",minWidth:e==="horizontal"?200:"auto",backgroundColor:"grey.100",cursor:"pointer","&:hover .play-button":{opacity:1,transform:"scale(1.1)"}},image:f.thumbnailUrl||"",onClick:()=>n(o),children:b.jsx(ie,{className:"play-button",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"primary.main",borderRadius:"50%",width:50,height:50,display:"flex",alignItems:"center",justifyContent:"center",opacity:.9,transition:"all 0.2s","&:hover":{opacity:1,transform:"translate(-50%, -50%) scale(1.1)"}},children:b.jsx(kw,{sx:{color:"white",fontSize:30}})})}),b.jsxs(ie,{sx:{p:2,flex:1,display:"flex",flexDirection:"column"},children:[b.jsx(ie,{sx:{mb:1},children:b.jsx(Wd,{label:v,color:"primary",variant:"outlined",size:"small",sx:{borderRadius:16,height:24}})}),b.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:y}),b.jsx(ce,{variant:"h6",component:"h2",sx:{fontWeight:600,mb:1.5},children:a}),b.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:p||"Submission description"}),b.jsx(ie,{sx:{display:"flex",gap:1,mb:2},children:g.map(E=>b.jsx(Cue,{sx:{bgcolor:"secondary.light"},children:E},E))}),b.jsxs(ie,{sx:{display:"flex",gap:1,mt:"auto"},children:[b.jsx(St,{variant:"contained",startIcon:b.jsx(cy,{}),onClick:E=>{E.stopPropagation(),r(o)},sx:{flex:1},children:"Edit"}),i&&b.jsx(St,{variant:"outlined",onClick:E=>{E.stopPropagation(),i(o)},sx:{flex:1},children:"Unpublish"})]})]})]})},K_=({open:t,onClose:e,onCreateNew:n})=>{const r=Zr(),i=am(r.breakpoints.down("md")),s=[{id:"1",name:"Radiant Hue Pitch",competitionName:"Mentor Madness 2024",date:"Feb 20, 2024",status:"submitted",teamSize:4,competitionId:"",description:"",createdAt:"",updatedAt:"",video:{url:"",thumbnailUrl:void 0,duration:void 0},documents:[],team:[]},{id:"2",name:"Product Demo v2",competitionName:"Startup Weekend",date:"Feb 15, 2024",status:"draft",teamSize:3,competitionId:"",description:"",createdAt:"",updatedAt:"",video:{url:"",thumbnailUrl:void 0,duration:void 0},documents:[],team:[]}],o=f=>{console.log("Preview submission:",f)},a=f=>{console.log("Select submission:",f)},c=f=>{console.log("Edit submission:",f)},u=s;function h(f){throw new Error("Function not implemented.")}return b.jsxs(Kr,{open:t,onClose:e,fullScreen:i,PaperProps:{sx:{maxWidth:"800px",width:"100%",height:"95vh",maxHeight:"95vh",margin:2,borderRadius:0}},children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsx(ce,{variant:"h6",children:"Submissions Dashboard"}),b.jsx(At,{size:"small",onClick:e,children:b.jsx(is,{})})]})}),b.jsx(Jr,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:b.jsxs(Ds,{spacing:2,sx:{flex:1,overflowY:"auto",paddingRight:1},children:[u.map(f=>b.jsx(kue,{submission:f,onPlay:o,onEdit:c,onUnpublish:h,onSelect:a},f.id)),b.jsx(ie,{display:"flex",gap:1,children:b.jsx(St,{variant:"contained",startIcon:b.jsx(j3,{}),onClick:n,sx:{width:"100%"},children:"Create New"})})]})})]})},Rue=({dialogStates:t,onSendVideo:e})=>{const{selectedSubmission:n=void 0,setSelectedSubmission:r,submissionFormOpen:i,setSubmissionFormOpen:s}=Yd(),o={id:"1",title:"Startup Pitch Competition",description:"Submit your startup pitch for a chance to win funding and mentorship",startDate:"2024-03-01",endDate:"2024-04-01",status:"ongoing",organizerName:"Techstars",organizerId:"org-123",dates:{registrationStart:"2024-01-01",registrationEnd:"2024-02-28",competitionStart:"2024-03-01",competitionEnd:"2024-04-01",start:"2024-03-01",end:"2024-04-01",submissionDeadline:"2024-02-28"},prizes:{grandPrize:"First place prize",firstPlace:"Second place prize",runnerUp:"Third place prize",otherPrizes:["Fourth place prize","Fifth place prize"]},rules:"Submit your pitch by the deadline. Follow the guidelines provided on the competition page."};return b.jsxs(b.Fragment,{children:[b.jsx(HX,{open:t.analysis.isOpen,onClose:()=>t.analysis.setOpen(!1)}),b.jsx(GX,{open:t.improvements.isOpen,onClose:()=>t.improvements.setOpen(!1),improvementsText:""}),b.jsx(U3,{open:t.teamFeedback.isOpen,onClose:()=>t.teamFeedback.setOpen(!1)}),b.jsx(MF,{open:t.competitionHub.isOpen,onClose:()=>t.competitionHub.setOpen(!1)}),b.jsx(OF,{open:t.versions.isOpen,onClose:()=>t.versions.setOpen(!1)}),b.jsx(K_,{open:t.submissionDashboard.isOpen,onClose:()=>t.submissionDashboard.setOpen(!1),onCreateNew:()=>{t.submissionDashboard.setOpen(!1),s(!0)},onView:a=>{const c=Y1.find(u=>u.id===a);c&&(r(c),t.submissionDetail.setOpen(!0),t.submissionDashboard.setOpen(!1))},onEdit:a=>{const c=Y1.find(u=>u.id===a);c&&(r(c),t.submissionDashboard.setOpen(!1),s(!0))},onDelete:a=>{console.log("Delete submission:",a)},submissions:Y1,competition:o,onBack:function(){throw new Error("Function not implemented.")},submissionDashboardOpen:!1,setSubmissionDashboardOpen:function(a){throw new Error("Function not implemented.")}}),b.jsx(Kr,{open:i,onClose:()=>s(!1),maxWidth:"md",fullWidth:!0,fullScreen:!0,PaperProps:{sx:{maxWidth:"800px",width:"100%",height:"95vh",maxHeight:"95vh",margin:2,borderRadius:2}},children:b.jsx(PF,{open:i,competition:o,existingSubmission:n||void 0,onBack:()=>{s(!1),t.submissionDashboard.setOpen(!0)},onClose:()=>s(!1),onSubmit:async a=>{console.log("Submitting:",a),s(!1),t.submissionSuccess.setOpen(!0)}})}),n&&t.submissionDetail.isOpen&&b.jsx(BF,{submission:n,onBack:()=>{t.submissionDetail.setOpen(!1),t.submissionDashboard.setOpen(!0)},onClose:()=>t.submissionDetail.setOpen(!1),onEdit:()=>{t.submissionDetail.setOpen(!1),s(!0)}}),b.jsx(UF,{open:t.submissionSuccess.isOpen,onClose:()=>{t.submissionSuccess.setOpen(!1),t.submissionDashboard.setOpen(!0)},competitionName:o.title}),b.jsx(NF,{open:t.profile.isOpen,onClose:()=>t.profile.setOpen(!1)}),b.jsx(FF,{open:t.media.isOpen,onClose:()=>t.media.setOpen(!1),onSendVideo:e,isVersionUpload:!1})]})},Y1=[{id:"1",name:"Radiant Hue Pitch",competitionId:"1",competitionName:"Mentor Madness 2024",description:"Radiant Hue is a makeup brand that changes the narrative. We are dedicated to providing clean beauty products.",date:"2024-03-24",status:"submitted",teamSize:4,createdAt:"2024-03-20T12:00:00Z",updatedAt:"2024-03-24T10:00:00Z",video:{url:"https://example.com/videos/radiant-hue.mp4",thumbnailUrl:"/path/to/thumbnail.jpg",duration:120},documents:[],team:[{id:"t1",name:"Harper Lewis",role:"Founder",email:"harper@radianthue.com"},{id:"t2",name:"Alex Johnson",role:"CTO",email:"alex@radianthue.com"},{id:"t3",name:"Jordan Smith",role:"Marketing",email:"jordan@radianthue.com"},{id:"t4",name:"Taylor Brown",role:"Design",email:"taylor@radianthue.com"}]},{id:"2",name:"Product Demo v2",competitionId:"1",competitionName:"Startup Weekend",description:"Updated demo of our product featuring the latest improvements and user feedback.",date:"2024-02-15",status:"draft",teamSize:3,createdAt:"2024-02-10T15:30:00Z",updatedAt:"2024-02-15T09:45:00Z",video:{url:"https://example.com/videos/product-demo-v2.mp4",thumbnailUrl:"/path/to/thumbnail2.jpg",duration:180},documents:[],team:[{id:"t5",name:"Jamie Wilson",role:"CEO",email:"jamie@example.com"},{id:"t6",name:"Casey White",role:"Developer",email:"casey@example.com"},{id:"t7",name:"Riley Green",role:"UX Designer",email:"riley@example.com"}]}],Iue=({onSendMessage:t,onOpenMediaMenu:e})=>{const[n,r]=I.useState(""),i=()=>{n.trim()&&(t(n),r(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),i())};return b.jsxs(ie,{sx:{display:"flex",alignItems:"flex-end",backgroundColor:"#0090f2",padding:2,borderRadius:"16px 16px 0 0",width:"100%",maxWidth:"600px",margin:"0 auto",minHeight:"76px"},children:[b.jsx(At,{onClick:e,sx:{color:"#fff",mb:.5},"data-testid":"media-button",children:b.jsx(F3,{size:36})}),b.jsx(Rs,{fullWidth:!0,multiline:!0,maxRows:4,variant:"outlined",placeholder:"Hi Harper! What can I help you with?",value:n,onChange:o=>r(o.target.value),onKeyPress:s,sx:{backgroundColor:"#fff",borderRadius:"12px","& fieldset":{border:"none"},"& .MuiInputBase-root":{maxHeight:"120px",overflowY:"auto"}}}),b.jsx(At,{onClick:i,sx:{color:"#fff",mb:.5},children:b.jsx(XX,{size:32})})]})},Lue="data:image/svg+xml,%3csvg%20width='294'%20height='162'%20viewBox='0%200%20588%20325'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_87_1201)'%3e%3cpath%20d='M0%20226.7L32.55%20194.15L44.91%20206.51L0%20226.7Z'%20fill='%230090F2'/%3e%3cpath%20d='M588%20291.72L555.45%20324.28L543.09%20311.92L588%20291.72Z'%20fill='%230090F2'/%3e%3cpath%20d='M127%20150.13C132.28%20150.13%20136.56%20145.85%20136.56%20140.57C136.56%20135.29%20132.28%20131.01%20127%20131.01C121.72%20131.01%20117.44%20135.29%20117.44%20140.57C117.44%20145.85%20121.72%20150.13%20127%20150.13Z'%20fill='%230090F2'/%3e%3cpath%20d='M504.78%2087.24C509.988%2087.24%20514.21%2083.0181%20514.21%2077.81C514.21%2072.602%20509.988%2068.38%20504.78%2068.38C499.572%2068.38%20495.35%2072.602%20495.35%2077.81C495.35%2083.0181%20499.572%2087.24%20504.78%2087.24Z'%20fill='%230090F2'/%3e%3cpath%20d='M376.25%2025.56C380.54%2034.84%20391.32%2039.88%20400.33%2036.82C409.34%2033.76%20413.17%2023.75%20408.89%2014.46C407.71%2011.9%20406.03%209.67%20404.04%207.84C390.95%207.83%20379.04%209.74001%20375.46%2012.3C374.01%2016.29%20374.16%2021.01%20376.26%2025.56H376.25Z'%20fill='%230090F2'/%3e%3cpath%20d='M385.18%200.830005C380.93%202.28%20377.93%205.4%20376.53%209.24C379.85%206.87%20390.86%205.1%20402.96%205.11C398.11%200.650005%20391.21%20-1.23%20385.18%200.820005V0.830005Z'%20fill='%2316D335'/%3e%3cpath%20d='M106.41%20266.82L95.37%20256.15L275.29%2077.86L382.41%2077.62L106.41%20266.82Z'%20fill='%23F9DB00'/%3e%3cpath%20d='M40.75%20201.96L106.41%20266.82L85.92%20281.25L35.09%20206.68C32.57%20202.98%2037.56%20198.81%2040.75%20201.96Z'%20fill='%23F9DB00'/%3e%3cpath%20d='M125.87%20138.38L185.33%2077.86L169.34%2061.56L120.21%20133.72C117.68%20137.43%20122.73%20141.57%20125.88%20138.37L125.87%20138.38Z'%20fill='%2316D335'/%3e%3cpath%20d='M185.33%2077.86H335.64L335.49%2030.74L169.34%2061.57L185.33%2077.86Z'%20fill='%2316D335'/%3e%3cpath%20d='M455.22%20167.84L445.23%20140.67L335.49%2030.74L302.39%2064.15L455.22%20167.84Z'%20fill='%2316D335'/%3e%3cpath%20d='M547.79%20306.27L276.03%20149.45L227.28%20182.75L544.56%20312.86C548.8%20314.6%20551.77%20308.56%20547.8%20306.27H547.79Z'%20fill='%23F9DB00'/%3e%3cpath%20d='M505.96%2079.95L445.23%20140.68L455.22%20167.85L511.77%2084.76C514.36%2080.96%20509.21%2076.7%20505.96%2079.95Z'%20fill='%2316D335'/%3e%3cpath%20d='M363.6%2058.83L335.49%2030.74L304.7%2069.4C301.06%2074.52%20295.17%2077.56%20288.89%2077.56H275.43L221.65%20130.73H304.61L360.44%2092.61C371.84%2084.82%20373.36%2068.59%20363.59%2058.83H363.6Z'%20fill='%2316D335'/%3e%3cpath%20d='M375.94%2012.72C379.48%204.52%20430.1%205.35%20433.1%2013.29C434.01%2018.17%20418.98%2018.94%20415.62%2019.25C418.69%2018.8%20421.75%2018.25%20424.73%2017.44C442.54%2012.39%20420.76%2010.46%20414.7%2010.52C405.58%2010.45%20396.34%2011.14%20387.5%2013.25C385.41%2013.75%20382.24%2014.78%20381.13%2015.71C379.09%2019.08%20374.03%2016.2%20375.93%2012.71L375.94%2012.72Z'%20fill='%230090F2'/%3e%3c/g%3e%3cdefs%3e%3c/defs%3e%3c/svg%3e",Due="data:image/svg+xml,%3csvg%20width='800'%20height='140'%20viewBox='0%200%20800%20140'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5_2)'%3e%3cpath%20d='M330%2030.9361V30.9361C327.016%2062.9376%20297.381%2085.598%20265.716%2080.09L99.7512%2051.2215C55.6939%2043.558%2025.7985%2094.7445%2054.1186%20129.353V129.353'%20stroke='%230090F2'%20stroke-width='2'/%3e%3cpath%20d='M29.8967%20121.562L31.9046%20121.835C39.9325%20122.928%2047.6205%20125.66%2054.4919%20129.864V129.864V129.864C53.2181%20124.163%2054.4027%20118.146%2057.7582%20113.274L58.6962%20111.912'%20stroke='%230090F2'%20stroke-width='2'/%3e%3cpath%20d='M315%2031L345%2031'%20stroke='%230090F2'%20stroke-width='2'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5_2'%3e%3crect%20width='800'%20height='140'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Pue=()=>b.jsxs(ie,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",width:"100%",pb:2,px:3},children:[b.jsx("img",{src:Lue,alt:"No messages",style:{maxWidth:"100%",width:"300px"}}),b.jsxs(ie,{sx:{marginTop:4,textAlign:"center"},children:[b.jsx(ce,{variant:"h2",color:"text.secondary",children:"Ready to Jump?"}),b.jsx(ce,{variant:"body2",color:"text.secondary",sx:{marginBottom:2},children:"Upload or record your first pitch video, and I'll help you refine it!"}),b.jsx("img",{src:Due,alt:"Arrow indicator",style:{maxWidth:"100%",width:"600px"}})]})]}),jF=I.createContext({});function Mue(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const z_=I.createContext(null),VF=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Oue(t=!0){const e=I.useContext(z_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=I.useId();I.useEffect(()=>{t&&i(s)},[t]);const o=I.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Y_=typeof window<"u",Nue=Y_?I.useLayoutEffect:I.useEffect,_i=t=>t;let WF=_i;function q_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},na=t=>t*1e3,ra=t=>t/1e3,$ue={useManualTiming:!1},x0=["read","resolveKeyframes","update","preRender","render","postRender"],CP={value:null};function Fue(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){o.has(f)&&(h.schedule(f),t()),c++,f(a)}const h={schedule:(f,p=!1,g=!1)=>{const y=g&&i?n:r;return p&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&CP.value&&CP.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const Bue=40;function HF(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=x0.reduce((S,w)=>(S[w]=Fue(s,e?w:void 0),S),{}),{read:a,resolveKeyframes:c,update:u,preRender:h,render:f,postRender:p}=o,g=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,Bue),1),i.timestamp=S,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:x0.reduce((S,w)=>{const T=o[w];return S[w]=(C,_=!1,L=!1)=>(n||v(),T.schedule(C,_,L)),S},{}),cancel:S=>{for(let w=0;w<x0.length;w++)o[x0[w]].cancel(S)},state:i,steps:o}}const{schedule:pn,cancel:ul,state:Rr,steps:q1}=HF(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0),GF=I.createContext({strict:!1}),kP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bd={};for(const t in kP)Bd[t]={isEnabled:e=>kP[t].some(n=>!!e[n])};function Uue(t){for(const e in t)Bd[e]={...Bd[e],...t[e]}}const jue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jue.has(t)}let KF=t=>!Yy(t);function Vue(t){t&&(KF=e=>e.startsWith("on")?!Yy(e):t(e))}try{Vue(require("@emotion/is-prop-valid").default)}catch{}function Wue(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(KF(i)||n===!0&&Yy(i)||!e&&!Yy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Hue(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Wb=I.createContext({});function Hb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wp(t){return typeof t=="string"||Array.isArray(t)}const X_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q_=["initial",...X_];function Gb(t){return Hb(t.animate)||Q_.some(e=>Wp(t[e]))}function zF(t){return!!(Gb(t)||t.variants)}function Gue(t,e){if(Gb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wp(n)?n:void 0,animate:Wp(r)?r:void 0}}return t.inherit!==!1?e:{}}function Kue(t){const{initial:e,animate:n}=Gue(t,I.useContext(Wb));return I.useMemo(()=>({initial:e,animate:n}),[RP(e),RP(n)])}function RP(t){return Array.isArray(t)?t.join(" "):t}const zue=Symbol.for("motionComponentSymbol");function sd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Yue(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sd(n)&&(n.current=r))},[e])}const Z_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),que="framerAppearId",YF="data-"+Z_(que),{schedule:J_}=HF(queueMicrotask,!1),qF=I.createContext({});function Xue(t,e,n,r,i){var s,o;const{visualElement:a}=I.useContext(Wb),c=I.useContext(GF),u=I.useContext(z_),h=I.useContext(VF).reducedMotion,f=I.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,g=I.useContext(qF);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Que(f.current,n,i,g);const v=I.useRef(!1);I.useInsertionEffect(()=>{p&&v.current&&p.update(n,u)});const y=n[YF],E=I.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Nue(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),J_.render(p.render),E.current&&p.animationState&&p.animationState.animateChanges())}),I.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,y)}),E.current=!1))}),p}function Que(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XF(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&sd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function XF(t){if(t)return t.options.allowProjection!==!1?t.projection:XF(t.parent)}function Zue({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&Uue(t);function a(u,h){let f;const p={...I.useContext(VF),...u,layoutId:Jue(u)},{isStatic:g}=p,v=Kue(u),y=r(u,g);if(!g&&Y_){ede();const E=tde(p);f=E.MeasureLayout,v.visualElement=Xue(i,y,p,e,E.ProjectionNode)}return b.jsxs(Wb.Provider,{value:v,children:[f&&v.visualElement?b.jsx(f,{visualElement:v.visualElement,...p}):null,n(i,u,Yue(y,v.visualElement,h),y,g,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=I.forwardRef(a);return c[zue]=i,c}function Jue({layoutId:t}){const e=I.useContext(jF).id;return e&&t!==void 0?e+"-"+t:t}function ede(t,e){I.useContext(GF).strict}function tde(t){const{drag:e,layout:n}=Bd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const QF=t=>e=>typeof e=="string"&&e.startsWith(t),eC=QF("--"),nde=QF("var(--"),tC=t=>nde(t)?rde.test(t.split("/*")[0].trim()):!1,rde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hp={};function ide(t){for(const e in t)Hp[e]=t[e],eC(e)&&(Hp[e].isCSSVariable=!0)}const Jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kc=new Set(Jd);function ZF(t,{layout:e,layoutId:n}){return Kc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hp[t]||t==="opacity")}const Hr=t=>!!(t&&t.getVelocity),JF=(t,e)=>e&&typeof t=="number"?e.transform(t):t,aa=(t,e,n)=>n>e?e:n<t?t:n,eh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gp={...eh,transform:t=>aa(0,1,t)},S0={...eh,default:1},fm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ka=fm("deg"),So=fm("%"),ot=fm("px"),sde=fm("vh"),ode=fm("vw"),IP={...So,parse:t=>So.parse(t)/100,transform:t=>So.transform(t*100)},ade={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,backgroundPositionX:ot,backgroundPositionY:ot},lde={rotate:Ka,rotateX:Ka,rotateY:Ka,rotateZ:Ka,scale:S0,scaleX:S0,scaleY:S0,scaleZ:S0,skew:Ka,skewX:Ka,skewY:Ka,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:Gp,originX:IP,originY:IP,originZ:ot},LP={...eh,transform:Math.round},nC={...ade,...lde,zIndex:LP,size:ot,fillOpacity:Gp,strokeOpacity:Gp,numOctaves:LP},cde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ude=Jd.length;function dde(t,e,n){let r="",i=!0;for(let s=0;s<ude;s++){const o=Jd[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=JF(a,nC[o]);if(!c){i=!1;const h=cde[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function rC(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Kc.has(c)){o=!0;continue}else if(eC(c)){i[c]=u;continue}else{const h=JF(u,nC[c]);c.startsWith("origin")?(a=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=dde(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${u} ${h}`}}const iC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e8(t,e,n){for(const r in e)!Hr(e[r])&&!ZF(r,n)&&(t[r]=e[r])}function hde({transformTemplate:t},e){return I.useMemo(()=>{const n=iC();return rC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fde(t,e){const n=t.style||{},r={};return e8(r,n,t),Object.assign(r,hde(t,e)),r}function pde(t,e){const n={},r=fde(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sC(t){return typeof t!="string"||t.includes("-")?!1:!!(mde.indexOf(t)>-1||/[A-Z]/u.test(t))}const gde={offset:"stroke-dashoffset",array:"stroke-dasharray"},vde={offset:"strokeDashoffset",array:"strokeDasharray"};function yde(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?gde:vde;t[s.offset]=ot.transform(-r);const o=ot.transform(e),a=ot.transform(n);t[s.array]=`${o} ${a}`}function DP(t,e,n){return typeof t=="string"?t:ot.transform(e+n*t)}function bde(t,e,n){const r=DP(e,t.x,t.width),i=DP(n,t.y,t.height);return`${r} ${i}`}function oC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,f){if(rC(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:v}=t;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=bde(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&yde(p,o,a,c,!1)}const t8=()=>({...iC(),attrs:{}}),aC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ede(t,e,n,r){const i=I.useMemo(()=>{const s=t8();return oC(s,e,aC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};e8(s,t.style,t),i.style={...s,...i.style}}return i}function xde(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(sC(n)?Ede:pde)(r,s,o,n),u=Wue(r,typeof n=="string",t),h=n!==I.Fragment?{...u,...c,ref:i}:{},{children:f}=r,p=I.useMemo(()=>Hr(f)?f.get():f,[f]);return I.createElement(n,{...h,children:p})}}function PP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lC(t,e,n,r){if(typeof e=="function"){const[i,s]=PP(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=PP(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const yA=t=>Array.isArray(t),Sde=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Tde=t=>yA(t)?t[t.length-1]||0:t;function Xv(t){const e=Hr(t)?t.get():t;return Sde(e)?e.toValue():e}function Ade({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:wde(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const n8=t=>(e,n)=>{const r=I.useContext(Wb),i=I.useContext(z_),s=()=>Ade(t,e,r,i);return n?s():Mue(s)};function wde(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Xv(s[p]);let{initial:o,animate:a}=t;const c=Gb(t),u=zF(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Hb(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=lC(t,p[g]);if(v){const{transitionEnd:y,transition:E,...S}=v;for(const w in S){let T=S[w];if(Array.isArray(T)){const C=h?T.length-1:0;T=T[C]}T!==null&&(i[w]=T)}for(const w in y)i[w]=y[w]}}}return i}function cC(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Hr(i[o])||e.style&&Hr(e.style[o])||ZF(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const _de={useVisualState:n8({scrapeMotionValuesFromProps:cC,createRenderState:iC})};function r8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function i8(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const s8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o8(t,e,n,r){i8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(s8.has(i)?i:Z_(i),e.attrs[i])}function a8(t,e,n){const r=cC(t,e,n);for(const i in t)if(Hr(t[i])||Hr(e[i])){const s=Jd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const MP=["x","y","width","height","cx","cy","r"],Cde={useVisualState:n8({scrapeMotionValuesFromProps:a8,createRenderState:t8,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Kc.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<MP.length;a++){const c=MP[a];t[c]!==e[c]&&(o=!0)}o&&pn.read(()=>{r8(n,r),pn.render(()=>{oC(r,i,aC(n.tagName),t.transformTemplate),o8(n,r)})})}})};function kde(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...sC(r)?Cde:_de,preloadedFeatures:t,useRender:xde(i),createVisualElement:e,Component:r};return Zue(o)}}function Kp(t,e,n){const r=t.getProps();return lC(r,e,n!==void 0?n:r.custom,t)}const Rde=q_(()=>window.ScrollTimeline!==void 0);class Ide{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Rde()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lde extends Ide{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function uC(t,e){return t?t[e]||t.default||t:void 0}const bA=2e4;function l8(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bA;)e+=n,r=t.next(e);return e>=bA?1/0:e}function dC(t){return typeof t=="function"}function OP(t,e){t.timeline=e,t.onfinish=null}const hC=t=>Array.isArray(t)&&typeof t[0]=="number",Dde={linearEasing:void 0};function Pde(t,e){const n=q_(t);return()=>{var r;return(r=Dde[e])!==null&&r!==void 0?r:n()}}const qy=Pde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c8=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Fd(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function u8(t){return!!(typeof t=="function"&&qy()||!t||typeof t=="string"&&(t in EA||qy())||hC(t)||Array.isArray(t)&&t.every(u8))}const Vf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vf([0,.65,.55,1]),circOut:Vf([.55,0,1,.45]),backIn:Vf([.31,.01,.66,-.59]),backOut:Vf([.33,1.53,.69,.99])};function d8(t,e){if(t)return typeof t=="function"&&qy()?c8(t,e):hC(t)?Vf(t):Array.isArray(t)?t.map(n=>d8(n,e)||EA.easeOut):EA[t]}const bs={x:!1,y:!1};function h8(){return bs.x||bs.y}function Mde(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function f8(t,e){const n=Mde(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function NP(t){return!(t.pointerType==="touch"||h8())}function Ode(t,e,n={}){const[r,i,s]=f8(t,n),o=a=>{if(!NP(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const h=f=>{NP(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const p8=(t,e)=>e?t===e?!0:p8(t,e.parentElement):!1,fC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Nde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $de(t){return Nde.has(t.tagName)||t.tabIndex!==-1}const Wf=new WeakSet;function $P(t){return e=>{e.key==="Enter"&&t(e)}}function X1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Fde=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=$P(()=>{if(Wf.has(n))return;X1(n,"down");const i=$P(()=>{X1(n,"up")}),s=()=>X1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function FP(t){return fC(t)&&!h8()}function Bde(t,e,n={}){const[r,i,s]=f8(t,n),o=a=>{const c=a.currentTarget;if(!FP(a)||Wf.has(c))return;Wf.add(c);const u=e(c,a),h=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!FP(g)||!Wf.has(c))&&(Wf.delete(c),typeof u=="function"&&u(g,{success:v}))},f=g=>{h(g,n.useGlobalTarget||p8(c,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!$de(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>Fde(u,i),i)}),s}function Ude(t){return t==="x"||t==="y"?bs[t]?null:(bs[t]=!0,()=>{bs[t]=!1}):bs.x||bs.y?null:(bs.x=bs.y=!0,()=>{bs.x=bs.y=!1})}const m8=new Set(["width","height","top","left","right","bottom",...Jd]);let Qv;function jde(){Qv=void 0}const To={now:()=>(Qv===void 0&&To.set(Rr.isProcessing||$ue.useManualTiming?Rr.timestamp:performance.now()),Qv),set:t=>{Qv=t,queueMicrotask(jde)}};function pC(t,e){t.indexOf(e)===-1&&t.push(e)}function mC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gC{constructor(){this.subscriptions=[]}add(e){return pC(this.subscriptions,e),()=>mC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function g8(t,e){return e?t*(1e3/e):0}const BP=30,Vde=t=>!isNaN(parseFloat(t));class Wde{constructor(e,n={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=To.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=To.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Vde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gC);const r=this.events[e].add(n);return e==="change"?()=>{r(),pn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=To.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,BP);return g8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zp(t,e){return new Wde(t,e)}function Hde(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zp(n))}function Gde(t,e){const n=Kp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Tde(s[o]);Hde(t,o,a)}}function Kde(t){return!!(Hr(t)&&t.add)}function xA(t,e){const n=t.getValue("willChange");if(Kde(n))return n.add(e)}function v8(t){return t.props[YF]}const y8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zde=1e-7,Yde=12;function qde(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=y8(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>zde&&++a<Yde);return o}function pm(t,e,n,r){if(t===e&&n===r)return _i;const i=s=>qde(s,0,1,t,n);return s=>s===0||s===1?s:y8(i(s),e,r)}const b8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,E8=t=>e=>1-t(1-e),x8=pm(.33,1.53,.69,.99),vC=E8(x8),S8=b8(vC),T8=t=>(t*=2)<1?.5*vC(t):.5*(2-Math.pow(2,-10*(t-1))),yC=t=>1-Math.sin(Math.acos(t)),A8=E8(yC),w8=b8(yC),_8=t=>/^0[^.\s]+$/u.test(t);function Xde(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_8(t):!0}const ap=t=>Math.round(t*1e5)/1e5,bC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qde(t){return t==null}const Zde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EC=(t,e)=>n=>!!(typeof n=="string"&&Zde.test(n)&&n.startsWith(t)||e&&!Qde(n)&&Object.prototype.hasOwnProperty.call(n,e)),C8=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(bC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Jde=t=>aa(0,255,t),Q1={...eh,transform:t=>Math.round(Jde(t))},Tc={test:EC("rgb","red"),parse:C8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Q1.transform(t)+", "+Q1.transform(e)+", "+Q1.transform(n)+", "+ap(Gp.transform(r))+")"};function ehe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const SA={test:EC("#"),parse:ehe,transform:Tc.transform},od={test:EC("hsl","hue"),parse:C8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+So.transform(ap(e))+", "+So.transform(ap(n))+", "+ap(Gp.transform(r))+")"},Vr={test:t=>Tc.test(t)||SA.test(t)||od.test(t),parse:t=>Tc.test(t)?Tc.parse(t):od.test(t)?od.parse(t):SA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tc.transform(t):od.transform(t)},the=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nhe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(the))===null||n===void 0?void 0:n.length)||0)>0}const k8="number",R8="color",rhe="var",ihe="var(",UP="${}",she=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(she,c=>(Vr.test(c)?(r.color.push(s),i.push(R8),n.push(Vr.parse(c))):c.startsWith(ihe)?(r.var.push(s),i.push(rhe),n.push(c)):(r.number.push(s),i.push(k8),n.push(parseFloat(c))),++s,UP)).split(UP);return{values:n,split:a,indexes:r,types:i}}function I8(t){return Yp(t).values}function L8(t){const{split:e,types:n}=Yp(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===k8?s+=ap(i[o]):a===R8?s+=Vr.transform(i[o]):s+=i[o]}return s}}const ohe=t=>typeof t=="number"?0:t;function ahe(t){const e=I8(t);return L8(t)(e.map(ohe))}const dl={test:nhe,parse:I8,createTransformer:L8,getAnimatableNone:ahe},lhe=new Set(["brightness","contrast","saturate","opacity"]);function che(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bC)||[];if(!r)return t;const i=n.replace(r,"");let s=lhe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const uhe=/\b([a-z-]*)\(.*?\)/gu,TA={...dl,getAnimatableNone:t=>{const e=t.match(uhe);return e?e.map(che).join(" "):t}},dhe={...nC,color:Vr,backgroundColor:Vr,outlineColor:Vr,fill:Vr,stroke:Vr,borderColor:Vr,borderTopColor:Vr,borderRightColor:Vr,borderBottomColor:Vr,borderLeftColor:Vr,filter:TA,WebkitFilter:TA},xC=t=>dhe[t];function D8(t,e){let n=xC(t);return n!==TA&&(n=dl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hhe=new Set(["auto","none","0"]);function fhe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!hhe.has(s)&&Yp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=D8(n,i)}const jP=t=>t===eh||t===ot,VP=(t,e)=>parseFloat(t.split(", ")[e]),WP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return VP(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?VP(s[1],t):0}},phe=new Set(["x","y","z"]),mhe=Jd.filter(t=>!phe.has(t));function ghe(t){const e=[];return mhe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ud={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:WP(4,13),y:WP(5,14)};Ud.translateX=Ud.x;Ud.translateY=Ud.y;const Oc=new Set;let AA=!1,wA=!1;function P8(){if(wA){const t=Array.from(Oc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=ghe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wA=!1,AA=!1,Oc.forEach(t=>t.complete()),Oc.clear()}function M8(){Oc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wA=!0)})}function vhe(){M8(),P8()}class SC{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oc.add(this),AA||(AA=!0,pn.read(M8),pn.resolveKeyframes(P8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const O8=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),yhe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bhe(t){const e=yhe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function N8(t,e,n=1){const[r,i]=bhe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return O8(o)?parseFloat(o):o}return tC(i)?N8(i,e,n+1):i}const $8=t=>e=>e.test(t),Ehe={test:t=>t==="auto",parse:t=>t},F8=[eh,ot,So,Ka,ode,sde,Ehe],HP=t=>F8.find($8(t));class B8 extends SC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),tC(u))){const h=N8(u,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!m8.has(r)||e.length!==2)return;const[i,s]=e,o=HP(i),a=HP(s);if(o!==a)if(jP(o)&&jP(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Xde(e[i])&&r.push(i);r.length&&fhe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ud[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ud[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const GP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dl.test(t)||t==="0")&&!t.startsWith("url("));function xhe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function She(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=GP(i,e),a=GP(s,e);return!o||!a?!1:xhe(t)||(n==="spring"||dC(n))&&r}const The=t=>t!==null;function Kb(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(The),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Ahe=40;class U8{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=To.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ahe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vhe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=To.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!She(e,r,i,s))if(o)this.options.duration=0;else{c&&c(Kb(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Rn=(t,e,n)=>t+(e-t)*n;function Z1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function whe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=Z1(c,a,t+1/3),s=Z1(c,a,t),o=Z1(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Xy(t,e){return n=>n>0?e:t}const J1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_he=[SA,Tc,od],Che=t=>_he.find(e=>e.test(t));function KP(t){const e=Che(t);if(!e)return!1;let n=e.parse(t);return e===od&&(n=whe(n)),n}const zP=(t,e)=>{const n=KP(t),r=KP(e);if(!n||!r)return Xy(t,e);const i={...n};return s=>(i.red=J1(n.red,r.red,s),i.green=J1(n.green,r.green,s),i.blue=J1(n.blue,r.blue,s),i.alpha=Rn(n.alpha,r.alpha,s),Tc.transform(i))},khe=(t,e)=>n=>e(t(n)),mm=(...t)=>t.reduce(khe),_A=new Set(["none","hidden"]);function Rhe(t,e){return _A.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ihe(t,e){return n=>Rn(t,e,n)}function TC(t){return typeof t=="number"?Ihe:typeof t=="string"?tC(t)?Xy:Vr.test(t)?zP:Phe:Array.isArray(t)?j8:typeof t=="object"?Vr.test(t)?zP:Lhe:Xy}function j8(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>TC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Lhe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=TC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Dhe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const Phe=(t,e)=>{const n=dl.createTransformer(e),r=Yp(t),i=Yp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?_A.has(t)&&!i.values.length||_A.has(e)&&!r.values.length?Rhe(t,e):mm(j8(Dhe(r,i),i.values),n):Xy(t,e)};function V8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rn(t,e,n):TC(t)(t,e)}const Mhe=5;function W8(t,e,n){const r=Math.max(e-Mhe,0);return g8(n-t(r),e-r)}const Nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},YP=.001;function Ohe({duration:t=Nn.duration,bounce:e=Nn.bounce,velocity:n=Nn.velocity,mass:r=Nn.mass}){let i,s,o=1-e;o=aa(Nn.minDamping,Nn.maxDamping,o),t=aa(Nn.minDuration,Nn.maxDuration,ra(t)),o<1?(i=u=>{const h=u*o,f=h*t,p=h-n,g=CA(u,o),v=Math.exp(-f);return YP-p/g*v},s=u=>{const f=u*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),y=CA(Math.pow(u,2),o);return(-i(u)+YP>0?-1:1)*((p-g)*v)/y}):(i=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-.001+h*f},s=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,c=$he(i,s,a);if(t=na(t),isNaN(c))return{stiffness:Nn.stiffness,damping:Nn.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Nhe=12;function $he(t,e,n){let r=n;for(let i=1;i<Nhe;i++)r=r-t(r)/e(r);return r}function CA(t,e){return t*Math.sqrt(1-e*e)}const Fhe=["duration","bounce"],Bhe=["stiffness","damping","mass"];function qP(t,e){return e.some(n=>t[n]!==void 0)}function Uhe(t){let e={velocity:Nn.velocity,stiffness:Nn.stiffness,damping:Nn.damping,mass:Nn.mass,isResolvedFromDuration:!1,...t};if(!qP(t,Bhe)&&qP(t,Fhe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*aa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Nn.mass,stiffness:i,damping:s}}else{const n=Ohe(t);e={...e,...n,mass:Nn.mass},e.isResolvedFromDuration=!0}return e}function H8(t=Nn.visualDuration,e=Nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:g}=Uhe({...n,velocity:-ra(n.velocity||0)}),v=p||0,y=u/(2*Math.sqrt(c*h)),E=o-s,S=ra(Math.sqrt(c/h)),w=Math.abs(E)<5;r||(r=w?Nn.restSpeed.granular:Nn.restSpeed.default),i||(i=w?Nn.restDelta.granular:Nn.restDelta.default);let T;if(y<1){const _=CA(S,y);T=L=>{const D=Math.exp(-y*S*L);return o-D*((v+y*S*E)/_*Math.sin(_*L)+E*Math.cos(_*L))}}else if(y===1)T=_=>o-Math.exp(-S*_)*(E+(v+S*E)*_);else{const _=S*Math.sqrt(y*y-1);T=L=>{const D=Math.exp(-y*S*L),P=Math.min(_*L,300);return o-D*((v+y*S*E)*Math.sinh(P)+_*E*Math.cosh(P))/_}}const C={calculatedDuration:g&&f||null,next:_=>{const L=T(_);if(g)a.done=_>=f;else{let D=0;y<1&&(D=_===0?na(v):W8(T,_,L));const P=Math.abs(D)<=r,N=Math.abs(o-L)<=i;a.done=P&&N}return a.value=a.done?o:L,a},toString:()=>{const _=Math.min(l8(C),bA),L=c8(D=>C.next(_*D).value,_,30);return _+"ms "+L}};return C}function XP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},g=P=>a!==void 0&&P<a||c!==void 0&&P>c,v=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let y=n*e;const E=f+y,S=o===void 0?E:o(E);S!==E&&(y=S-f);const w=P=>-y*Math.exp(-P/r),T=P=>S+w(P),C=P=>{const N=w(P),k=T(P);p.done=Math.abs(N)<=u,p.value=p.done?S:k};let _,L;const D=P=>{g(p.value)&&(_=P,L=H8({keyframes:[p.value,v(p.value)],velocity:W8(T,P,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return D(0),{calculatedDuration:null,next:P=>{let N=!1;return!L&&_===void 0&&(N=!0,C(P),D(P)),_!==void 0&&P>=_?L.next(P-_):(!N&&C(P),p)}}}const jhe=pm(.42,0,1,1),Vhe=pm(0,0,.58,1),G8=pm(.42,0,.58,1),Whe=t=>Array.isArray(t)&&typeof t[0]!="number",Hhe={linear:_i,easeIn:jhe,easeInOut:G8,easeOut:Vhe,circIn:yC,circInOut:w8,circOut:A8,backIn:vC,backInOut:S8,backOut:x8,anticipate:T8},QP=t=>{if(hC(t)){WF(t.length===4);const[e,n,r,i]=t;return pm(e,n,r,i)}else if(typeof t=="string")return Hhe[t];return t};function Ghe(t,e,n){const r=[],i=n||V8,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||_i:e;a=mm(c,a)}r.push(a)}return r}function Khe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(WF(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Ghe(e,r,i),c=a.length,u=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Fd(t[f],t[f+1],h);return a[f](p)};return n?h=>u(aa(t[0],t[s-1],h)):u}function zhe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fd(0,e,r);t.push(Rn(n,1,i))}}function Yhe(t){const e=[0];return zhe(e,t.length-1),e}function qhe(t,e){return t.map(n=>n*e)}function Xhe(t,e){return t.map(()=>e||G8).splice(0,t.length-1)}function Qy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Whe(r)?r.map(QP):QP(r),s={done:!1,value:e[0]},o=qhe(n&&n.length===e.length?n:Yhe(e),t),a=Khe(o,e,{ease:Array.isArray(i)?i:Xhe(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const Qhe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pn.update(e,!0),stop:()=>ul(e),now:()=>Rr.isProcessing?Rr.timestamp:To.now()}},Zhe={decay:XP,inertia:XP,tween:Qy,keyframes:Qy,spring:H8},Jhe=t=>t/100;class AC extends U8{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||SC,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=dC(n)?n:Zhe[n]||Qy;let c,u;a!==Qy&&typeof e[0]!="number"&&(c=mm(Jhe,V8(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=l8(h));const{calculatedDuration:f}=h,p=f+i,g=p*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?S<0:S>h;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,C=s;if(g){const P=Math.min(this.currentTime,h)/f;let N=Math.floor(P),k=P%1;!k&&P>=1&&(k=1),k===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(v==="reverse"?(k=1-k,y&&(k-=y/f)):v==="mirror"&&(C=o)),T=aa(0,1,k)*f}const _=w?{done:!1,value:c[0]}:C.next(T);a&&(_.value=a(_.value));let{done:L}=_;!w&&u!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return D&&i!==void 0&&(_.value=Kb(c,this.options,i)),E&&E(_.value),D&&this.finish(),_}get duration(){const{resolved:e}=this;return e?ra(e.calculatedDuration):0}get time(){return ra(this.currentTime)}set time(e){e=na(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ra(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Qhe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const efe=new Set(["opacity","clipPath","filter","transform"]);function tfe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=d8(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const nfe=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zy=10,rfe=2e4;function ife(t){return dC(t.type)||t.type==="spring"||!u8(t.ease)}function sfe(t,e){const n=new AC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<rfe;)r=n.sample(s),i.push(r.value),s+=Zy;return{times:void 0,keyframes:i,duration:s-Zy,ease:"linear"}}const K8={anticipate:T8,backInOut:S8,circInOut:w8};function ofe(t){return t in K8}class ZP extends U8{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new B8(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&qy()&&ofe(s)&&(s=K8[s]),ife(this.options)){const{onComplete:f,onUpdate:p,motionValue:g,element:v,...y}=this.options,E=sfe(e,y);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const h=tfe(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(OP(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(Kb(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ra(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ra(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=na(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _i;const{animation:r}=n;OP(r,e)}return _i}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:p,...g}=this.options,v=new AC({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=na(this.time);u.setWithVelocity(v.sample(y-Zy).value,v.sample(y).value,Zy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return nfe()&&r&&efe.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const afe={type:"spring",stiffness:500,damping:25,restSpeed:10},lfe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cfe={type:"keyframes",duration:.8},ufe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dfe=(t,{keyframes:e})=>e.length>2?cfe:Kc.has(t)?t.startsWith("scale")?lfe(e[1]):afe:ufe;function hfe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const wC=(t,e,n,r={},i,s)=>o=>{const a=uC(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-na(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};hfe(a)||(h={...h,...dfe(t,h)}),h.duration&&(h.duration=na(h.duration)),h.repeatDelay&&(h.repeatDelay=na(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=Kb(h.keyframes,a);if(p!==void 0)return pn.update(()=>{h.onUpdate(p),h.onComplete()}),new Lde([])}return!s&&ZP.supports(h)?new ZP(h):new AC(h)};function ffe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function z8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),g=c[f];if(g===void 0||h&&ffe(h,f))continue;const v={delay:n,...uC(o||{},f)};let y=!1;if(window.MotionHandoffAnimation){const S=v8(t);if(S){const w=window.MotionHandoffAnimation(S,f,pn);w!==null&&(v.startTime=w,y=!0)}}xA(t,f),p.start(wC(f,p,g,t.shouldReduceMotion&&m8.has(f)?{type:!1}:v,t,y));const E=p.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{pn.update(()=>{a&&Gde(t,a)})}),u}function kA(t,e,n={}){var r;const i=Kp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(z8(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return pfe(t,e,h+u,f,p,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function pfe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(mfe).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(kA(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function mfe(t,e){return t.sortNodePosition(e)}function gfe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>kA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=kA(t,e,n);else{const i=typeof e=="function"?Kp(t,e,n.custom):e;r=Promise.all(z8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Y8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vfe=Q_.length;function q8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vfe;n++){const r=Q_[n],i=t.props[r];(Wp(i)||i===!1)&&(e[r]=i)}return e}const yfe=[...X_].reverse(),bfe=X_.length;function Efe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gfe(t,n,r)))}function xfe(t){let e=Efe(t),n=JP(),r=!0;const i=c=>(u,h)=>{var f;const p=Kp(t,h,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:g,transitionEnd:v,...y}=p;u={...u,...y,...v}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,h=q8(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let E=0;E<bfe;E++){const S=yfe[E],w=n[S],T=u[S]!==void 0?u[S]:h[S],C=Wp(T),_=S===c?w.isActive:null;_===!1&&(v=E);let L=T===h[S]&&T!==u[S]&&C;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...g},!w.isActive&&_===null||!T&&!w.prevProp||Hb(T)||typeof T=="boolean")continue;const D=Sfe(w.prevProp,T);let P=D||S===c&&w.isActive&&!L&&C||E>v&&C,N=!1;const k=Array.isArray(T)?T:[T];let $=k.reduce(i(S),{});_===!1&&($={});const{prevResolvedValues:z={}}=w,j={...z,...$},q=Q=>{P=!0,p.has(Q)&&(N=!0,p.delete(Q)),w.needsAnimating[Q]=!0;const W=t.getValue(Q);W&&(W.liveStyle=!1)};for(const Q in j){const W=$[Q],V=z[Q];if(g.hasOwnProperty(Q))continue;let K=!1;yA(W)&&yA(V)?K=!Y8(W,V):K=W!==V,K?W!=null?q(Q):p.add(Q):W!==void 0&&p.has(Q)?q(Q):w.protectedKeys[Q]=!0}w.prevProp=T,w.prevResolvedValues=$,w.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(L&&D)||N)&&f.push(...k.map(Q=>({animation:Q,options:{type:S}})))}if(p.size){const E={};if(typeof u.initial!="boolean"){const S=Kp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(E.transition=S.transition)}p.forEach(S=>{const w=t.getBaseTarget(S),T=t.getValue(S);T&&(T.liveStyle=!0),E[S]=w??null}),f.push({animation:E})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=JP(),r=!0}}}function Sfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y8(e,t):!1}function Fl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JP(){return{animate:Fl(!0),whileInView:Fl(),whileHover:Fl(),whileTap:Fl(),whileDrag:Fl(),whileFocus:Fl(),exit:Fl()}}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Tfe extends pl{constructor(e){super(e),e.animationState||(e.animationState=xfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Afe=0;class wfe extends pl{constructor(){super(...arguments),this.id=Afe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _fe={animation:{Feature:Tfe},exit:{Feature:wfe}};function qp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gm(t){return{point:{x:t.pageX,y:t.pageY}}}const Cfe=t=>e=>fC(e)&&t(e,gm(e));function lp(t,e,n,r){return qp(t,e,Cfe(n),r)}const eM=(t,e)=>Math.abs(t-e);function kfe(t,e){const n=eM(t.x,e.x),r=eM(t.y,e.y);return Math.sqrt(n**2+r**2)}class X8{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=tS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=kfe(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:y}=Rr;this.history.push({...v,timestamp:y});const{onStart:E,onMove:S}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=eS(p,this.transformPagePoint),pn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=tS(f.type==="pointercancel"?this.lastMoveEventInfo:eS(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),v&&v(f,E)},!fC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=gm(e),a=eS(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Rr;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,tS(a,this.history)),this.removeListeners=mm(lp(this.contextWindow,"pointermove",this.handlePointerMove),lp(this.contextWindow,"pointerup",this.handlePointerUp),lp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ul(this.updatePoint)}}function eS(t,e){return e?{point:e(t.point)}:t}function tM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tS({point:t},e){return{point:t,delta:tM(t,Q8(e)),offset:tM(t,Rfe(e)),velocity:Ife(e,.1)}}function Rfe(t){return t[0]}function Q8(t){return t[t.length-1]}function Ife(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Q8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>na(e)));)n--;if(!r)return{x:0,y:0};const s=ra(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Z8=1e-4,Lfe=1-Z8,Dfe=1+Z8,J8=.01,Pfe=0-J8,Mfe=0+J8;function Xr(t){return t.max-t.min}function Ofe(t,e,n){return Math.abs(t-e)<=n}function nM(t,e,n,r=.5){t.origin=r,t.originPoint=Rn(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),t.translate=Rn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Lfe&&t.scale<=Dfe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Pfe&&t.translate<=Mfe||isNaN(t.translate))&&(t.translate=0)}function cp(t,e,n,r){nM(t.x,e.x,n.x,r?r.originX:void 0),nM(t.y,e.y,n.y,r?r.originY:void 0)}function rM(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function Nfe(t,e,n){rM(t.x,e.x,n.x),rM(t.y,e.y,n.y)}function iM(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function up(t,e,n){iM(t.x,e.x,n.x),iM(t.y,e.y,n.y)}function $fe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rn(n,t,r.max):Math.min(t,n)),t}function sM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ffe(t,{top:e,left:n,bottom:r,right:i}){return{x:sM(t.x,n,i),y:sM(t.y,e,r)}}function oM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Bfe(t,e){return{x:oM(t.x,e.x),y:oM(t.y,e.y)}}function Ufe(t,e){let n=.5;const r=Xr(t),i=Xr(e);return i>r?n=Fd(e.min,e.max-r,t.min):r>i&&(n=Fd(t.min,t.max-i,e.min)),aa(0,1,n)}function jfe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const RA=.35;function Vfe(t=RA){return t===!1?t=0:t===!0&&(t=RA),{x:aM(t,"left","right"),y:aM(t,"top","bottom")}}function aM(t,e,n){return{min:lM(t,e),max:lM(t,n)}}function lM(t,e){return typeof t=="number"?t:t[e]||0}const cM=()=>({translate:0,scale:1,origin:0,originPoint:0}),ad=()=>({x:cM(),y:cM()}),uM=()=>({min:0,max:0}),jn=()=>({x:uM(),y:uM()});function Gi(t){return[t("x"),t("y")]}function eB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Wfe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hfe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nS(t){return t===void 0||t===1}function IA({scale:t,scaleX:e,scaleY:n}){return!nS(t)||!nS(e)||!nS(n)}function uc(t){return IA(t)||tB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tB(t){return dM(t.x)||dM(t.y)}function dM(t){return t&&t!=="0%"}function Jy(t,e,n){const r=t-n,i=e*r;return n+i}function hM(t,e,n,r,i){return i!==void 0&&(t=Jy(t,i,r)),Jy(t,n,r)+e}function LA(t,e=0,n=1,r,i){t.min=hM(t.min,e,n,r,i),t.max=hM(t.max,e,n,r,i)}function nB(t,{x:e,y:n}){LA(t.x,e.translate,e.scale,e.originPoint),LA(t.y,n.translate,n.scale,n.originPoint)}const fM=.999999999999,pM=1.0000000000001;function Gfe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nB(t,o)),r&&uc(s.latestValues)&&cd(t,s.latestValues))}e.x<pM&&e.x>fM&&(e.x=1),e.y<pM&&e.y>fM&&(e.y=1)}function ld(t,e){t.min=t.min+e,t.max=t.max+e}function mM(t,e,n,r,i=.5){const s=Rn(t.min,t.max,i);LA(t,e,n,s,r)}function cd(t,e){mM(t.x,e.x,e.scaleX,e.scale,e.originX),mM(t.y,e.y,e.scaleY,e.scale,e.originY)}function rB(t,e){return eB(Hfe(t.getBoundingClientRect(),e))}function Kfe(t,e,n){const r=rB(t,n),{scroll:i}=e;return i&&(ld(r.x,i.offset.x),ld(r.y,i.offset.y)),r}const iB=({current:t})=>t?t.ownerDocument.defaultView:null,zfe=new WeakMap;class Yfe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gm(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ude(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(E=>{let S=this.getAxisMotionValue(E).get()||0;if(So.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[E];T&&(S=Xr(T)*(parseFloat(S)/100))}}this.originPoint[E]=S}),v&&pn.postRender(()=>v(h,f)),xA(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=qfe(E),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),y&&y(h,f)},a=(h,f)=>this.stop(h,f),c=()=>Gi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new X8(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&pn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!T0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$fe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&sd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ffe(i.layoutBox,n):this.constraints=!1,this.elastic=Vfe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jfe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Kfe(r,i.root,this.visualElement.getTransformPagePoint());let o=Bfe(i.layout.layoutBox,s);if(n){const a=n(Wfe(o));this.hasMutatedConstraints=!!a,a&&(o=eB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Gi(h=>{if(!T0(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xA(this.visualElement,e),r.start(wC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gi(n=>{const{drag:r}=this.getProps();if(!T0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Rn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=Ufe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(o=>{if(!T0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Rn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;zfe.set(this.visualElement,this);const e=this.visualElement.current,n=lp(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();sd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pn.read(r);const o=qp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gi(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=RA,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function T0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qfe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Xfe extends pl{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new Yfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const gM=t=>(e,n)=>{t&&pn.postRender(()=>t(e,n))};class Qfe extends pl{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new X8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gM(e),onStart:gM(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&pn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=lp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ff={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ot.test(t))t=parseFloat(t);else return t;const n=vM(t,e.target.x),r=vM(t,e.target.y);return`${n}% ${r}%`}},Zfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=dl.parse(t);if(i.length>5)return r;const s=dl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=Rn(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Jfe extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ide(epe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),J_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sB(t){const[e,n]=Oue(),r=I.useContext(jF);return b.jsx(Jfe,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(qF),isPresent:e,safeToRemove:n})}const epe={borderRadius:{...ff,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ff,borderTopRightRadius:ff,borderBottomLeftRadius:ff,borderBottomRightRadius:ff,boxShadow:Zfe};function tpe(t,e,n){const r=Hr(t)?t:zp(t);return r.start(wC("",r,e,n)),r.animation}function npe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const rpe=(t,e)=>t.depth-e.depth;class ipe{constructor(){this.children=[],this.isDirty=!1}add(e){pC(this.children,e),this.isDirty=!0}remove(e){mC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rpe),this.isDirty=!1,this.children.forEach(e)}}function spe(t,e){const n=To.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ul(r),t(s-e))};return pn.read(r,!0),()=>ul(r)}const oB=["TopLeft","TopRight","BottomLeft","BottomRight"],ope=oB.length,yM=t=>typeof t=="string"?parseFloat(t):t,bM=t=>typeof t=="number"||ot.test(t);function ape(t,e,n,r,i,s){i?(t.opacity=Rn(0,n.opacity!==void 0?n.opacity:1,lpe(r)),t.opacityExit=Rn(e.opacity!==void 0?e.opacity:1,0,cpe(r))):s&&(t.opacity=Rn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ope;o++){const a=`border${oB[o]}Radius`;let c=EM(e,a),u=EM(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bM(c)===bM(u)?(t[a]=Math.max(Rn(yM(c),yM(u),r),0),(So.test(u)||So.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Rn(e.rotate||0,n.rotate||0,r))}function EM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lpe=aB(0,.5,A8),cpe=aB(.5,.95,_i);function aB(t,e,n){return r=>r<t?0:r>e?1:n(Fd(t,e,r))}function xM(t,e){t.min=e.min,t.max=e.max}function Wi(t,e){xM(t.x,e.x),xM(t.y,e.y)}function SM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function TM(t,e,n,r,i){return t-=e,t=Jy(t,1/n,r),i!==void 0&&(t=Jy(t,1/i,r)),t}function upe(t,e=0,n=1,r=.5,i,s=t,o=t){if(So.test(e)&&(e=parseFloat(e),e=Rn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Rn(s.min,s.max,r);t===s&&(a-=e),t.min=TM(t.min,e,n,a,i),t.max=TM(t.max,e,n,a,i)}function AM(t,e,[n,r,i],s,o){upe(t,e[n],e[r],e[i],e.scale,s,o)}const dpe=["x","scaleX","originX"],hpe=["y","scaleY","originY"];function wM(t,e,n,r){AM(t.x,e,dpe,n?n.x:void 0,r?r.x:void 0),AM(t.y,e,hpe,n?n.y:void 0,r?r.y:void 0)}function _M(t){return t.translate===0&&t.scale===1}function lB(t){return _M(t.x)&&_M(t.y)}function CM(t,e){return t.min===e.min&&t.max===e.max}function fpe(t,e){return CM(t.x,e.x)&&CM(t.y,e.y)}function kM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cB(t,e){return kM(t.x,e.x)&&kM(t.y,e.y)}function RM(t){return Xr(t.x)/Xr(t.y)}function IM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ppe{constructor(){this.members=[]}add(e){pC(this.members,e),e.scheduleRender()}remove(e){if(mC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mpe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const rS=["","X","Y","Z"],gpe={visibility:"hidden"},LM=1e3;let vpe=0;function iS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function uB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=v8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&uB(r)}function dB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Epe),this.nodes.forEach(wpe),this.nodes.forEach(_pe),this.nodes.forEach(xpe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ipe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=npe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=spe(p,250),Zv.hasAnimatedSinceResize&&(Zv.hasAnimatedSinceResize=!1,this.nodes.forEach(PM))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||Lpe,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=h.getProps(),w=!this.targetLayout||!cB(this.targetLayout,v),T=!p&&g;if(this.options.layoutRoot||this.resumeFrom||T||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const C={...uC(y,"layout"),onPlay:E,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||PM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cpe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DM);return}this.isUpdating||this.nodes.forEach(Tpe),this.isUpdating=!1,this.nodes.forEach(Ape),this.nodes.forEach(ype),this.nodes.forEach(bpe),this.clearAllSnapshots();const a=To.now();Rr.delta=aa(0,1e3/60,a-Rr.timestamp),Rr.timestamp=a,Rr.isProcessing=!0,q1.update.process(Rr),q1.preRender.process(Rr),q1.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Spe),this.sharedNodes.forEach(kpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xr(this.snapshot.measuredBox.x)&&!Xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lB(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||uc(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),Dpe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return jn();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Ppe))){const{scroll:h}=this.root;h&&(ld(c.x,h.offset.x),ld(c.y,h.offset.y))}return c}removeElementScroll(o){var a;const c=jn();if(Wi(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Wi(c,o),ld(c.x,f.offset.x),ld(c.y,f.offset.y))}return c}applyTransform(o,a=!1){const c=jn();Wi(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&cd(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),uc(h.latestValues)&&cd(c,h.latestValues)}return uc(this.latestValues)&&cd(c,this.latestValues),c}removeTransform(o){const a=jn();Wi(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!uc(u.latestValues))continue;IA(u.latestValues)&&u.updateSnapshot();const h=jn(),f=u.measurePageBox();Wi(h,f),wM(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return uc(this.latestValues)&&wM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),up(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),nB(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),up(this.relativeTargetOrigin,this.target,g.target),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||IA(this.parent.latestValues)||tB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Wi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Gfe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SM(this.prevProjectionDelta.x,this.projectionDelta.x),SM(this.prevProjectionDelta.y,this.projectionDelta.y)),cp(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!IM(this.projectionDelta.x,this.prevProjectionDelta.x)||!IM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ad(),this.projectionDelta=ad(),this.projectionDeltaWithTransform=ad()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jn(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,E=this.getStack(),S=!E||E.members.length<=1,w=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(Ipe));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const _=C/1e3;MM(f.x,o.x,_),MM(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(up(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rpe(this.relativeTarget,this.relativeTargetOrigin,p,_),T&&fpe(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=jn()),Wi(T,this.relativeTarget)),y&&(this.animationValues=h,ape(h,u,this.latestValues,_,w,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pn.update(()=>{Zv.hasAnimatedSinceResize=!0,this.currentAnimation=tpe(0,LM,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&hB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||jn();const f=Xr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Xr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Wi(a,c),cd(a,h),cp(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ppe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&iS("z",o,u,this.animationValues);for(let h=0;h<rS.length;h++)iS(`rotate${rS[h]}`,o,u,this.animationValues),iS(`skew${rS[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gpe;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xv(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Xv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!uc(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=mpe(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Hp){if(p[y]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:w}=Hp[y],T=u.transform==="none"?p[y]:E(p[y],f);if(S){const C=S.length;for(let _=0;_<C;_++)u[S[_]]=T}else w?this.options.visualElement.renderState.vars[y]=T:u[y]=T}return this.options.layoutId&&(u.pointerEvents=f===this?Xv(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(DM),this.root.sharedNodes.clear()}}}function ype(t){t.updateLayout()}function bpe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=Xr(p);p.min=r[f].min,p.max=p.min+g}):hB(s,n.layoutBox,r)&&Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=Xr(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=ad();cp(a,r,n.layoutBox);const c=ad();o?cp(c,t.applyTransform(i,!0),n.measuredBox):cp(c,r,n.layoutBox);const u=!lB(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=jn();up(v,n.layoutBox,p.layoutBox);const y=jn();up(y,r,g.layoutBox),cB(v,y)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Epe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xpe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Spe(t){t.clearSnapshot()}function DM(t){t.clearMeasurements()}function Tpe(t){t.isLayoutDirty=!1}function Ape(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wpe(t){t.resolveTargetDelta()}function _pe(t){t.calcProjection()}function Cpe(t){t.resetSkewAndRotation()}function kpe(t){t.removeLeadSnapshot()}function MM(t,e,n){t.translate=Rn(e.translate,0,n),t.scale=Rn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OM(t,e,n,r){t.min=Rn(e.min,n.min,r),t.max=Rn(e.max,n.max,r)}function Rpe(t,e,n,r){OM(t.x,e.x,n.x,r),OM(t.y,e.y,n.y,r)}function Ipe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Lpe={duration:.45,ease:[.4,0,.1,1]},NM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$M=NM("applewebkit/")&&!NM("chrome/")?Math.round:_i;function FM(t){t.min=$M(t.min),t.max=$M(t.max)}function Dpe(t){FM(t.x),FM(t.y)}function hB(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ofe(RM(e),RM(n),.2)}function Ppe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Mpe=dB({attachResizeListener:(t,e)=>qp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sS={current:void 0},fB=dB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sS.current){const t=new Mpe({});t.mount(window),t.setOptions({layoutScroll:!0}),sS.current=t}return sS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ope={pan:{Feature:Qfe},drag:{Feature:Xfe,ProjectionNode:fB,MeasureLayout:sB}};function BM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&pn.postRender(()=>s(e,gm(e)))}class Npe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=Ode(e,(n,r)=>(BM(this.node,r,"Start"),i=>BM(this.node,i,"End"))))}unmount(){}}class $pe extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mm(qp(this.node.current,"focus",()=>this.onFocus()),qp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UM(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&pn.postRender(()=>s(e,gm(e)))}class Fpe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=Bde(e,(n,r)=>(UM(this.node,r,"Start"),(i,{success:s})=>UM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const DA=new WeakMap,oS=new WeakMap,Bpe=t=>{const e=DA.get(t.target);e&&e(t)},Upe=t=>{t.forEach(Bpe)};function jpe({root:t,...e}){const n=t||document;oS.has(n)||oS.set(n,{});const r=oS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Upe,{root:t,...e})),r[i]}function Vpe(t,e,n){const r=jpe(e);return DA.set(t,n),r.observe(t),()=>{DA.delete(t),r.unobserve(t)}}const Wpe={some:0,all:1};class Hpe extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Wpe[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=u?h:f;p&&p(c)};return Vpe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Gpe(e,n))&&this.startObserver()}unmount(){}}function Gpe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Kpe={inView:{Feature:Hpe},tap:{Feature:Fpe},focus:{Feature:$pe},hover:{Feature:Npe}},zpe={layout:{ProjectionNode:fB,MeasureLayout:sB}},PA={current:null},pB={current:!1};function Ype(){if(pB.current=!0,!!Y_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>PA.current=t.matches;t.addListener(e),e()}else PA.current=!1}const qpe=[...F8,Vr,dl],Xpe=t=>qpe.find($8(t)),Qpe=new WeakMap;function Zpe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Hr(i))t.addValue(r,i);else if(Hr(s))t.addValue(r,zp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,zp(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jpe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=To.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,pn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Gb(n),this.isVariantNode=zF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];c[g]!==void 0&&Hr(v)&&v.set(c[g],!1)}}mount(e){this.current=e,Qpe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pB.current||Ype(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:PA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ul(this.notifyUpdate),ul(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bd){const n=Bd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jM.length;r++){const i=jM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Zpe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(O8(i)||_8(i))?i=parseFloat(i):!Xpe(i)&&dl.test(n)&&(i=D8(e,n)),this.setBaseTarget(e,Hr(i)?i.get():i)),Hr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=lC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Hr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mB extends Jpe{constructor(){super(...arguments),this.KeyframeResolver=B8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eme(t){return window.getComputedStyle(t)}class tme extends mB{constructor(){super(...arguments),this.type="html",this.renderInstance=i8}readValueFromInstance(e,n){if(Kc.has(n)){const r=xC(n);return r&&r.default||0}else{const r=eme(e),i=(eC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rB(e,n)}build(e,n,r){rC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cC(e,n,r)}}class nme extends mB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&r8(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kc.has(n)){const r=xC(n);return r&&r.default||0}return n=s8.has(n)?n:Z_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return a8(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&pn.postRender(this.updateDimensions)}build(e,n,r){oC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){o8(e,n,r,i)}mount(e){this.isSVGTag=aC(e.tagName),super.mount(e)}}const rme=(t,e)=>sC(t)?new nme(e):new tme(e,{allowProjection:t!==I.Fragment}),ime=kde({..._fe,...Kpe,...Ope,...zpe},rme),sme=Hue(ime),ome=({feedbackData:t,onQuickReply:e,onReaction:n})=>{const[r,i]=I.useState(!1),[s,o]=I.useState(""),a=6,c=Math.max(0,t.length-a);return b.jsx(sme.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},style:{width:"100%"},children:b.jsxs(ie,{sx:{mb:4,mt:2,px:4,pt:2.5,pb:1.5,borderRadius:48,bgcolor:"background.paper",boxShadow:"0px 0px 30px rgba(0, 0, 0, 0.1)"},children:[b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75,mt:1},children:[b.jsx(ce,{sx:{color:"text.secondary",textAlign:"center"},children:"You have new feedback from your team!"}),b.jsx(ie,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.75},children:b.jsxs(ie,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[t.slice(0,a).map((u,h)=>b.jsx(Qr,{src:u.avatarUrl||"/api/placeholder/32/32",alt:u.user,sx:{width:32,height:32,border:2,borderColor:"background.paper",ml:h===0?0:-1}},h)),c>0&&b.jsxs(Qr,{sx:{width:32,height:32,bgcolor:"grey.100",border:2,borderColor:"background.paper",ml:-1,fontSize:"0.85rem",color:"text.secondary"},children:["+",c]})]})}),b.jsx(St,{onClick:()=>i(!r),sx:{color:"#0090f2"},children:r?"Hide Feedback":"View Feedback"})]}),b.jsx(bS,{in:r,children:b.jsx(ie,{sx:{mt:3},children:t.map((u,h)=>b.jsxs(ie,{sx:{borderTop:h===0?0:1,borderColor:"divider",pt:2,mt:2},children:[b.jsx(ce,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:.25,textAlign:"center"},children:u.timestamp}),b.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:.75,mb:1},children:[b.jsx(Qr,{src:u.avatarUrl||"/api/placeholder/32/32",alt:u.user,sx:{width:32,height:32}}),b.jsx(ie,{sx:{flex:1,p:.25,bgcolor:"white",borderRadius:2,color:"text.primary"},children:b.jsx(ce,{variant:"body2",sx:{fontSize:"0.875rem"},children:u.comment})}),u.videoThumbnail&&b.jsx(ie,{sx:{width:96,height:64,borderRadius:1,overflow:"hidden",flexShrink:0},children:b.jsx("img",{src:u.videoThumbnail,alt:"Video thumbnail",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),b.jsxs(ie,{sx:{display:"flex",gap:2,justifyContent:"flex-start",alignItems:"center",pl:6},children:[b.jsx(At,{onClick:()=>n("like"),sx:{color:"text.secondary","&:hover":{color:"primary.main"}},size:"small",children:b.jsx(cQ,{size:16})}),b.jsx(At,{onClick:()=>n("heart"),sx:{color:"text.secondary","&:hover":{color:"error.main"}},size:"small",children:b.jsx(sQ,{size:16})}),b.jsx(At,{onClick:()=>n("comment"),sx:{color:"text.secondary","&:hover":{color:"success.main"}},size:"small",children:b.jsx(aQ,{size:16})})]})]},h))})})]})})},ame=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),[i,s]=I.useState(!1),[o,a]=I.useState(!1),[c,u]=I.useState(!1),[h,f]=I.useState(!1),[p,g]=I.useState(!1),[v,y]=I.useState(!1),[E,S]=I.useState(!1),[w,T]=I.useState(!1),[C,_]=I.useState(!1),L={analysis:{isOpen:t,setOpen:e},improvements:{isOpen:n,setOpen:r},teamFeedback:{isOpen:i,setOpen:s},competitionHub:{isOpen:o,setOpen:a},versions:{isOpen:c,setOpen:u},profile:{isOpen:h,setOpen:f},media:{isOpen:p,setOpen:g},submissionDashboard:{isOpen:v,setOpen:N=>{console.log(` SubmissionDashboard is now: ${N}`),y(N)}},submissionDetail:{isOpen:w,setOpen:N=>{console.log(` SubmissionDetail is now: ${N}`),T(N)}},submissionSuccess:{isOpen:C,setOpen:N=>{console.log(` SubmissionSuccess is now: ${N}`),_(N)}},submissionForm:{isOpen:E,setOpen:N=>{console.log(` SubmissionForm is now: ${N}`),S(N)}}},D=I.useCallback(N=>{const k=N.toLowerCase().trim();for(const $ of Object.values(xue))if($.triggers.some(z=>k.includes(z)))return{message:$.responses[Math.floor(Math.random()*$.responses.length)],quickReplies:$.quickReplies?[...$.quickReplies]:void 0,action:$.action};return null},[]),P=I.useCallback(N=>{console.log(" DialogManager - Handling action:",N);const k={openMediaDialog:()=>{console.log("Opening media dialog"),g(!0)},openSubmissionForm:()=>{console.log("Opening submission form"),S(!0)},openTeamFeedback:()=>{console.log("Opening team feedback"),s(!0)},openImprovements:()=>{console.log("Opening improvements"),r(!0)},openCompetitionHub:()=>{console.log("Opening competition hub"),a(!0)},openPitchVersions:()=>{console.log("Opening pitch versions"),u(!0)},openAnalysis:()=>{console.log("Opening analysis"),e(!0)},openProfile:()=>{console.log("Opening profile"),f(!0)},openSubmissionDashboard:()=>{console.log("Opening submission dashboard"),y(!0)},openDashboard:function(){throw new Error("Function not implemented.")},openSubmissionDetail:function(){throw new Error("Function not implemented.")}};try{k[N]?k[N]():console.warn("Unknown action:",N)}catch($){console.error("Error handling action:",N,$)}},[]);return I.useEffect(()=>{console.log("Dialog states updated:",{analysis:t,improvements:n,teamFeedback:i,competitionHub:o,versions:c,profile:h,media:p,submissionDashboard:v,submissionForm:E})},[t,n,i,o,c,h,p,v,E]),{dialogStates:L,processCommand:D,handleCommandAction:P}},lme=""+new URL("harperthumb1-D8g29C6E.png",import.meta.url).href,cme=""+new URL("harperthumb2-Hncx-3gL.png",import.meta.url).href,ume=""+new URL("harperthumb3--7AhUfVr.png",import.meta.url).href,dme=({onCommand:t})=>{const e=I.useRef(null),{messages:n,addMessage:r}=Yd(),{dialogStates:i,processCommand:s,handleCommandAction:o}=ame(),[a,c]=I.useState(!1),[u,h]=I.useState(!1),f=I.useRef(null);I.useEffect(()=>{const T=setTimeout(()=>{c(!0)},300);return()=>clearTimeout(T)},[]);const p=()=>{h(T=>!T),setTimeout(()=>{const T=document.querySelector('[data-testid="media-button"]');T?(f.current=T,console.log("Found media button:",T)):console.log("Could not find media button")},0)},g=()=>{h(!1)},v=async T=>{if(T.target.files&&T.target.files[0]){const C=T.target.files[0];console.log(" FeedView - File selected:",C.name);const{handleVideoUpload:_}=$F();_(C,(L,D)=>{console.log(" FeedView - Upload complete:",{fileUrl:L,isPortrait:D}),w(L,D),h(!1)})}},y=[{user:"Dewey Brown",comment:"Your ending is strong, but the middle felt rushed.",avatarUrl:"/api/placeholder/32/32",timestamp:"10:30 AM",videoThumbnail:lme},{user:"Maria",comment:"Try making the call-to-action more direct.",avatarUrl:"/api/placeholder/32/32",timestamp:"11:15 AM",videoThumbnail:cme},{user:"Kevin Keeker",comment:"Great energy! Maybe slow down just a bit.",avatarUrl:"/api/placeholder/32/32",timestamp:"11:45 AM",videoThumbnail:ume}],E=T=>{console.log(" FeedView - Quick reply clicked:",T),r({id:Zo(),pitchId:"defaultPitchId",sender:"user",text:T,timestamp:new Date,content:T,fromAI:!1});const C=s(T);console.log(" FeedView - Processed command:",C),C?setTimeout(()=>{r({id:Zo(),pitchId:"defaultPitchId",sender:"coach",text:C.message,timestamp:new Date,content:C.message,quickReplies:C.quickReplies,fromAI:!0}),C.action&&(console.log(" FeedView - Executing action:",C.action),o(C.action))},1e3):console.log(" FeedView - No command found for reply:",T)},S=T=>{r({id:Zo(),pitchId:"defaultPitchId",sender:"user",text:T,timestamp:new Date,content:T,fromAI:!1});const C=s(T);setTimeout(()=>{r(C?{id:Zo(),pitchId:"defaultPitchId",sender:"coach",text:C.message,timestamp:new Date,content:C.message,quickReplies:C.quickReplies,fromAI:!0}:{id:Zo(),pitchId:"defaultPitchId",sender:"coach",text:"I understand you want to improve your pitch. What would you like help with?",timestamp:new Date,content:"I understand you want to improve your pitch. What would you like help with?",quickReplies:["See analysis","Get feedback","Compare pitches","New recording"],fromAI:!0})},1500)},w=(T,C)=>{console.log(" FeedView - handleSendVideo called with:",{fileUrl:T,isPortrait:C}),N3({fileUrl:T,isPortrait:C,setMessages:r,isVersionUpload:!1})};return b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},children:[b.jsxs(ie,{ref:e,sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:800,margin:"0 auto",height:"calc(100vh - 56px - 72px)",paddingBottom:"12px",mb:2,pl:2,pr:2},children:[b.jsx(ie,{sx:{maxWidth:"100%",mt:-2,px:1,borderRadius:32},children:b.jsx(l3,{direction:"down",in:a,timeout:700,children:b.jsx(ie,{children:b.jsx(bp,{in:a,timeout:1e3,children:b.jsx(ie,{children:b.jsx(ome,{feedbackData:y,onQuickReply:E,onReaction:T=>console.log("Reaction:",T)})})})})})}),n.length===0?b.jsx(Pue,{}):b.jsx(ie,{sx:{width:"100%",px:2},children:n.map(T=>b.jsx(FX,{message:T,onQuickReply:E},T.id))})]}),b.jsx(_G,{onClickAway:g,children:b.jsxs(ie,{sx:{position:"fixed",bottom:0,left:0,width:"100%",zIndex:10,display:"flex",flexDirection:"column",alignItems:"center"},children:[b.jsx(ie,{sx:{display:"flex",alignItems:"flex-end",width:"100%",maxWidth:"600px",margin:"0 auto"},children:u&&b.jsx(ie,{sx:{width:"180px",alignSelf:"flex-start",ml:3,mb:0,backgroundColor:"rgba(255, 255, 255, 0.52)",borderRadius:"12px 12px 0 0",boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.2)",overflow:"hidden"},children:b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:.5,p:1.5,bgcolor:"white"},children:[b.jsxs(St,{variant:"contained",sx:{bgcolor:"#0090f2",cursor:"pointer",textAlign:"left"},component:"label",children:[b.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:v}),b.jsx(ce,{variant:"body2",children:"Upload video"})]}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Record video"})}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Upload PDF"})}),b.jsx(Fc,{sx:{my:.75}}),b.jsx(St,{disabled:!0,children:b.jsx(ce,{variant:"body2",children:"Choose a coach"})})]})})}),b.jsx(Iue,{onSendMessage:S,onOpenMediaMenu:p})]})}),b.jsx(Rue,{dialogStates:{...i,media:{isOpen:!1,setOpen:()=>{}}},onSendVideo:w})]})},hme=""+new URL("harper-DrJHvIN0.png",import.meta.url).href,fme=({setSubmissionDashboardOpen:t,setProfileOpen:e,setSettingsOpen:n,anchorEl:r,handleProfileClick:i,handleMenuClose:s})=>{const o=Yd(h=>h.setActiveTab),[a,c]=I.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsx(lW,{position:"fixed",elevation:0,sx:{backgroundColor:"white",borderBottom:"1px solid #ddd"},children:b.jsxs(AY,{children:[b.jsx(ie,{sx:{display:"flex",alignItems:"left",cursor:"pointer"},onClick:()=>o("feed"),children:b.jsx("img",{src:"/img/logo.svg",alt:"LongJump Logo",style:{height:32,marginRight:8}})}),b.jsxs(ie,{sx:{display:"flex",gap:2,marginLeft:"auto"},children:[b.jsx(At,{sx:{mt:2},onClick:()=>c(!0),children:b.jsx(nG,{badgeContent:3,sx:{"& .MuiBadge-badge":{backgroundColor:"#8e50ab",color:"white",fontSize:"9px"}},children:b.jsx(vQ,{fontSize:"large"})})}),b.jsx(At,{onClick:i,children:b.jsx(Qr,{src:hme,sx:{width:40,height:40}})})]})]})}),b.jsxs(yw,{anchorEl:r,open:!!r,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[b.jsx(pc,{onClick:()=>{e(!0),s()},children:"Profile"}),b.jsx(pc,{onClick:()=>{console.log(" Opening SubmissionDashboard"),t(!0),s()},children:"Submissions"}),b.jsx(pc,{onClick:()=>{n(!0),s()},children:"Settings"}),b.jsx(pc,{onClick:s,children:"Sign Out"})]}),b.jsx(U3,{open:a,onClose:()=>c(!1)})]})},pme=({open:t,onClose:e})=>b.jsxs(Kr,{open:t,onClose:e,fullScreen:!0,sx:{height:"95vh",display:"flex",margin:2,flexDirection:"column"},children:[b.jsxs(gi,{sx:{flexShrink:0},children:["Settings",b.jsx(At,{onClick:e,sx:{position:"absolute",right:8,top:8},children:b.jsx(is,{})})]}),b.jsx(Jr,{sx:{flexGrow:1,overflowY:"auto"},children:b.jsx(ie,{p:3,children:b.jsxs(Zt,{container:!0,spacing:3,children:[b.jsx(Zt,{item:!0,xs:12,md:4,children:b.jsx(lr,{elevation:2,children:b.jsx(yo,{children:b.jsxs(ea,{children:[b.jsx(ce,{variant:"h6",children:"Pitch Performance"}),b.jsx(ce,{children:"Metrics coming soon..."})]})})})}),b.jsx(Zt,{item:!0,xs:12,md:4,children:b.jsx(lr,{elevation:2,children:b.jsx(yo,{children:b.jsxs(ea,{children:[b.jsx(ce,{variant:"h6",children:"Recent Activity"}),b.jsx(ce,{children:"No recent activity"})]})})})}),b.jsx(Zt,{item:!0,xs:12,md:4,children:b.jsx(lr,{elevation:2,children:b.jsx(yo,{children:b.jsxs(ea,{children:[b.jsx(ce,{variant:"h6",children:"Goals"}),b.jsx(ce,{children:"Set your pitch goals here"})]})})})})]})})})]}),mme=[{id:"1",title:"Main Pitch v2",thumbnail:"/api/placeholder/320/180",duration:"2:45",lastModified:"2025-02-15",coachRecommended:!0},{id:"2",title:"Technical Deep Dive",thumbnail:"/api/placeholder/320/180",duration:"3:20",lastModified:"2025-02-14",coachRecommended:!1}],gme=({videoFile:t,videoPreview:e,onVideoUpload:n,onVideoRemove:r,error:i})=>{const[s,o]=I.useState(!1),a=c=>{var h;const u=(h=c.target.files)==null?void 0:h[0];u&&n(u)};return b.jsxs(b.Fragment,{children:[b.jsx(yo,{variant:"outlined",children:b.jsx(ea,{children:e?b.jsxs(ie,{position:"relative",children:[b.jsx("video",{src:e,controls:!0,style:{width:"100%",borderRadius:8}}),b.jsx(St,{variant:"outlined",size:"small",sx:{position:"absolute",top:8,right:8},onClick:r,children:"Choose Different Video"})]}):b.jsxs(Ds,{spacing:2,children:[b.jsxs("label",{children:[b.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:a}),b.jsxs(ie,{sx:{border:"2px dashed",borderColor:i?"error.main":"divider",borderRadius:1,p:3,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main"}},children:[b.jsx(EQ,{sx:{fontSize:40,color:"text.secondary",mb:1}}),b.jsx(ce,{color:"text.secondary",children:"Upload a new pitch video"})]})]}),b.jsx(St,{variant:"outlined",startIcon:b.jsx(DS,{}),onClick:()=>o(!0),fullWidth:!0,children:"Select a Previous Version"})]})})}),b.jsxs(Kr,{open:s,onClose:()=>o(!1),maxWidth:"md",fullWidth:!0,children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{size:"small",onClick:()=>o(!1),children:b.jsx(qd,{})}),b.jsx(ce,{variant:"h6",children:"Select a Previous Version"})]}),b.jsx(At,{size:"small",onClick:()=>o(!1),children:b.jsx(is,{})})]})}),b.jsx(Jr,{children:b.jsx(Ds,{spacing:2,sx:{mt:2},children:mme.map(c=>b.jsx(yo,{variant:"outlined",sx:{cursor:"pointer","&:hover":{borderColor:"primary.main"}},onClick:()=>{const u=new File([""],c.title,{type:"video/mp4"});n(u),o(!1)},children:b.jsx(ea,{children:b.jsxs(ie,{display:"flex",gap:2,children:[b.jsx(ie,{component:"img",src:c.thumbnail,sx:{width:160,height:90,borderRadius:1,objectFit:"cover"}}),b.jsxs(ie,{children:[b.jsxs(ce,{variant:"subtitle1",children:[c.title,c.coachRecommended&&b.jsx(DS,{sx:{ml:1,color:"warning.main",fontSize:16}})]}),b.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Duration: ",c.duration]}),b.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Last modified: ",c.lastModified]})]})]})})},c.id))})})]})]})},vme=({title:t,description:e,website:n,onTitleChange:r,onDescriptionChange:i,onWebsiteChange:s,errors:o})=>b.jsxs(Ds,{spacing:2,children:[b.jsx(Rs,{label:"Submission Title",fullWidth:!0,value:t,onChange:a=>r(a.target.value),error:!!(o!=null&&o.title),helperText:o==null?void 0:o.title}),b.jsx(Rs,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:e,onChange:a=>i(a.target.value),error:!!(o!=null&&o.description),helperText:o==null?void 0:o.description}),b.jsxs(ie,{display:"flex",gap:1,children:[b.jsx(Rs,{label:"Website",fullWidth:!0,placeholder:"https://",value:n,onChange:a=>s(a.target.value)}),b.jsx(St,{variant:"outlined",startIcon:b.jsx(LS,{}),children:"Verify"})]})]}),yme=[{id:"1",name:"Sarah Chen",email:"sarah.chen@example.com",role:"Technical Co-Founder",avatar:"/api/placeholder/40/40"},{id:"2",name:"Marcus Rodriguez",email:"marcus.r@example.com",role:"Product Lead",avatar:"/api/placeholder/40/40"},{id:"3",name:"Alex Kim",email:"alex.kim@example.com",role:"Design Lead",avatar:"/api/placeholder/40/40"},{id:"4",name:"Jordan Taylor",email:"j.taylor@example.com",role:"Marketing Director",avatar:"/api/placeholder/40/40"}],bme=({members:t,onAddMember:e,onRemoveMember:n})=>{const[r,i]=I.useState(!1),s=yme.filter(a=>!t.find(c=>c.id===a.id)),o=a=>{e(a),i(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(yo,{variant:"outlined",children:b.jsxs(ea,{children:[b.jsx(ce,{variant:"subtitle1",gutterBottom:!0,children:"Team Members"}),b.jsxs(Ds,{spacing:2,children:[b.jsx(ie,{display:"flex",flexWrap:"wrap",gap:1,children:t.map(a=>b.jsx(Wd,{avatar:b.jsx(Qr,{src:a.avatar,children:a.name.charAt(0)}),label:a.name,onDelete:()=>n(a.id)},a.id))}),b.jsx(St,{variant:"outlined",startIcon:b.jsx(yQ,{}),onClick:()=>i(!0),disabled:s.length===0,fullWidth:!0,children:s.length===0?"All team members added":"Add Team Members"})]})]})}),b.jsxs(Kr,{open:r,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{size:"small",onClick:()=>i(!1),children:b.jsx(qd,{})}),b.jsx(ce,{variant:"h6",children:"Add Team Members"})]}),b.jsx(At,{size:"small",onClick:()=>i(!1),children:b.jsx(is,{})})]})}),b.jsx(Jr,{children:b.jsxs(hd,{sx:{pt:1},children:[s.map(a=>b.jsx(Es,{disablePadding:!0,children:b.jsxs(uz,{onClick:()=>o(a),children:[b.jsx(h3,{children:b.jsx(Qr,{src:a.avatar,children:a.name.charAt(0)})}),b.jsx(xs,{primary:a.name,secondary:a.role})]})},a.id)),s.length===0&&b.jsx(Es,{children:b.jsx(xs,{primary:"No more team members available",secondary:"All team members have been added"})})]})})]})]})},gB=({competition:t,open:e=!0,onBack:n,onClose:r,onSubmit:i,onViewSubmissions:s,existingSubmission:o})=>{const[a,c]=I.useState({title:"",description:"",video:null,website:"",team:[]}),[u,h]=I.useState(!1),[f,p]=I.useState(!1),[g,v]=I.useState({}),y=()=>{const _={title:a.title.trim()?void 0:"Title is required",description:a.description.trim()?void 0:"Description is required",video:a.video?void 0:"Video is required"};return v(_),!Object.values(_).some(Boolean)},E=async()=>{if(y())try{h(!0),await i(a),p(!0)}catch(_){console.error("Submission error:",_)}finally{h(!1)}},S=_=>{c(L=>({...L,video:_,videoPreview:URL.createObjectURL(_)})),v(L=>({...L,video:void 0}))},w=()=>{a.videoPreview&&URL.revokeObjectURL(a.videoPreview),c(_=>({..._,video:null,videoPreview:void 0}))},T=_=>{c(L=>({...L,team:[...L.team,_]}))},C=_=>{c(L=>({...L,team:L.team.filter(D=>D.id!==_)}))};return b.jsxs(Kr,{open:e,onClose:r,PaperProps:{sx:{maxWidth:"800px",width:"100%",maxHeight:"95vh",margin:2,borderRadius:2}},children:[b.jsx(gi,{children:b.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[b.jsxs(ie,{display:"flex",alignItems:"center",gap:1,children:[b.jsx(At,{onClick:n,size:"small",children:b.jsx(qd,{})}),b.jsxs(ce,{variant:"h6",children:["Submit to ",t.title]})]}),b.jsx(At,{onClick:r,size:"small",children:b.jsx(is,{})})]})}),b.jsx(Jr,{children:b.jsxs(Ds,{spacing:3,sx:{mt:2},children:[b.jsx(gme,{videoFile:a.video,videoPreview:a.videoPreview,onVideoUpload:S,onVideoRemove:w,error:g.video}),b.jsx(vme,{title:a.title,description:a.description,website:a.website,onTitleChange:_=>{c(L=>({...L,title:_})),v(L=>({...L,title:void 0}))},onDescriptionChange:_=>{c(L=>({...L,description:_})),v(L=>({...L,description:void 0}))},onWebsiteChange:_=>{c(L=>({...L,website:_}))},errors:{title:g.title,description:g.description}}),b.jsx(bme,{members:a.team,onAddMember:T,onRemoveMember:C}),b.jsx(ie,{sx:{mt:4},children:b.jsx(Ds,{spacing:2,children:f?b.jsxs(b.Fragment,{children:[b.jsx(St,{variant:"contained",fullWidth:!0,color:"success",disabled:!0,children:"Pitch Submitted Successfully"}),b.jsx(St,{variant:"outlined",fullWidth:!0,onClick:s,children:"View All Submissions"}),b.jsx(St,{variant:"outlined",fullWidth:!0,onClick:n,children:"Back to Competition"})]}):b.jsxs(b.Fragment,{children:[b.jsx(St,{variant:"contained",fullWidth:!0,onClick:E,disabled:u||!a.video||!a.title||!a.description,children:u?"Submitting...":"Submit Pitch"}),b.jsx(St,{variant:"outlined",fullWidth:!0,onClick:n,disabled:u,children:"Back"})]})})})]})})]})},Eme=({open:t,onClose:e})=>{const[n,r]=I.useState(!1),[i,s]=I.useState(!1),[o,a]=I.useState(null),c=p=>{a(p)},u=p=>{a(p),s(!0)},h=()=>{r(!1)};return t?b.jsx(MF,{open:t,onClose:e,onView:c,onSubmitPitch:u,onViewLeaderboard:p=>console.log("View leaderboard for:",p)}):n?b.jsx(K_,{open:n,onClose:()=>r(!1),onCreateNew:()=>s(!0),onBack:h,submissionDashboardOpen:n,setSubmissionDashboardOpen:r}):i&&o?b.jsx(gB,{competition:o,onBack:()=>s(!1),onClose:()=>{s(!1),a(null)},onSubmit:async p=>{console.log("Submitting:",p),s(!1),a(null),r(!0)},onViewSubmissions:()=>{s(!1),r(!0)},existingSubmission:null,open:!1}):null},xme=({competition:t,existingSubmissions:e=[],onClose:n})=>{const[r,i]=I.useState("dashboard"),[s,o]=I.useState(null),[a,c]=I.useState(!1),[u,h]=I.useState(e),f=()=>{o(null),i("form")},p=S=>{const w=u.find(T=>T.id===S);w&&(o(w),i("form"))},g=S=>{const w=u.find(T=>T.id===S);w&&(o(w),i("detail"))},v=S=>{h(w=>w.filter(T=>T.id!==S))},y=async S=>{if(s){const w=u.map(T=>T.id===s.id?{...T,...S,updatedAt:new Date().toISOString(),video:{url:S.videoPreview||T.video.url,thumbnailUrl:S.videoPreview||T.video.thumbnailUrl,duration:T.video.duration}}:T);h(w)}else{const w={id:Date.now().toString(),name:S.title,competitionName:t.title,competitionId:t.id,date:new Date().toLocaleDateString(),status:"draft",teamSize:S.team.length,description:S.description,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),video:{url:S.videoPreview||"",thumbnailUrl:S.videoPreview,duration:0},documents:[],team:S.team};h(T=>[...T,w])}c(!0)},E=()=>{c(!1),i("dashboard")};return b.jsx(CG,{maxWidth:"lg",sx:{py:3},children:b.jsxs(ie,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[r==="dashboard"&&b.jsx(K_,{open:!0,onClose:n,onCreateNew:f,onView:g,onEdit:p,onDelete:v,submissions:u,competition:t,onBack:function(){throw new Error("Function not implemented.")},submissionDashboardOpen:!1,setSubmissionDashboardOpen:function(S){throw new Error("Function not implemented.")}}),r==="form"&&b.jsx(gB,{competition:t,existingSubmission:s,onBack:()=>i("dashboard"),onClose:n,onSubmit:y,onViewSubmissions:()=>i("dashboard"),open:!0}),r==="detail"&&s&&b.jsx(BF,{submission:s,onBack:()=>i("dashboard"),onClose:n,onEdit:()=>i("form")}),b.jsx(UF,{open:a,onClose:E,competitionName:t.title})]})})},Sme=({dialogStates:t,onSendVideo:e})=>{const{submissionFormOpen:n,setSubmissionFormOpen:r,selectedSubmission:i,setSelectedSubmission:s}=Yd(),o={id:"1",title:"Startup Pitch Competition",description:"Submit your startup pitch for a chance to win funding and mentorship",startDate:"2024-03-01",endDate:"2024-04-01",status:"ongoing",organizerName:"Techstars",organizerId:"org-123",dates:{start:"2024-03-01",end:"2024-04-01",submissionDeadline:"2024-03-25"},prizes:{grandPrize:"$50,000 Investment and Mentorship",firstPlace:"$25,000 Investment",runnerUp:"$10,000 Investment",otherPrizes:["Mentorship Program","Office Space for 6 months"]},rules:["All submissions must be original","Entries must be submitted before the deadline"]},a=[{id:"1",name:"Radiant Hue Pitch",competitionId:"1",competitionName:"Mentor Madness 2024",description:"Radiant Hue is a makeup brand that changes the narrative. We're dedicated to providing clean beauty products.",date:"2024-03-24",status:"submitted",teamSize:4,createdAt:"2024-03-20T12:00:00Z",updatedAt:"2024-03-24T10:00:00Z",video:{url:"https://example.com/videos/radiant-hue.mp4",thumbnailUrl:"/path/to/thumbnail.jpg",duration:120},documents:[],team:[{id:"t1",name:"Harper Lewis",role:"Founder",email:"harper@radianthue.com"},{id:"t2",name:"Alex Johnson",role:"CTO",email:"alex@radianthue.com"}]},{id:"2",name:"Product Demo v2",competitionId:"1",competitionName:"Startup Weekend",description:"Updated demo of our product featuring the latest improvements and user feedback.",date:"Feb 15, 2024",status:"draft",teamSize:3,createdAt:"2024-02-10T15:30:00Z",updatedAt:"2024-02-15T09:45:00Z",video:{url:"https://example.com/videos/product-demo-v2.mp4",thumbnailUrl:"/path/to/thumbnail2.jpg",duration:180},documents:[],team:[{id:"t5",name:"Jamie Wilson",role:"CEO",email:"jamie@example.com"},{id:"t6",name:"Casey White",role:"Developer",email:"casey@example.com"}]}];return b.jsxs(b.Fragment,{children:[b.jsx(Kr,{open:t.submissionDashboard.isOpen,onClose:()=>t.submissionDashboard.setOpen(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{height:"95vh",maxHeight:"95vh",margin:2,borderRadius:2,backgroundColor:"transparent",boxShadow:"none"}},children:b.jsx(xme,{competition:o,existingSubmissions:a,onClose:()=>t.submissionDashboard.setOpen(!1)})}),b.jsx(NF,{open:t.profile.isOpen,onClose:()=>t.profile.setOpen(!1)}),b.jsx(pme,{open:t.settings.isOpen,onClose:()=>t.settings.setOpen(!1)}),b.jsx(Eme,{open:t.competition.isOpen,onClose:()=>t.competition.setOpen(!1)}),b.jsx(OF,{open:t.versions.isOpen,onClose:()=>t.versions.setOpen(!1)}),b.jsx(FF,{open:t.media.isOpen,onClose:()=>t.media.setOpen(!1),onSendVideo:e,isVersionUpload:!1})]})};function Tme(){const t=Sw(),{dialogs:e,handleSendVideo:n,handleProfileClick:r,handleMenuClose:i,handleCommand:s,anchorEl:o}=NX(),a={submissionDashboard:e.submissionDashboard,dashboard:e.dashboard,profile:e.profile,settings:e.settings,media:e.media,competition:e.competition,versions:e.versions};return b.jsxs(tw,{theme:{theme:t},children:[b.jsx(s3,{}),b.jsxs(ie,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[b.jsx(fme,{setSubmissionDashboardOpen:e.submissionDashboard.setOpen,setProfileOpen:e.profile.setOpen,setSettingsOpen:e.settings.setOpen,anchorEl:o,handleProfileClick:r,handleMenuClose:i}),b.jsx(ie,{sx:{flexGrow:1,overflow:"hidden",backgroundColor:"background.default",position:"relative",display:"flex",flexDirection:"column",marginTop:"56px",paddingBottom:"70px"},children:b.jsx(dme,{onCommand:s})}),b.jsx(Sme,{dialogStates:a,onSendVideo:n})]})]})}const Ame=()=>{const t=Sw();return b.jsx(tw,{theme:{theme:t},children:b.jsx(uX,{children:b.jsx(Uq,{children:b.jsx(I3,{path:"/*",element:b.jsx(Tme,{})})})})})},wme=Sw();x6.createRoot(document.getElementById("root")).render(b.jsx(I.StrictMode,{children:b.jsxs(tw,{theme:wme,children:[b.jsx(s3,{enableColorScheme:!0}),b.jsx(Ame,{})]})}));
